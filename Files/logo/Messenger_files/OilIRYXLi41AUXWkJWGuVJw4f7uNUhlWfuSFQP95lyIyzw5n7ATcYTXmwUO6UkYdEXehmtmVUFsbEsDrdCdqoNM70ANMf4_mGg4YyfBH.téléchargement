if (self.CavalryLogger) { CavalryLogger.start_js(["1TaN0qi"]); }

__d("MercuryAPIArgsSource",[],(function(a,b,c,d,e,f){e.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"}}),null);
__d("MessageLiveLocationClientSyncProtocolStopReason",[],(function(a,b,c,d,e,f){e.exports={EXPIRED:1,CANCELED:2,ARRIVED:3}}),null);
__d("MercurySyncHolesTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDifference=function(a){this.$1.difference=a;return this};c.setSeqID=function(a){this.$1.seq_id=a;return this};c.setTopicType=function(a){this.$1.topic_type=a;return this};return a}();c={difference:!0,seq_id:!0,topic_type:!0};e.exports=a}),null);
__d("MessengerWebStgTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MessengerWebStgLoggerConfig")}),null);
__d("MessengerWebStgTypedLoggerLite.bs",["MessengerWebStgTypedLoggerLite"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MessengerWebStgTypedLoggerLite").log(a)}f.log=a}),null);
__d("MessengerSharedMediaActionsLoader",["JSResource"],(function(a,b,c,d,e,f){"use strict";f.deletePhotos=a;function a(a,c){b("JSResource").loadAll([b("JSResource")("MessengerSharedMediaActions").__setRef("MessengerSharedMediaActionsLoader")],function(b){b.deletePhotos(a,c)})}}),null);
__d("MercuryMessageIDs.bs",["KeyedCallbackManager","bs_curry","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";var g=new(b("KeyedCallbackManager"))();function a(a,c){var d=a.filter(function(a){return a.indexOf("id")===-1}),e=function(d){return b("bs_curry")._1(c,a.map(function(a){var c=b("bs_js_dict").get(d,a);if(c!==void 0)return c;else return a}))};return g.executeOrEnqueue(d,e)}function c(a,b){g.setResource(a,b)}f.getServerIDs=a;f.addServerID=c}),null);
__d("MessengerAttachmentTransformerForSend.bs",["MercuryAttachmentType","MessengerAttachmentTransformer.bs","MessengerMessageTransformer.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e){c=c.node;if(c==null)return{attach_type:b("MercuryAttachmentType").ERROR};if(c.__typename==="ExtensibleMessageAttachment"){var f=c.story_attachment,g=c.genie_attachment,h;if(g==null)h=null;else{g=g.genie_message;var i;if(g==null)i=null;else{g=g.story_attachment;i={story_attachment:g==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(g)}}h={genie_message:i}}g={legacy_attachment_id:c.legacy_attachment_id,story_attachment:f==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(f),genie_attachment:h}}else g=null;i=c.__typename==="Sticker"?c:null;f=c.__typename;var j;switch(f){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":j=[c];break;default:j=null}h=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments({blob_attachments:j});f=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:h,sticker:i},d,e);if(f.length!==0)return f[0];else return{}}function a(a,b,c,d){return b.map(function(b){return g(a,b,c,d)})}f._transform=g;f.transform=a}),null);
__d("MessengerFolders.bs",["MercuryFoldersConfig","MessagingThreadType","MessengerEnvironment","gkx","qex"],(function(a,b,c,d,e,f){"use strict";d=b("qex")._("998180")===!0&&b("MessengerEnvironment").messengerdotcom?["inbox","pending","other","action:archived","marketplace_folder"]:["inbox","pending","other","action:archived"];var g=d.filter(function(a){if(a==="pending")return!b("MercuryFoldersConfig").hide_message_filtered;else if(a==="other")return!b("MercuryFoldersConfig").hide_message_requests;else return!0});function a(a){return[].concat(g)}function c(a){if(a.is_archived)return"action:archived";var c=a.thread_type;if(!(c==null)&&c===b("MessagingThreadType").MARKETPLACE&&b("gkx")("965951"))return"marketplace_folder";else return a.folder}f.getSupportedFolders=a;f.getFromMeta=c}),null);
__d("MessengerPersonas.bs",["bs_js_dict","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){if(a==null)return;var c=b("bs_js_dict").get(g,a.id);if(c!==void 0)return;else{g[a.id]=a;return}}function c(a){return b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(g,a))}f.personas=g;f.addPersona=a;f.getNow=c}),null);
__d("MessengerRealtimeAttachmentTransformer.bs",["MessengerAttachmentTransformer.bs","MessengerMessageTransformer.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments(c),f=c.extensible_attachment,g;if(f==null)g=null;else{var h=f.story_attachment,i=f.genie_attachment,j;if(i==null)j=null;else{i=i.genie_message;var k;if(i==null)k=null;else{i=i.story_attachment;k={story_attachment:i==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(i)}}j={genie_message:k}}g={legacy_attachment_id:f.legacy_attachment_id,story_attachment:h==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(h),genie_attachment:j}}return b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:e,sticker:c.sticker},null,d)}f.transform=a}),null);
__d("MessengerSharedPhotosVideosBaseData.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return b("bs_js_dict").get(g,a)}function h(a,b){g[a]=b}function c(a,c){var d=b("bs_js_dict").get(g,a);if(d===void 0)return;var e=d.actualData;if(e===void 0)return;var f=e.edges;if(f.length===0)return;f=f.filter(function(a){return!c.some(function(b){return b===a.node.legacy_attachment_id})});d=d.fetchingState;f={edges:f,newestItemCursor:e.newestItemCursor,oldestItemCursor:e.oldestItemCursor,hasNextPage:e.hasNextPage};e={fetchingState:d,actualData:f};return h(a,e)}f.data=g;f.get=a;f.set=h;f.localRemove=c}),null);
__d("MessengerThreadFetcher.bs",["FBIDCheck","LogHistory","MercuryDispatcher","MercuryIDs","MercuryPayloadSource","MercuryThreadIDMap","MessengerGraphQLThreadFetcher.bs","Promise","bs_belt_Array","bs_caml_option","bs_curry","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a,c){var d=c.other_user_fbid;if(d==null){c=c.thread_fbid;if(c==null)throw{RE_EXN_ID:"Invalid_argument",_1:"Encountered thread with no server identifier",Error:new Error()};c=[c,b("MercuryIDs").getThreadIDFromThreadFBID(c)]}else c=[d,b("MercuryIDs").getThreadIDFromUserID(d)];d=c[1];c=c[0];a=b("MercuryThreadIDMap").getForFBID(a);var e={},f=a.getClientIDFromServerIDNow(c);if(f==null){b("gkx")("1199097")&&b("LogHistory").getInstance("MessengerThreadFetcher").debug("setServerIDToClientID",d);a.setServerIDToClientID(c,d);e[c]=d;return[d,e]}else return[f,e]}function i(a,c,d){var e=!b("FBIDCheck").isUser_deprecated(a);return b("MessengerGraphQLThreadFetcher.bs").fetchAll(a,[{id:c,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:d}],e).then(function(c){c=b("bs_belt_Array").get(c,0);if(c===void 0)return b("Promise").resolve(!1);c=b("bs_caml_option").valFromOption(c).thread;if(c==null)return b("Promise").resolve(!1);var d=h(a,c);b("MercuryDispatcher").getForFBID(a).handleUpdate({threads:[Object.assign(c,{thread_id:d[0]})],pinned_thread_ids:[],newlyAddedClientIDs:d[1],actions:[],preprocessed:!0,payload_source:b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO});return b("Promise").resolve(!0)})}function j(a,c,d){return i(a,c,d).then(function(d){var e=g.get(a);if(e==null)return b("Promise").resolve(!1);var f=e.get(c);if(f==null)return b("Promise").resolve(!1);else{b("bs_belt_Array").forEach(f[1],function(a){return b("bs_curry")._1(a,d)});e["delete"](c);return b("Promise").resolve(d)}})["catch"](function(e){var f=g.get(a);if(f==null)return b("Promise").resolve(!1);e=f.get(c);if(e==null)return b("Promise").resolve(!1);var h=e[1];e=e[0];if(e<5||b("gkx")("678666")){var k=Math.imul(Math.pow(2,Math.min(e,5))|0,1e3),l=new(b("Promise"))(function(e,g){b("setTimeoutAcrossTransitions")(function(g){i(a,c,d).then(function(a){e(a);b("bs_belt_Array").forEach(h,function(c){return b("bs_curry")._1(c,a)});f["delete"](c);return b("Promise").resolve(a)})["catch"](function(b){return j(a,c,d)})},k)});f.set(c,[e+1|0,h]);return l}f["delete"](c);return b("Promise").resolve(!1)})}function a(a,b,c,d){var e=g.get(a);if(e==null){var f=new Map();f.set(b,[0,[d]]);g.set(a,f);j(a,b,c);return}f=e.get(b);f==null?(e.set(b,[0,[d]]),j(a,b,c)):f[1].push(d)}f.$$fetch=a}),null);
__d("ClientSyncProtocol_GroupsSyncAction",[],(function(a,b,c,d,e,f){a=Object.freeze({OPT_IN:0,OPT_OUT:1,UPDATE_EMOJI:2});e.exports=a}),null);
__d("IrisProtocolMessageLifetime",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5,TTL_36HOURS:1296e5,TTL_72HOURS:2592e5})}),null);
__d("MSuggestionDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=new(b("ExplicitRegistrationDispatcher"))({strict:!1});e.exports=a}),null);
__d("MSuggestionActions",["MSuggestionDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";f.saveAllSuggestions=a;f.removeAllSuggestions=c;f.removeSuggestionsByType=d;var g=b("keyMirror")({SAVE_ALL_SUGGESTIONS:null,REMOVE_ALL_SUGGESTIONS:null,REMOVE_SUGGESTIONS_BY_TYPE:null});f.Types=g;function a(a,c){b("MSuggestionDispatcher").dispatch({type:g.SAVE_ALL_SUGGESTIONS,threadID:a,suggestions:c})}function c(a){a&&b("MSuggestionDispatcher").dispatch({type:g.REMOVE_ALL_SUGGESTIONS,threadID:a})}function d(a,c){b("MSuggestionDispatcher").dispatch({type:g.REMOVE_SUGGESTIONS_BY_TYPE,threadID:a,typeID:c})}}),null);
__d("MercuryGlobalActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({MARK_ALL_READ:"mga-type:mark-all-read",MARK_ALL_SEEN:"mga-type:mark-all-seen"});e.exports=a}),null);
__d("MercuryMessageCustomizations",[],(function(a,b,c,d,e,f){"use strict";f.parseCustomizations=a;function a(a){var b=JSON.parse(a),c=[];Object.keys(b).forEach(function(a){c.push({customization_type:a,customization_value:b[a]})});return c}}),null);
__d("MercuryProfileRanges",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!a.id&&a.i?{id:a.i,offset:a.o,length:a.l,type:a.t}:a}e.exports={extractFromDelta:function(a){a=(a=a)!=null?(a=a.data)!=null?a.prng:a:a;if(!a)return[];var b=[];try{b=JSON.parse(a);if(b.length>0)return b.map(g)}catch(a){}return b}}}),null);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};b=a;e.exports=b}),null);
__d("MessageThreadReadStateEffect",["MessageThreadReadState"],(function(a,b,c,d,e,f){"use strict";f.extractThreadStateEffectFromDelta=a;function a(a,c){var d=c.messageMetadata.threadReadStateEffect;if(d!=null){var e=b("MessageThreadReadState")[d];return e===void 0&&typeof d==="number"?d:e}d=c.messageMetadata.skipBumpThread;return d===!0?b("MessageThreadReadState").KEEP_AS_IS:a!==c.messageMetadata.actorFbId?b("MessageThreadReadState").MARK_UNREAD:b("MessageThreadReadState").KEEP_AS_IS}}),null);
__d("MessagingThreadAction",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"});e.exports=a}),null);
__d("MessengerApprovalModeTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN:0,APPROVALS:1});e.exports=a}),null);
__d("MessengerApprovalQueueTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({REQUESTED:"REQUESTED",REMOVED:"REMOVED"});e.exports=a}),null);
__d("MessengerGroupRequestSource",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD:0,JOIN_THROUGH_LINK:1});e.exports=a}),null);
__d("MessengerWebDeltaEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({DELTA_RECEIVED:"DELTA_RECEIVED",DELTA_IGNORED:"DELTA_IGNORED"});e.exports=a}),null);
__d("PagesMessagingEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3});e.exports=a}),null);
__d("MessengerDeltaTransformer.bs",["Bootloader","ClientSyncProtocol_GroupsSyncAction","DateConsts","FBID.bs","FBIDCheck","IrisProtocolMessageLifetime","MSuggestionActions","MercuryActionType","MercuryDispatcher","MercuryGlobalActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageCustomizations","MercuryPayloadSource","MercuryProfileRanges","MercuryServerRequests","MercurySyncDeltaTypes","MercuryThreadIDMap","MessageLiveLocationClientSyncProtocolStopReason","MessageThreadReadState","MessageThreadReadStateEffect","MessageUnsendabilityStatus.bs","MessagingThreadAction","MessengerApprovalModeTypes","MessengerApprovalQueueTypes","MessengerGroupRequestSource","MessengerGroupsSyncStatus","MessengerGroupsSyncStatus.bs","MessengerMessageDFFFetcher.bs","MessengerParticipantsFetcher.bs","MessengerRealtimeAttachmentTransformer.bs","MessengerState.bs","MessengerThreadFetcher.bs","MessengerWebDeltaEvents","MontageActions","PageCommItemStatus","PagesMessagingEventType","Promise","RepliedToMessageStatusForGraphQL","bs_belt_Array","bs_belt_Option","bs_caml_array","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx"],(function(a,b,c,d,e,f){"use strict";function g(a){try{return JSON.parse(a)}catch(a){return{}}}var h=b("gkx")("780647")?0:1;function i(a,c){var d=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.otherUserFbId),function(a){return a.toString()});c=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.threadFbId),function(a){return a.toString()});a=b("MercuryThreadIDMap").getForFBID(a);d=d!==void 0?[b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromUserID(b("FBID.bs").ofStringExn(d))),d]:c!==void 0?[b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(c))),c]:[void 0,void 0];c=d[1];d=d[0];if(c!==void 0&&d!==void 0)if(a.hasClientIDForServerID(c))return b("bs_caml_option").nullable_to_opt(a.getClientIDFromServerIDNow(c));else return b("bs_caml_option").valFromOption(d)}function j(a,b,c,d){if(!(a==null))return[a.toString(),{otherUserFbId:null,threadFbId:a}];if(b==null)return[void 0,void 0];a=c.toString()!==d?c:b;return[a.toString(),{otherUserFbId:a,threadFbId:null}]}function k(a,c){var d=parseInt(c.messageMetadata.timestamp,10),e=b("MessageThreadReadStateEffect").extractThreadStateEffectFromDelta(a,c),f={contents:c.messageMetadata.actorFbId.toString()},h=!b("FBIDCheck").isUser_deprecated(a),j=c.attachments;j=j==null?[]:b("bs_belt_Array").keepMapU(j,function(c){var d=c.mercury;if(d==null){c=c.mercuryJSON;c=c==null?null:g(c)}else c=d;if(c==null)return;d=c.extensible_attachment;var e=c.blob_attachment;c=c.sticker_attachment;c=d==null?e==null?c==null?[]:b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:null,blob_attachments:null,sticker:c},h):b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:null,blob_attachments:[e],sticker:null},h):b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:b("bs_js_null_undefined").fromOption(d==null?void 0:b("bs_caml_option").some(d)),blob_attachments:null,sticker:null},h);e=b("bs_belt_Array").get(c,0);if(e!==void 0){d=b("bs_caml_option").valFromOption(e).share;if(d==null)c=f.contents;else{d=d.target;if(d==null)c=f.contents;else{d=d.genie_id;c=d==null?f.contents:d}}}else c=f.contents;f.contents=c;return e});var k=c.messageMetadata.tags;k=k==null?void 0:b("bs_js_null_undefined").fromOption(b("bs_belt_Array").get(k,0));var l=c.data,m;if(l==null)m=null;else{var n=b("bs_js_dict").get(l,"adminSignatureCreatorID");m=n!==void 0?{creatorID:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignatureCreatorID")),creatorName:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignatureCreatorName")),creatorType:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignatureCreatorType")),labelType:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignatureLabelType")),pageID:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignaturePageID")),profileURI:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(l,"adminSignatureProfileURI"))}:null}n=f.contents;l=b("bs_caml_obj").caml_equal(e,b("MessageThreadReadState").MARK_UNREAD)&&a!==n;var o=i(a,c.messageMetadata.threadKey);if(o!==void 0){var p=c.ttl,q=c.messageMetadata.threadKey.threadFbId,r=c.messageMetadata.threadKey.otherUserFbId,s=c.body,t=c.data;if(t==null){var u=c.untypedData;u=u==null?!1:b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(u,"is_sponsored"),"false")==="true"}else u=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(t,"is_sponsored"),"false")==="true";t=c.data;var v=c.data,w;if(v==null)w=null;else{v=b("bs_js_dict").get(v,"customization");w=v!==void 0?b("MercuryMessageCustomizations").parseCustomizations(v):null}v=c.data;var x=c.data,y=c.data,z;if(y==null)z=null;else{y=b("bs_js_dict").get(y,"mib_direct_message_data");z=y!==void 0?g(y):null}y=c.data;var A;if(y==null)A=null;else{y=b("bs_js_dict").get(y,"message_source_data");if(y!==void 0){y=g(y);y=b("bs_js_json").classify(y);if(typeof y==="number"||y.TAG!==2)A=null;else{y=b("bs_js_dict").get(y._0,"message_source");A=y!==void 0?b("bs_js_null_undefined").fromOption(y):null}}else A=null}y=c.messageMetadata.skipBumpThread;var B=c.data,C;if(B==null)C=null;else{B=b("bs_js_dict").get(B,"montage_reply_data");C=B!==void 0?g(B):null}B=c.data;var D;if(B==null)D=null;else{B=b("bs_js_dict").get(B,"meta_ranges");D=B!==void 0?g(B):null}return{message_id:c.messageMetadata.messageId,threading_id:null,offline_threading_id:c.messageMetadata.offlineThreadingId,author:b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(n)),author_email:n+"@facebook.com",ephemeral_ttl_mode:p==null?0:b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("IrisProtocolMessageLifetime"),p),0),timestamp:d,is_unread:l,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_one_way_sent:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.messageMetadata.tags),[]).some(function(a){return a==="one_way_message"}),is_forwarded:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.messageMetadata.tags),[]).some(function(a){if(a==="action:copy_message"||a==="copy_self_message"||a==="action:copy_attachment")return!0;else return a==="copy_self_attachment"}),source:k,tags:c.messageMetadata.tags,is_spoof_warning:!1,folder:null,thread_fbid:q==null?null:q.toString(),other_user_fbid:r==null?null:r.toString(),body:s==null?"":s,html_body:null,subject:null,has_attachment:j.length!==0,attachments:j,ranges:void 0,thread_id:o,action_type:b("MercuryActionType").USER_GENERATED_MESSAGE,is_from_iris:!0,is_sponsored:u,commerce_message_type:t==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(t,"commerce_message_type")),customizations:w,platform_xmd:v==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(v,"platform_xmd")),profile_ranges:b("MercuryProfileRanges").extractFromDelta(c),verse_group_role_xmd:x==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(x,"verse_group_role_id")),mib_direct_message_data:z,message_source:A,skip_bump_thread:y==null?!1:y,thread_read_state_effect:e,montage_reply_data:C,meta_ranges:D,creator_info:m,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(c.messageMetadata.unsendType),comm_status:h?b("PageCommItemStatus").TODO:null}}throw{RE_EXN_ID:"Invalid_argument",_1:"invalid thread id",Error:new Error()}}function l(a,c,d,e){b("Bootloader").loadModules(["MessengerWebDeltasTypedLogger.bs"],function(f){f=b("bs_curry")._1(f.messengerWebDeltasTypedLogger,void 0);f=f.setDeltaEvent(a).setDeltaType(c).setIgnoreReason(d).setSyncSeqID(e);f.log()},"MessengerDeltaTransformer.bs")}function m(a){return l(b("MessengerWebDeltaEvents").DELTA_RECEIVED,a,null,null)}function n(a,c){return l(b("MessengerWebDeltaEvents").DELTA_IGNORED,a,c,null)}function o(a,c,d,e,f){return b("MessengerThreadFetcher.bs").$$fetch(a,c,d,function(c){if(c){b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[e],pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});return m(f)}else return n(f,"thread fetch failed")})}function p(a,c,d,e){var f=c.other_user_fbid;if(f==null){var g=c.thread_fbid;if(g==null)throw{RE_EXN_ID:"Invalid_argument",_1:"invalid thread id",Error:new Error()};g=[g,!1]}else g=[f,!0];f=g[1];g=g[0];var h=b("MercuryThreadIDMap").getForFBID(a);h=h.getClientIDFromServerIDNow(g);var i=h==null?null:b("MessengerState.bs").getThreadMetaNow(a,h),j=b("gkx")("1143875");if(h==null)if(e)return o(a,g,f,c,d);else return n(d,"thread not already loaded, not required to be loaded");if(i==null)if(e){if(j)return o(a,g,f,c,d);if(j)return n(d,"thread not already loaded, not required to be loaded")}else if(j)return n(d,"thread not already loaded, not required to be loaded");b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[c],pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});return m(d)}function q(a,c){var d=a.threadId,e=b("MercuryIDs").isGroupChat(d);d=b("MercuryIDs").getThreadFBIDFromThreadID(d);e={action_type:b("MercuryActionType").PIN_MESSAGE,thread_fbid:e?d:null,other_user_fbid:e?null:d,thread_id:a.threadId,actor_fbid:a.actorFbid,pin_message_action:{message:{message_id:a.pinnedMessage.pinnedMessageId,pinning_time:a.pinnedMessage.timestamp,is_content_loaded:!0,message:c}}};return p(a.viewerFBID,e,"DeltaClientDelta.deltaUpdatePinnedMessage",h)}function r(a,c,d){var e=a.viewerFBID,f=a.pinnedMessage.pinnedMessageId,g=b("MessengerState.bs").getMessageFromID(a.viewerFBID,f);if(g!==void 0)return q(a,b("bs_caml_option").valFromOption(g));else{b("MessengerMessageDFFFetcher.bs").fetch_(e,{message_id:f,thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(a.threadId)},!1).then(function(d){q(a,d);b("bs_curry")._1(c,d);return b("Promise").resolve(void 0)})["catch"](function(c){q(a,null);b("bs_curry")._1(d,c);return b("Promise").resolve(void 0)});return}}function s(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=i(a,b("bs_caml_option").valFromOption(f));if(d!==void 0)return{thread_id:d,action_type:b("MercuryActionType").REACTION_UPDATE,messageId:c.messageId,offlineThreadingId:c.offlineThreadingId,reaction:c.reaction,senderId:c.senderId.toString(),thread_fbid:e.toString(),other_user_fbid:null,userId:c.userId.toString()}}function t(a){return a/Math.pow(10,8)}function u(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d),f=c.threadKey.otherUserFbId,g=f==null?void 0:b("bs_caml_option").some(f);d=d==null?f==null?[void 0,void 0]:[g,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(g)}]:[e,{otherUserFbId:b("bs_js_null_undefined").fromOption(e),threadFbId:null}];f=d[1];g=d[0];if(g===void 0)return;if(f===void 0)return;e=i(a,b("bs_caml_option").valFromOption(f));if(e===void 0)return;if(c.messageLiveLocations.length!==1)return;d=b("bs_caml_array").get(c.messageLiveLocations,0);a=d.expirationTime;f=d.stopReason;c=f==null?Date.now()/b("DateConsts").MS_PER_SEC>a:!0;f=d.coordinate;f=f==null?null:{latitude:t(f.latitude),longitude:t(f.longitude)};var h=d.destination;h=h==null?null:{latitude:t(h.latitude),longitude:t(h.longitude),label:h.label};var j=d.stopReason;j=j==null?null:j===b("MessageLiveLocationClientSyncProtocolStopReason").EXPIRED||j===b("MessageLiveLocationClientSyncProtocolStopReason").CANCELED?"EXPIRED":j===b("MessageLiveLocationClientSyncProtocolStopReason").ARRIVED?"ARRIVED":null;return{thread_id:e,action_type:b("MercuryActionType").LIVE_LOCATION_UPDATE,thread_fbid:g.toString(),other_user_fbid:null,messageId:d.messageId,liveLocation:{live_location_id:d.id.toString(),is_expired:c,expiration_time:a,sender:{id:d.senderId.toString()},coordinate:f,location_title:d.locationTitle,sender_destination:h,stop_reason:j}}}function v(a,c){var d=c.threadKey.threadFbId;if(d==null)return;a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").EVENT_RSVP_CHANGED,actor_fbid:c.actorFbId.toString(),rsvp_status:c.rsvpStatus,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}function w(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").UPDATE_COMM_STATUS,comm_status:c.isFollowUp?b("PageCommItemStatus").FOLLOW_UP:b("PageCommItemStatus").TODO,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}function x(a,c){var d=[];c.forEach(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(!(a==null)){d.push(a);return}});return b("MessengerParticipantsFetcher.bs").$$fetch({ids:d}).then(function(c){var d=[],e=[];c.forEach(function(a){var b=a.id;a.is_messenger_blocked||a.is_facebook_blocked?d.push(b):e.push(b)});b("MercuryDispatcher").getForFBID(a).handleUpdate({from_client:!0,message_blocked_ids:d,message_unblocked_ids:e});return b("Promise").resolve(void 0)})["catch"](function(a){return b("Promise").resolve(void 0)})}function y(a,c){var d=c.actorFbid.toString(),e=b("FBID.bs").ofStringExn(d);if(b("bs_caml_obj").caml_notequal(e,a))e=b("bs_caml_option").some(b("MercuryIDs").getParticipantIDFromUserID(a));else{var f=c.threadKey.otherUserFbId;if(f==null)e=void 0;else{f=b("FBID.bs").ofString(f.toString());e=f!==void 0?b("bs_caml_option").some(b("MercuryIDs").getParticipantIDFromUserID(b("bs_caml_option").valFromOption(f))):void 0}}if(e===void 0)return;f=b("bs_caml_option").valFromOption(e);e=c.threadKey.otherUserFbId;if(e==null)return;x(a,[f]);a=i(a,{otherUserFbId:e,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").BLOCK_STATUS_CHANGED,actorFbid:d,canViewerReply:c.canViewerReply,reason:c.reason,message_blocked_ids:[f],other_user_fbid:e.toString(),thread_fbid:null,thread_id:a}}function z(a,c){var d=c.threadKey.threadFbId;if(d==null){var e=c.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=i(a,b("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:b("MercuryActionType").MONTAGE_DIRECT_EXPIRE,messageId:c.messageId,timestamp:c.timestamp,thread_fbid:e,other_user_fbid:null,keep_expiry_timestamp:c.keepExpiryTimestamp,thread_id:a}}function A(a,c){var d=k(a,c.message),e=c.repliedToMessage;if(e==null)return b("bs_caml_option").some(d);a=k(a,e);e=c.status;var f;if(e==null)f=void 0;else switch(e){case 0:f=b("bs_caml_option").some(b("RepliedToMessageStatusForGraphQL").VALID);break;case 1:f=b("bs_caml_option").some(b("RepliedToMessageStatusForGraphQL").DELETED);break;case 2:f=b("bs_caml_option").some(b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE);break;default:f=void 0}if(f!==void 0)return b("bs_caml_option").some(Object.assign(d,{replied_to_message:{status:b("bs_caml_option").valFromOption(f),message:a}}))}function B(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=i(a,b("bs_caml_option").valFromOption(f));if(d!==void 0)return{action_type:b("MercuryActionType").GROUPS_SYNC_STATUS_CHANGED,thread_fbid:e.toString(),other_user_fbid:null,actor_fbid:c.actorFbid.toString(),groups_sync_status_string:b("MessengerGroupsSyncStatus.bs").fromNullableString(c.groupsSyncStatus),thread_id:d}}function C(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];d=c.syncAction===b("ClientSyncProtocol_GroupsSyncAction").OPT_IN?b("bs_caml_option").some(b("MessengerGroupsSyncStatus").OPT_IN):c.syncAction===b("ClientSyncProtocol_GroupsSyncAction").OPT_OUT?b("bs_caml_option").some(b("MessengerGroupsSyncStatus").OPT_OUT):void 0;if(e===void 0)return;if(d===void 0)return;if(f===void 0)return;a=i(a,b("bs_caml_option").valFromOption(f));if(a===void 0)return;f=c.syncedFbGroupId;return{action_type:b("MercuryActionType").GROUPS_SYNC_METADATA_UPDATE,thread_fbid:e.toString(),other_user_fbid:null,actor_fbid:c.actorFbid.toString(),groups_sync_action:b("bs_caml_option").valFromOption(d),source_surface:c.sourceSurface,fb_group_id:f==null?null:f.toString(),thread_id:a,emoji_codepoints:c.emojiCodePoints}}function D(a,c){var d=c.threadKey.threadFbId;if(d==null)return;a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").DESCRIPTION_CHANGED,thread_fbid:d.toString(),other_user_fbid:null,group_thread_description_string:c.threadDescription,thread_id:a}}function E(a){return"#"+a.slice(2)}function F(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=i(a,b("bs_caml_option").valFromOption(f));if(d===void 0)return;a=c.fallbackColor!==""?E(c.fallbackColor):"";f=c.reactionPack;var g;if(f==null)g=[void 0,void 0];else{var h=f.reactionAssets;f=f.fontAsset;g=[h==null?void 0:h.map(function(a){return{reactionName:a.reactionName,reactionEmoji:a.reactionEmoji,keyframeAssetUri:a.keyframeAssetUri}}),f==null?void 0:f.assetUri]}h=g[1];f=g[0];g=c.gradientColors;if(!(g==null)&&g.length!==0){g=b("bs_belt_Array").map(g,E);return{action_type:b("MercuryActionType").UPDATE_THREAD_THEME,thread_fbid:e.toString(),other_user_fbid:null,theme_id:c.themeId.toString(),solid_color:a,header_color:b("bs_caml_array").get(g,0),footer_color:b("bs_caml_array").get(g,g.length-1|0),gradient_colors:g,thread_id:d,reactions:f,reactionFont:h}}return{action_type:b("MercuryActionType").UPDATE_THREAD_THEME,thread_fbid:e.toString(),other_user_fbid:null,theme_id:c.themeId.toString(),solid_color:a,header_color:a,footer_color:a,gradient_colors:[],thread_id:d,reactions:f,reactionFont:h}}function G(a,c,d){var e=c.pinnedMessage,f=j(c.threadKey.threadFbId,c.threadKey.otherUserFbId,c.actorFbid,a);f=f[1];var g=function(a){},h=function(a){d.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"error on fetching pinned message payload"}};if(f===void 0){d.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed"};return}f=i(a,b("bs_caml_option").valFromOption(f));if(f!==void 0)return r({viewerFBID:a,threadId:f,actorFbid:c.actorFbid.toString(),pinnedMessage:e},g,h);else{d.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed"};return}}function H(a,c){var d=j(c.threadKey.threadFbId,c.threadKey.otherUserFbId,c.actorFbid,a),e=d[1];d=d[0];if(d===void 0)return;if(e===void 0)return;e=b("bs_caml_option").valFromOption(e);a=i(a,e);if(a!==void 0)return{action_type:b("MercuryActionType").UNPIN_MESSAGE,thread_fbid:e.threadFbId===null?null:d,other_user_fbid:e.otherUserFbId===null?null:d,thread_id:a,unpin_message_action:{message_id:c.pinnedMessage.pinnedMessageId},actor_fbid:c.actorFbid.toString()}}function I(a,c){var d=c.threadKey.threadFbId;if(d==null){var e=c.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=i(a,b("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:b("MercuryActionType").CHANGE_PINNED_STATUS,thread_fbid:e,other_user_fbid:null,is_pinned:c.isPinned,thread_id:a,thread_pin_timestamp:c.timestamp}}function J(a,c){var d=c.threadKey.threadFbId,e=c.threadKey.otherUserFbId;e=d==null?e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]:[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e===void 0)return;if(d===void 0)return;a=i(a,b("bs_caml_option").valFromOption(d));if(a!==void 0)return{action_type:b("MercuryActionType").MUTATE_TAGS,thread_fbid:e,other_user_fbid:null,thread_id:a,messageId:c.messageId,tags_to_add:c.isSaved?["message:save"]:[],tags_to_delete:c.isSaved?[]:["message:save"]}}function K(a,c){var d=c.threadKey.threadFbId;if(d==null)return;a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").UPDATE_JOINABLE_LINK,joinable_link:c.privateGroupLink,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}function L(a){a=a.directives;if(a==null)return;a=b("bs_belt_Array").get(a,0);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).data;if(a==null)return;a=a.add_actions;if(a==null)return;var c=a.actions;if(c==null)return;c=b("bs_belt_Array").get(c,0);if(c===void 0)return;c=b("bs_caml_option").valFromOption(c).thread_key;if(c==null)return;var d=c.thread_fbid;c=c.other_user_fbid;if(d==null){if(c==null)return;c=c}else c=d;return{action_type:b("MercuryActionType").CREATE_OMNI_M_SUGGESTIONS,thread_fbid:b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(c)),other_user_fbid:null,thread_id:c,suggestions:a}}function M(a,c){var d=c.threadKey.threadFbId;if(d==null)return;a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").PROMOTE_GROUP_ADMINS,thread_fbid:d.toString(),other_user_fbid:null,promoted_admins:b("bs_belt_Array").map(c.promotedAdmins,function(a){return{admin_fbid:a.adminFbId.toString(),admin_type:a.adminType}}),thread_id:a}}function N(a,c){var d=c.threadKey.threadFbId,e=c.threadKey.otherUserFbId;if(d==null){if(e==null)return;var f=i(a,{otherUserFbId:e,threadFbId:null});if(f!==void 0)return{action_type:b("MercuryActionType").REMOVE_MESSAGE,thread_fbid:null,messageId:c.messageID,other_user_fbid:e.toString(),removed_timestamp:c.deletionTimestamp,thread_id:f,author:b("MercuryIDs").getParticipantIDFromUserID(c.senderID)};else return}e=i(a,{otherUserFbId:null,threadFbId:d});if(e!==void 0)return{action_type:b("MercuryActionType").REMOVE_MESSAGE,thread_fbid:d.toString(),messageId:c.messageID,other_user_fbid:null,removed_timestamp:c.deletionTimestamp,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(c.senderID)}}function O(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").UNSUBSCRIBE_STATUS_UPDATE,page_unsubscribe_status:c.unSubscribeStatus,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}function P(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").BLURRED_IMAGE_STATUS,blurred_image_uri:c.blurredImageUri,image_message_id:c.messageId,image_id:c.imageId,should_show:c.shouldShow,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}function Q(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").IS_PIN_PROTECTED,thread_fbid:d.toString(),other_user_fbid:null,is_pin_protected:c.isPinProtected,thread_id:a}}function R(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").UPDATE_CONNECTIVITY_STATUS,other_user_fbid:d.toString(),subtitle_type:c.subtitleType,thread_connectivity_status:c.threadConnectivityStatus,thread_fbid:d.toString(),thread_id:a}}function S(a,c){var d=c.threadkey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").ADS_CONVERSION_UPDATE,other_user_fbid:d.toString(),thread_fbid:d.toString(),thread_id:a,conversion_detection_data:{is_eligible:c.isEligible,conversion_type:c.conversionType,currency_code:c.currencyCode,currency_amount:c.currencyAmount,timestamp:c.timestamp,classifier:c.classifier,page_reply:c.pageReply,icebreaker_key:c.icebreakerKey,icebreaker_message:c.icebreakerMessage,trigger_id:c.triggerId}}}function T(a,c){var d=c.threadkey.otherUserFbId;if(d==null)return;a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").SUGGESTED_REPLY_UPDATE,other_user_fbid:d.toString(),thread_fbid:d.toString(),thread_id:a,suggested_reply_data:{suggestion_type:c.suggestionType,suggestion_content:c.suggestionContent,triggered_timestamp:c.triggeredTimestamp,trigger_id:c.triggerId}}}function U(a,c){var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_caml_option").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_caml_option").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e===void 0)return;if(f===void 0)return;d=i(a,b("bs_caml_option").valFromOption(f));if(d!==void 0)return{thread_id:d,action_type:b("MercuryActionType").UPDATE_SECONDARY_LANGUAGE_BODY,messageId:c.messageId,thread_fbid:e.toString(),other_user_fbid:null,secondary_language_body:c.secondaryLanguageBody}}var V=function(a){return String.fromCharCode.apply(null,a)};function W(a,c){c=JSON.parse(V(c.payload));c=b("bs_js_json").classify(c);if(typeof c==="number")return{TAG:1,_0:"DeltaClientDelta",_1:"malformed payload"};if(c.TAG!==2)return{TAG:1,_0:"DeltaClientDelta",_1:"malformed payload"};c=b("bs_js_dict").get(c._0,"deltas");if(c===void 0)return{TAG:1,_0:"DeltaClientDelta",_1:"client delta has no deltas"};c=b("bs_js_json").classify(b("bs_caml_option").valFromOption(c));if(typeof c==="number")return{TAG:1,_0:"DeltaClientDelta",_1:"delta is not an array"};if(c.TAG!==3)return{TAG:1,_0:"DeltaClientDelta",_1:"delta is not an array"};c=b("bs_belt_Array").get(c._0,0);if(c===void 0)return{TAG:1,_0:"DeltaClientDelta",_1:"client delta is missing"};c=b("bs_js_json").classify(b("bs_caml_option").valFromOption(c));if(typeof c==="number")return{TAG:1,_0:"DeltaClientDelta",_1:"client delta is not an object"};if(c.TAG!==2)return{TAG:1,_0:"DeltaClientDelta",_1:"client delta is not an object"};c=c._0;var d=!1,e={contents:0},f=b("bs_js_dict").get(c,"deltaMessageReaction");if(f!==void 0){d=!0;f=s(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaMessageReaction",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaMessageReaction",_1:"transform failed"}}f=b("bs_js_dict").get(c,"liveLocationData");if(f!==void 0&&!d){d=!0;f=u(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.liveLocationData",h):e.contents={TAG:1,_0:"DeltaClientDelta.liveLocationData",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdateGroupEventRSVPStatus");if(f!==void 0&&!d){d=!0;f=v(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupEventRSVPStatus",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdateGroupEventRSVPStatus",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaPageThreadFollowUpData");if(f!==void 0&&!d){d=!0;f=w(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaPageThreadFollowUpData",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaPageThreadFollowUpData",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaChangeViewerStatus");if(f!==void 0&&!d){d=!0;f=y(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaChangeViewerStatus",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaChangeViewerStatus",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaMontageDirectExpire");if(f!==void 0&&!d){d=!0;f=z(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaMontageDirectExpire",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaMontageDirectExpire",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaMessageReply");if(f!==void 0&&!d){d=!0;f=A(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaMessageReply",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaMessageReply",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdateGroupsSyncStatus");if(f!==void 0&&!d){d=!0;f=B(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupsSyncStatus",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdateGroupsSyncStatus",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdateGroupsSyncMetadata");if(f!==void 0&&!d){d=!0;f=C(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupsSyncMetadata",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdateGroupsSyncMetadata",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaGroupThreadDescription");if(f!==void 0&&!d){d=!0;f=D(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaGroupThreadDescription",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaGroupThreadDescription",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdateThreadTheme");if(f!==void 0&&!d){d=!0;f=F(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdateThreadTheme",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdateThreadTheme",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdateSavedMessage");if(f!==void 0&&!d){d=!0;f=J(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdateSavedMessage",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdateSavedMessage",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdatePinnedThread");if(f!==void 0&&!d){d=!0;f=I(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdatePinnedThread",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePinnedThread",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaUpdatePinnedMessage");if(f!==void 0&&!d){f=b("bs_caml_option").valFromOption(f);d=!0;if(f.pinnedMessageAction===0)G(a,f,e);else{f=H(a,f);f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdatePinnedMessage",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePinnedMessage",_1:"transform failed"}}}f=b("bs_js_dict").get(c,"deltaUpdatePrivateGroupJoinableLink");if(f!==void 0&&!d){d=!0;f=K(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaOmniMDirectivesV2");if(f!==void 0&&!d){d=!0;f=L(b("bs_caml_option").valFromOption(f));if(f!==void 0){f=b("bs_caml_option").valFromOption(f);e.contents={TAG:0,_0:"DeltaClientDelta.deltaOmniMDirectivesV2"};b("MSuggestionActions").saveAllSuggestions(f.thread_id,f.suggestions)}else e.contents={TAG:1,_0:"DeltaClientDelta.deltaOmniMDirectivesV2",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaPromoteGroupThreadAdmin");if(f!==void 0&&!d){d=!0;f=M(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaPromoteGroupThreadAdmin",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaPromoteGroupThreadAdmin",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaRecallMessageData");if(f!==void 0&&!d){d=!0;f=N(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaRecallMessageData",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaRecallMessageData",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaPageUnSubscribeStatus");if(f!==void 0&&!d){d=!0;f=O(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaPageUnSubscribeStatus",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaPageUnSubscribeStatus",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaPageBlurredImageStatus");if(f!==void 0&&!d){d=!0;f=P(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaPageBlurredImageStatus",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaPageBlurredImageStatus",_1:"transform failed"}}f=b("bs_js_dict").get(c,"deltaPaymentPinProtectionStatusData");if(f!==void 0){if(!d){d=!0;f=Q(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaPaymentPinProtectionStatusData",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaPaymentPinProtectionStatusData",_1:"transform failed"}}}else d||(e.contents={TAG:1,_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(c).join(",")});f=b("bs_js_dict").get(c,"deltaThreadConnectivityStatusUpdate");if(f!==void 0){if(!d){d=!0;f=R(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaThreadConnectivityStatusUpdateData",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaThreadConnectivityStatusUpdateData",_1:"transform failed"}}}else d||(e.contents={TAG:1,_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(c).join(",")});f=b("bs_js_dict").get(c,"deltaMessengerAdsConversionUpdate");if(f!==void 0){if(!d){d=!0;f=S(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaMessengerAdsConversionUpdate",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaMessengerAdsConversionUpdate",_1:"transform failed"}}}else d||(e.contents={TAG:1,_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(c).join(",")});f=b("bs_js_dict").get(c,"deltaMessengerBusinessSuggestedReplyUpdate");if(f!==void 0){if(!d){d=!0;f=T(a,b("bs_caml_option").valFromOption(f));f!==void 0?p(a,b("bs_caml_option").valFromOption(f),"DeltaClientDelta.deltaMessengerBusinessSuggestedReplyUpdate",h):e.contents={TAG:1,_0:"DeltaClientDelta.deltaMessengerBusinessSuggestedReplyUpdate",_1:"transform failed"}}}else d||(e.contents={TAG:1,_0:"DeltaClientDelta",_1:"unknown delta type: "+Object.keys(c).join(",")});f=b("bs_js_dict").get(c,"deltaSecondaryLanguageBody");if(f!==void 0&&!d){d=!0;c=U(a,b("bs_caml_option").valFromOption(f));c!==void 0?p(a,b("bs_caml_option").valFromOption(c),"DeltaClientDelta.secondaryLanguageBody",h):e.contents={TAG:1,_0:"DeltaClientDelta.secondaryLanguageBody",_1:"transform failed"}}return e.contents}function X(a,c){var d=[],e=[],f=c.folders,g=0;f==null||f.length===0?g=1:b("bs_belt_Array").forEachU(f,function(a){d.push({action_type:b("MercuryGlobalActionType").MARK_ALL_READ,action_id:null,folder:b("bs_js_dict").get(b("MessengerState.bs").irisMapping,a),timestamp:parseInt(c.watermarkTimestamp,10)})});g===1&&b("bs_belt_Array").forEachU(c.threadKeys,function(d){var f=i(a,d);if(f===void 0)return;var g=parseInt(c.watermarkTimestamp,10);b("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(g);e.push({thread_id:f,action_type:b("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:d.otherUserFbId,thread_fbid:d.threadFbId,mark_as_read:!0,timestamp:g,folder:"inbox"})});return[d,e]}function Y(a){if(a==null)return null;else return a.toString()}function Z(a){a=a.skipBumpThread;if(!(a==null)&&a)return h;else return 1}function $(a,c){var d;switch(c.TAG|0){case 0:var e=c._0,f=k(a,e);p(a,f,"deltaNewMessage",Z(e.messageMetadata));d=0;break;case 1:f=c._0;p(a,Object.assign(k(a,f.newMessage),{action_type:b("MercuryActionType").REPLACE_MESSAGE,replaced_message_id:f.replacedMessageId}),"deltaReplaceMessage",h);d=0;break;case 2:e=c._0;f=e.threadKey.otherUserFbId;var g;if(f==null){var j=e.threadKey.threadFbId;if(j==null)g=void 0;else{var l=b("MercuryThreadIDMap").getForFBID(a);l=l.getClientIDFromServerIDNow(j.toString());g=l==null?void 0:b("bs_caml_option").some(l)}}else{j=b("FBID.bs").ofString(f.toString());g=j!==void 0?b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromUserID(b("bs_caml_option").valFromOption(j))):void 0}if(g!==void 0){l={};f=parseInt(e.deliveredWatermarkTimestampMs,10);l[b("bs_caml_option").valFromOption(g)]=f;b("MercuryDispatcher").getForFBID(a).handleUpdate({delivery_receipts:l,pinned_thread_ids:[],newlyAddedClientIDs:{},actions:[],preprocessed:!0});d={TAG:0,_0:"DeltaDeliveryReceipt"}}else d={TAG:1,_0:"DeltaDeliveryReceipt",_1:"no thread id"};break;case 3:j=X(a,c._0);e=j[1];g=j[0];g.length!==0&&b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],global_actions:g,pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});e.length!==0&&b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:e,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=g.length===0&&e.length===0?{TAG:1,_0:"DeltaMarkRead",_1:"no local or global action"}:{TAG:0,_0:"DeltaMarkRead"};break;case 4:var o=c._0;f=b("bs_belt_Array").keepMapU(o.threadKeys,function(c){var d=i(a,c);if(d===void 0)return;var e=parseInt(o.watermarkTimestamp,10);b("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(e);return{thread_id:d,action_type:b("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId,mark_as_read:!1,timestamp:e,folder:"inbox"}});b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:f,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaMarkUnread"};break;case 5:l=c._0;p(a,Object.assign(k(a,l),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:l.messageMetadata.adminText,log_message_data:{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(l.leftParticipantFbId)]},log_message_type:b("MercuryLogMessageType").UNSUBSCRIBE}),"DeltaParticipantLeftGroupThread",Z(l.messageMetadata));d=0;break;case 6:j=c._0;p(a,Object.assign(k(a,j),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:j.messageMetadata.adminText,log_message_data:{added_participants:b("bs_belt_Array").map(j.addedParticipants,function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.userFbId)})},log_message_type:b("MercuryLogMessageType").SUBSCRIBE}),"DeltaParticipantsAddedToGroupThread",Z(j.messageMetadata));d=0;break;case 7:g=c._0;p(a,Object.assign(k(a,g),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:g.messageMetadata.adminText,log_message_data:{name:g.name},log_message_type:b("MercuryLogMessageType").THREAD_NAME}),"DeltaThreadName",Z(g.messageMetadata));d=0;break;case 8:e=c._0;f={watermark:parseInt(e.watermarkTimestampMs,10),action:parseInt(e.actionTimestampMs,10)};l=e.threadKey.otherUserFbId;j=l==null?b("bs_caml_option").nullable_to_opt(e.actorFbId):l.toString();g=e.threadKey.otherUserFbId;if(g==null){l=e.threadKey.threadFbId;e=l==null?void 0:l.toString()}else e=g.toString();if(j!==void 0)if(e!==void 0){l=b("MercuryThreadIDMap").getForFBID(a);g=l.getClientIDFromServerIDNow(e);if(g==null)d={TAG:1,_0:"DeltaReadReceipt",_1:"No clientID for serverID: "+e};else{l={};e={};j=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(j));e[j]=f;l[g]=e;b("MercuryDispatcher").getForFBID(a).handleUpdate({roger:l,pinned_thread_ids:[],newlyAddedClientIDs:{},actions:[],preprocessed:!0});d={TAG:0,_0:"DeltaReadReceipt"}}}else d={TAG:1,_0:"DeltaReadReceipt",_1:"serverID is invalid"};else d={TAG:1,_0:"DeltaReadReceipt",_1:"userID is invalid"};break;case 9:j=c._0;p(a,Object.assign(k(a,j),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:j.messageMetadata.adminText,log_message_data:{message_type:j.type,untypedData:j.untypedData},log_message_type:b("MercuryLogMessageType").GENERIC_ADMIN_TEXT,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(j.messageMetadata.unsendType)}),"DeltaAdminTextMessage",Z(j.messageMetadata));d=0;break;case 10:f=c._0;g=i(a,{otherUserFbId:f.threadKey.otherUserFbId,threadFbId:f.threadKey.threadFbId});e=g!==void 0?{action_type:b("MercuryActionType").DELETE_MESSAGES,message_ids:f.messageIds,other_user_fbid:Y(f.threadKey.otherUserFbId),thread_fbid:Y(f.threadKey.threadFbId),thread_id:g}:void 0;l=f.threadKey.threadFbId;j=f.folder;if(e!==void 0){g=b("bs_caml_option").valFromOption(e);l==null||j==null?(p(a,g,"DeltaMessageDelete",h),d=0):(j==="FOLDER_MONTAGE"?b("MontageActions").requestUpdate(l.toString()):p(a,g,"DeltaMessageDelete",h),d=0)}else d={TAG:1,_0:"DeltaMessageDelete",_1:"transform failed"};break;case 11:f=c._0;e=i(a,{otherUserFbId:f.threadKey.otherUserFbId,threadFbId:f.threadKey.threadFbId});if(e!==void 0){j=f.action;p(a,{action_type:b("MercuryActionType").CHANGE_ARCHIVED_STATUS,thread_fbid:Y(f.threadKey.threadFbId),other_user_fbid:Y(f.threadKey.otherUserFbId),archived:j==null?!1:j===b("MessagingThreadAction").ACTION_ARCHIVED,thread_id:e},"DeltaThreadAction",h);d=0}else d={TAG:1,_0:"DeltaThreadAction",_1:"transform failed"};break;case 12:l=b("bs_belt_Array").keepMapU(c._0.threadKeys,function(c){var d=i(a,c);if(d!==void 0)return{thread_id:d,action_type:b("MercuryActionType").DELETE_THREAD,other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId}});b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:l,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaThreadDelete"};break;case 13:g=c._0;f=i(a,{otherUserFbId:null,threadFbId:g.messageMetadata.threadKey.threadFbId});f!==void 0?(p(a,{action_type:b("MercuryActionType").REMOVE_GROUP_ADMINS,action_id:null,thread_fbid:Y(g.messageMetadata.threadKey.threadFbId),other_user_fbid:null,removed_admin_ids:g.removedAdminFbIds,thread_id:f},"DeltaAdminRemovedFromGroupThread",h),d=0):d={TAG:1,_0:"DeltaAdminRemovedFromGroupThread",_1:"transform failed"};break;case 14:j=c._0;e=i(a,j.threadKey);if(e!==void 0){l=[{thread_id:e,action_type:b("MercuryActionType").CHANGE_MUTE_SETTINGS,thread_fbid:j.threadKey.threadFbId,other_user_fbid:j.threadKey.otherUserFbId,mute_until:parseInt(j.expireTime,10)}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:l,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaThreadMuteSettings"}}else d={TAG:1,_0:"DeltaThreadMuteSettings",_1:"invalid thread ID"};break;case 15:g=c._0;f=g.jsonBlob;if(f==null)d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"no jsonBlob"};else{try{e=JSON.parse(f)}catch(a){e={}}j=b("bs_js_json").classify(e);if(typeof j==="number"||j.TAG!==2)d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"jsonBlob is not an object"};else{l=j._0;f=b("bs_js_dict").get(l,"type");if(f!==void 0){e=b("bs_js_json").classify(b("bs_caml_option").valFromOption(f));if(typeof e==="number"||e.TAG!==1)d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"type is not a number"};else if(e._0===b("PagesMessagingEventType").FLAG){j=b("bs_js_dict").get(l,"flagData");if(j!==void 0){f=b("bs_js_json").classify(b("bs_caml_option").valFromOption(j));if(typeof f==="number"||f.TAG!==2)e=!1;else{l=b("bs_js_dict").get(f._0,"state");if(l!==void 0){j=b("bs_js_json").classify(b("bs_caml_option").valFromOption(l));e=j===1}else e=!1}}else e=!1;f=i(a,g.threadKey);if(f!==void 0){l=[{thread_id:f,action_type:b("MercuryActionType").CHANGE_FLAG,mark_as_flag:e,other_user_fbid:g.threadKey.otherUserFbId,thread_fbid:g.threadKey.threadFbId}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:l,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaPagesManagerEvent"}}else d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"threadID is invalid"}}else d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"type is not pagesFlag"}}else d={TAG:1,_0:"DeltaPagesManagerEvent",_1:"no type on jsonBlob"}}}break;case 16:j=c._0;f=i(a,{otherUserFbId:null,threadFbId:j.messageMetadata.threadKey.threadFbId});f!==void 0?(p(a,{action_type:b("MercuryActionType").APPROVAL_MODE,action_id:null,thread_fbid:Y(j.messageMetadata.threadKey.threadFbId),other_user_fbid:null,approval_mode:b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(b("MessengerApprovalModeTypes"),j.mode)),thread_id:f},"DeltaApprovalMode",h),d=0):d={TAG:1,_0:"DeltaApprovalMode",_1:"transform failed"};break;case 17:e=c._0;g=i(a,{otherUserFbId:e.messageMetadata.threadKey.otherUserFbId,threadFbId:e.messageMetadata.threadKey.threadFbId});if(g!==void 0){l=e.inviterFbId;if(l==null){j=e.recipientFbId;if(!(j==null)){f=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(j));p(a,{action_type:b("MercuryActionType").APPROVAL_QUEUE,action_id:null,thread_fbid:Y(e.messageMetadata.threadKey.threadFbId),other_user_fbid:Y(e.messageMetadata.threadKey.otherUserFbId),removed_id:e.action===b("MessengerApprovalQueueTypes").REMOVED?f:null,added_id:e.action===b("MessengerApprovalQueueTypes").REQUESTED?f:null,thread_id:g},"DeltaApprovalQueue",h)}}else{if(e.action===b("MessengerApprovalQueueTypes").REQUESTED){j=e.requestSource;var q;if(j==null)q=b("MessengerGroupRequestSource").ADD;else switch(j){case"ADD":q=b("MessengerGroupRequestSource").ADD;break;case"JOIN_THROUGH_LINK":q=b("MessengerGroupRequestSource").JOIN_THROUGH_LINK;break;default:q=b("MessengerGroupRequestSource").ADD}f={requester:{id:e.recipientFbId},inviter:{id:l},request_source:q,request_timestamp:e.requestTimestamp}}else f=null;p(a,{action_type:b("MercuryActionType").APPROVAL_QUEUE,action_id:null,thread_fbid:Y(e.messageMetadata.threadKey.threadFbId),other_user_fbid:Y(e.messageMetadata.threadKey.otherUserFbId),removed_group_id:e.action===b("MessengerApprovalQueueTypes").REMOVED?e.recipientFbId:null,added_group_id:f,thread_id:g},"DeltaApprovalQueue",h)}d=0}else d={TAG:1,_0:"DeltaApprovalQueue",_1:"transform failed"};break;case 18:j=c._0;p(a,k(a,j.deltaNewMessage),"DeltaGenieMessage",Z(j.deltaNewMessage.messageMetadata));d=0;break;case 19:l=c._0;e=l.messageMetadata.threadKey;if(e==null)f=void 0;else{g=e.threadFbId;f=g==null?void 0:g}j=l.initiator;if(j==null)e=void 0;else{g=j.userFbId;e=g==null?void 0:g.toString()}j=i(a,{otherUserFbId:null,threadFbId:f});j!==void 0?(p(a,{action_type:b("MercuryActionType").UPDATE_RTC_CALL_DATA,thread_fbid:Y(f),other_user_fbid:null,call_state:l.callState,server_info_data:l.serverInfoData,initiator_fbid:e,thread_id:j},"DeltaRTCCallData",h),d=0):d={TAG:1,_0:"DeltaRTCCallData",_1:"transform failed"};break;case 20:g=c._0;f=i(a,g.threadKey);if(f!==void 0){l=[{thread_id:f,action_type:b("MercuryActionType").CHANGE_FOLDER,other_user_fbid:g.threadKey.otherUserFbId,new_folder:b("bs_js_dict").get(b("MessengerState.bs").irisMapping,g.folder)}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:l,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaThreadFolder"}}else d={TAG:1,_0:"DeltaThreadFolder",_1:"threadID is invalid"};break;case 21:e=c._0;j=i(a,e.threadKey);if(j!==void 0){f=[{thread_id:j,action_type:b("MercuryActionType").MUTATE_TAGS,messageId:e.messageId,tags_to_add:e.tagsToAdd,tags_to_delete:e.tagsToDelete}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:f,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d={TAG:0,_0:"DeltaMutateMessageTags"}}else d={TAG:1,_0:"DeltaMutateMessageTags",_1:"threadID is invalid"};break;case 22:d=W(a,c._0);break}if(typeof d==="number")return;else if(d.TAG===0)return m(d._0);else return n(d._0,d._1)}function a(a,c){if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").NewMessage))return $(a,{TAG:0,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ReplaceMessage))return $(a,{TAG:1,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").DeliveryReceipt))return $(a,{TAG:2,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkRead))return $(a,{TAG:3,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkUnread))return $(a,{TAG:4,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ParticipantLeftGroupThread))return $(a,{TAG:5,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ParticipantsAddedToGroupThread))return $(a,{TAG:6,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadName))return $(a,{TAG:7,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ReadReceipt))return $(a,{TAG:8,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").AdminTextMessage))return $(a,{TAG:9,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MessageDelete))return $(a,{TAG:10,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadAction))return $(a,{TAG:11,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadDelete))return $(a,{TAG:12,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").AdminRemovedFromGroupThread))return $(a,{TAG:13,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadMuteSettings))return $(a,{TAG:14,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").PagesManagerEvent))return $(a,{TAG:15,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ApprovalMode))return $(a,{TAG:16,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ApprovalQueue))return $(a,{TAG:17,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ClientPayload))return $(a,{TAG:22,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").GenieMessage))return $(a,{TAG:18,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").RtcCallData))return $(a,{TAG:19,_0:c});else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkFolderSeen)){m("DeltaMarkFolderSeen");return b("MessengerState.bs").send(b("bs_caml_option").some(a),[{TAG:0,_0:{TAG:66,_0:c}}])}else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadFolder))return $(a,{TAG:20,_0:c});else return}f.transform=a;f.fetchAndUpdatePinnedMessage=r}),null);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),null);
__d("MercuryDisplayTimeFilterMessageRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderFilteredContent:function(a){if(a.is_filtered_content_bh)return g._("Ce message a \u00e9t\u00e9 supprim\u00e9 car il contient un lien qui est contraire \u00e0 nos Standards de la communaut\u00e9.");if(a.is_filtered_content_account)return g._("Ce message a \u00e9t\u00e9 supprim\u00e9 temporairement car le compte de l\u2019exp\u00e9diteur n\u00e9cessite une v\u00e9rification.");if(a.is_filtered_content_quasar)return g._("Ce message a \u00e9t\u00e9 supprim\u00e9 car il contient du contenu bloqu\u00e9 ou dangereux.");return a.is_filtered_content_invalid_app?g._("Ce message a \u00e9t\u00e9 supprim\u00e9, car l\u2019app dont il provient n\u2019a pas l\u2019autorisation d\u2019envoyer des messages."):g._("Ce message a \u00e9t\u00e9 temporairement supprim\u00e9, car le compte de l\u2019exp\u00e9diteur doit \u00eatre v\u00e9rifi\u00e9 ou a \u00e9t\u00e9 identifi\u00e9 comme \u00e9tant abusif.")}};e.exports=a}),null);
__d("MercuryMessageClientState",[],(function(a,b,c,d,e,f){a=Object.freeze({DO_NOT_SEND_TO_SERVER:"do_not_send_to_server",SEND_TO_SERVER:"send_to_server"});b=a;e.exports=b}),null);
__d("MessengerThreadUtils.bs",["CurrentUser","FBID.bs","ImmutableObject","MercuryIDs","MercuryParticipantTypes","MessengerJoinableModeType","MessengerObjectAssociationType","MessengerParticipants.bs","MessengerThreadCannotReplyReason","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return c.filter(function(c){return b("bs_caml_obj").caml_notequal(c,a)}).length<=1}function h(a,c,d,e){var f=b("MercuryIDs").tokenize(c),h=f.type;f=f.value;var i=d.find(function(b){return b!==a});i=i!==void 0?b("MessengerParticipants.bs").getNow(i):null;var j=b("CurrentUser").isWorkUser();j=!(i==null)&&j&&i.work_foreign_entity_info==null&&i.user_type===b("MercuryParticipantTypes").USER?[!1,b("MessengerThreadCannotReplyReason").RECIPIENTS_INVALID]:[!0,null];return new(b("ImmutableObject"))({thread_id:c,participants:Array.from(d),preloaded_participants:[],admins:{},name:"",snippet:"",snippet_sender:null,unread_count:e==null?0:e,message_count:0,image_src:null,square_image_src:null,timestamp:0,other_user_fbid:h==="user"?b("FBID.bs").ofStringExn(f):null,is_canonical_user:h==="user",is_canonical:g(a,d),is_subscribed:!0,is_other_recipient_page:!1,folder:"inbox",is_archived:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,admin_model_status:null,approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:j[0],cannot_reply_reason:j[1],can_viewer_report:!1,comm_item_owners:null,comm_source_id:null,comm_status:null,comm_icon_type:[],composer_input_disabled:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,footer_color:null,game_id:null,group_approval_queue:null,work_associated_group:null,pinned_messages:null,groups_sync_status:null,group_thread_subtype:null,has_email_participant:!1,has_montage:!1,unread_mentions_count:0,header_color:null,is_canonical_neo_user:!1,is_from_weak_entry_point:!1,is_pin_protected:!1,is_pinned:!1,is_thread_queue_enabled:!1,joinable_mode:{mode:0,link:""},last_message_timestamp:0,last_message_id:null,last_message_type:null,last_read_timestamp:0,last_message_admin_text_type:null,last_message_unsendability_status:null,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,mute_until:null,object_association_type:null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants_event_status:null,reactions_mute_mode:0,read_only:!1,recipients_loadable:!1,rtc_call_data:null,server_timestamp:0,snippet_attachments:[],solid_color:null,subtitle:null,theme_id:null,reactions:void 0,thread_connectivity_data:null,thread_fbid:null,thread_pin_timestamp:null,thread_type:null,thread_unsendability_status:null,gradient_colors:[],accessibility_label:null,reverse_gradients_for_radial:null,joinable_link:null,linked_mentorship_programs:null,is_business_page_active:!1,thread_associated_job_applications:null,thread_associated_page_admin:null,graphql_token:null,conversion_detection_data:null,suggested_reply_data:null})}function a(a,c,d,e){a=h(a,c,d,null);return b("ImmutableObject").set(a,{associated_object:e,name:e.name,joinable_mode:{mode:b("MessengerJoinableModeType").JOINABLE,link:""},object_association_type:b("MessengerObjectAssociationType").GENERAL_CHAT})}f.isCanonicalFromInitialParticipants=g;f.createNewLocalThread=h;f.createNewLocalGroupGeneralThread=a}),null);
__d("ThreadConnectivityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNCONNECTED:0,IMPLICIT_OR_TWO_WAY_MESSAGING:1});e.exports=a}),null);
__d("ThreadConnectivityStatus.bs",["ThreadConnectivityStatus","ThreadConnectivityStatusGraphQLType.bs","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml_obj").caml_equal(a,b("ThreadConnectivityStatus").UNCONNECTED))return b("ThreadConnectivityStatusGraphQLType.bs").unconnected;else return b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging}f.toGraphQLValue=a}),null);
__d("ThreadId.bs",["bs_belt_Id","bs_string"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable({cmp:a});d=c.cmp;f.cmp=d}),null);
__d("XMercuryThreadLikeIconController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/like_icon/",{emoji:{type:"String",defaultValue:""}})}),null);
__d("bs_belt_internalAVLtree",["bs_belt_SortArray","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return a.h;else return 0}function h(a){if(a!==void 0)return{k:a.k,v:a.v,h:a.h,l:h(a.l),r:h(a.r)};else return a}function i(a,b,c,d){var e=g(a),f=g(d);return{k:b,v:c,h:e>=f?e+1|0:f+1|0,l:a,r:d}}function j(a,b){return{k:a,v:b,h:1,l:void 0,r:void 0}}function k(a,b){if(b!==void 0)if(a!==void 0)return a.h>=b.h;else return!1;else return!0}function a(a,b){if(a.v===b)return a;else return{k:a.k,v:b,h:a.h,l:a.l,r:a.r}}function l(a,b,c,d){var e=a!==void 0?a.h:0,f=d!==void 0?d.h:0;if(e>(f+2|0)){var h=a.l,j=a.r;if(g(h)>=g(j))return i(h,a.k,a.v,i(j,b,c,d));else return i(i(h,a.k,a.v,j.l),j.k,j.v,i(j.r,b,c,d))}if(f<=(e+2|0))return{k:b,v:c,h:e>=f?e+1|0:f+1|0,l:a,r:d};h=d.l;j=d.r;if(g(j)>=g(h))return i(i(a,b,c,h),d.k,d.v,j);else return i(i(a,b,c,h.l),h.k,h.v,i(h.r,d.k,d.v,j))}function m(a){while(!0){var b=a,c=b.l;if(c===void 0)return b.k;a=c;continue}}function c(a){if(a!==void 0)return b("bs_caml_option").some(m(a))}function d(a){if(a!==void 0)return m(a)}function n(a){while(!0){var b=a,c=b.r;if(c===void 0)return b.k;a=c;continue}}function e(a){if(a!==void 0)return b("bs_caml_option").some(n(a))}function o(a){if(a!==void 0)return n(a)}function p(a){while(!0){var b=a,c=b.l;if(c===void 0)return[b.k,b.v];a=c;continue}}function q(a){if(a!==void 0)return p(a)}function r(a){if(a!==void 0)return p(a)}function s(a){while(!0){var b=a,c=b.r;if(c===void 0)return[b.k,b.v];a=c;continue}}function t(a){if(a!==void 0)return s(a)}function aa(a){if(a!==void 0)return s(a)}function u(a,b,c){var d=a.l;if(d!==void 0)return l(u(d,b,c),a.k,a.v,a.r);else{b.contents=a.k;c.contents=a.v;return a.r}}function ba(a){return a===void 0}function v(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d,tl:c};a=d.l;continue}}function w(a,b){if(a===void 0)return;var c=w(a.l,b);if(c!==void 0)return c;c=a.k;var d=a.v,e=b(c,d);if(e)return[c,d];e=w(a.r,b);if(e!==void 0)return e}function ca(a,c){return w(a,b("bs_curry").__2(c))}function x(a,b){while(!0){var c=a;if(c===void 0)return;x(c.l,b);b(c.k,c.v);a=c.r;continue}}function da(a,c){return x(a,b("bs_curry").__2(c))}function y(a,b){if(a===void 0)return;var c=y(a.l,b),d=b(a.v);b=y(a.r,b);return{k:a.k,v:d,h:a.h,l:c,r:b}}function ea(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){if(a===void 0)return;var c=a.k,d=z(a.l,b),e=b(c,a.v);b=z(a.r,b);return{k:c,v:e,h:a.h,l:d,r:b}}function fa(a,c){return z(a,b("bs_curry").__2(c))}function A(a,b,c){while(!0){var d=b,e=a;if(e===void 0)return d;var f=e.k,g=e.v,h=e.l;e=e.r;b=c(A(h,d,c),f,g);a=e;continue}}function ga(a,c,d){return A(a,c,b("bs_curry").__3(d))}function B(a,b){while(!0){var c=a;if(c===void 0)return!0;if(!b(c.k,c.v))return!1;if(!B(c.l,b))return!1;a=c.r;continue}}function ha(a,c){return B(a,b("bs_curry").__2(c))}function C(a,b){while(!0){var c=a;if(c===void 0)return!1;if(b(c.k,c.v))return!0;if(C(c.l,b))return!0;a=c.r;continue}}function ia(a,c){return C(a,b("bs_curry").__2(c))}function D(a,b,c){if(a!==void 0)return l(D(a.l,b,c),a.k,a.v,a.r);else return j(b,c)}function E(a,b,c){if(a!==void 0)return l(a.l,a.k,a.v,E(a.r,b,c));else return j(b,c)}function F(a,b,c,d){if(a===void 0)return D(d,b,c);if(d===void 0)return E(a,b,c);var e=a.k,f=a.v,g=a.h,h=a.l,j=a.r,k=d.k,m=d.v,n=d.h,o=d.l,p=d.r;if(g>(n+2|0))return l(h,e,f,F(j,b,c,d));else if(n>(g+2|0))return l(F(a,b,c,o),k,m,p);else return i(a,b,c,d)}function G(a,b){if(a===void 0)return b;if(b===void 0)return a;var c={contents:b.k},d={contents:b.v};b=u(b,c,d);return F(a,c.contents,d.contents,b)}function ja(a,c,d,e){if(d!==void 0)return F(a,c,b("bs_caml_option").valFromOption(d),e);else return G(a,e)}function H(a,b){if(a===void 0)return;var c=a.k,d=a.v,e=H(a.l,b),f=b(c,d);a=H(a.r,b);if(f)return F(e,c,d,a);else return G(e,a)}function ka(a,c){return H(a,b("bs_curry").__2(c))}function I(a,c){if(a===void 0)return;var d=a.k,e=a.v,f=I(a.l,c);e=c(d,e);a=I(a.r,c);if(e!==void 0)return F(f,d,b("bs_caml_option").valFromOption(e),a);else return G(f,a)}function la(a,c){return I(a,b("bs_curry").__2(c))}function J(a,b){if(a===void 0)return[void 0,void 0];var c=a.k,d=a.v,e=J(a.l,b),f=e[1];e=e[0];var g=b(c,d);a=J(a.r,b);b=a[1];a=a[0];if(g)return[F(e,c,d,a),G(f,b)];else return[G(e,a),F(f,c,d,b)]}function ma(a,c){return J(a,b("bs_curry").__2(c))}function K(a){var b=a.l;a=a.r;b=b!==void 0?K(b):0;a=a!==void 0?K(a):0;return(1+b|0)+a|0}function L(a){if(a!==void 0)return K(a);else return 0}function M(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;var e=d.k,f=d.v,g=d.l;d=d.r;b={hd:[e,f],tl:M(d,c)};a=g;continue}}function na(a){return M(a,0)}function N(a){while(!0){var b=a;if(b===void 0)return;var c=b.l;b=b.r;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLtree.ml",373,4],Error:new Error()};N(c);a=b;continue}}function O(a,b,c){while(!0){var d=b,e=a,f=e.k,g=e.l;e=e.r;g=g!==void 0?O(g,d,c):d;c[g]=f;d=g+1|0;if(e===void 0)return d;b=d;a=e;continue}}function P(a,b,c){while(!0){var d=b,e=a,f=e.l,g=e.r;f=f!==void 0?P(f,d,c):d;c[f]=e.v;d=f+1|0;if(g===void 0)return d;b=d;a=g;continue}}function Q(a,b,c){while(!0){var d=b,e=a,f=e.l,g=e.k,h=e.r;f=f!==void 0?Q(f,d,c):d;c[f]=[g,e.v];d=f+1|0;if(h===void 0)return d;b=d;a=h;continue}}function oa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);Q(b,0,a);return a}function pa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);O(b,0,a);return a}function qa(b){if(b===void 0)return[];var a=K(b);a=new Array(a);P(b,0,a);return a}function R(a,b,c){switch(c){case 0:return;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b-1|0];e=e;d=d;return{k:e[0],v:e[1],h:2,l:j(d[0],d[1]),r:void 0};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];f=f;d=d;e=e;return{k:d[0],v:d[1],h:2,l:j(e[0],e[1]),r:j(f[0],f[1])};default:d=c/2|0;e=R(a,b,d);f=a[b-d|0];a=R(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function S(a,b,c){switch(c){case 0:return;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b+1|0];e=e;d=d;return{k:e[0],v:e[1],h:2,l:j(d[0],d[1]),r:void 0};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];f=f;d=d;e=e;return{k:d[0],v:d[1],h:2,l:j(e[0],e[1]),r:j(f[0],f[1])};default:d=c/2|0;e=S(a,b,d);f=a[b+d|0];a=S(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function ra(a){return S(a,0,a.length)}function T(a,b,c,d){var e=L(a),f=L(b);if(e===f){a=v(a,0);b=v(b,0);while(!0){var g=b,h=a;if(!h)return 0;if(!g)return 0;var i=g.hd,j=h.hd,k=c(j.k,i.k);if(k!==0)return k;k=d(j.v,i.v);if(k!==0)return k;b=v(i.r,g.tl);a=v(j.r,h.tl);continue}}else if(e<f)return-1;else return 1}function sa(a,c,d,e){return T(a,c,d,b("bs_curry").__2(e))}function U(a,b,c,d){var e=L(a),f=L(b);if(e===f){e=v(a,0);f=v(b,0);while(!0){a=f;b=e;if(!b)return!0;if(!a)return!0;var g=a.hd,h=b.hd;if(!(c(h.k,g.k)===0&&d(h.v,g.v)))return!1;f=v(g.r,a.tl);e=v(h.r,b.tl);continue}}else return!1}function ta(a,c,d,e){return U(a,c,d,b("bs_curry").__2(e))}function ua(c,d,a){while(!0){var e=c;if(e===void 0)return;var f=e.k;f=a(d,f);if(f===0)return b("bs_caml_option").some(e.v);c=f<0?e.l:e.r;continue}}function va(b,c,a){while(!0){var d=b;if(d===void 0)return;var e=d.k;e=a(c,e);if(e===0)return d.v;b=e<0?d.l:d.r;continue}}function wa(b,c,a){while(!0){var d=b;if(d!==void 0){var e=d.k;e=a(c,e);if(e===0)return d.v;b=e<0?d.l:d.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function xa(b,c,d,a){while(!0){var e=b;if(e===void 0)return d;var f=e.k;f=a(c,f);if(f===0)return e.v;b=f<0?e.l:e.r;continue}}function ya(b,c,a){while(!0){var d=b;if(d===void 0)return!1;var e=d.k;e=a(c,e);if(e===0)return!0;b=e<0?d.l:d.r;continue}}function V(a){var b=a.l;a.l=b.r;b.r=a;var c=g(a.l),d=g(a.r);a.h=(c>d?c:d)+1|0;c=g(b.l);d=a.h;b.h=(c>d?c:d)+1|0;return b}function W(a){var b=a.r;a.r=b.l;b.l=a;var c=g(a.l),d=g(a.r);a.h=(c>d?c:d)+1|0;c=g(b.r);d=a.h;b.h=(c>d?c:d)+1|0;return b}function za(a){var b=a.l;b=W(b);a.l=b;return V(a)}function Aa(a){var b=a.r;b=V(b);a.r=b;return W(a)}function X(a){var b=g(a.l),c=g(a.r);a.h=(b>c?b:c)+1|0;return a}function Y(a){var b=a.l,c=a.r,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.l;b=b.r;if(k(f,b))return X(V(a));else return X(za(a))}if(e>(2+d|0)){f=c.l;b=c.r;if(k(b,f))return X(W(a));else return X(Aa(a))}a.h=(d>e?d:e)+1|0;return a}function Z(b,c,d,a){if(b===void 0)return j(c,d);var e=b.k;e=a(c,e);if(e===0){b.v=d;return b}var f=b.l,g=b.r;if(e<0){e=Z(f,c,d,a);b.l=e}else b.r=Z(g,c,d,a);return Y(b)}function Ba(c,a){var d=c.length;if(d===0)return;var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b[0],c[0])<0}),f;e>=0?f=S(c,0,e):(e=-e|0,f=R(c,e-1|0,e));for(var e=e;e<d;++e){var g=c[e];f=Z(f,g[0],g[1],a)}return f}function $(a,b){var c=b.r,d=b.l;if(d!==void 0){b.l=$(a,d);return Y(b)}else{a.k=b.k;a.v=b.v;return c}}f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.updateValue=a;f.minKey=c;f.minKeyUndefined=d;f.maxKey=e;f.maxKeyUndefined=o;f.minimum=q;f.minUndefined=r;f.maximum=t;f.maxUndefined=aa;f.removeMinAuxWithRef=u;f.isEmpty=ba;f.stackAllLeft=v;f.findFirstByU=w;f.findFirstBy=ca;f.forEachU=x;f.forEach=da;f.mapU=y;f.map=ea;f.mapWithKeyU=z;f.mapWithKey=fa;f.reduceU=A;f.reduce=ga;f.everyU=B;f.every=ha;f.someU=C;f.some=ia;f.join=F;f.concat=G;f.concatOrJoin=ja;f.keepSharedU=H;f.keepShared=ka;f.keepMapU=I;f.keepMap=la;f.partitionSharedU=J;f.partitionShared=ma;f.lengthNode=K;f.size=L;f.toList=na;f.checkInvariantInternal=N;f.fillArray=Q;f.toArray=oa;f.keysToArray=pa;f.valuesToArray=qa;f.fromSortedArrayAux=S;f.fromSortedArrayRevAux=R;f.fromSortedArrayUnsafe=ra;f.cmpU=T;f.cmp=sa;f.eqU=U;f.eq=ta;f.get=ua;f.getUndefined=va;f.getWithDefault=xa;f.getExn=wa;f.has=ya;f.fromArray=Ba;f.updateMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_MapDict",["bs_belt_internalAVLtree","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g;function h(c,d,e,a){if(c===void 0)return b("bs_belt_internalAVLtree").singleton(d,e);var f=c.k,g=a(d,f);if(g===0)return b("bs_belt_internalAVLtree").updateValue(c,e);var i=c.l,j=c.r;c=c.v;if(g<0)return b("bs_belt_internalAVLtree").bal(h(i,d,e,a),f,c,j);else return b("bs_belt_internalAVLtree").bal(i,f,c,h(j,d,e,a))}function i(c,d,e,a){if(c!==void 0){var f=c.k,g=a(d,f);if(g===0){var h=e(b("bs_caml_option").some(c.v));if(h!==void 0)return b("bs_belt_internalAVLtree").updateValue(c,b("bs_caml_option").valFromOption(h));h=c.l;var j=c.r;if(h===void 0)return j;if(j===void 0)return h;var k={contents:j.k},l={contents:j.v};j=b("bs_belt_internalAVLtree").removeMinAuxWithRef(j,k,l);return b("bs_belt_internalAVLtree").bal(h,k.contents,l.contents,j)}h=c.l;k=c.r;l=c.v;if(g<0){j=i(h,d,e,a);if(h===j)return c;else return b("bs_belt_internalAVLtree").bal(j,f,l,k)}g=i(k,d,e,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(h,f,l,g)}j=e(void 0);if(j!==void 0)return b("bs_belt_internalAVLtree").singleton(d,b("bs_caml_option").valFromOption(j));else return c}function a(c,d,e,a){return i(c,d,b("bs_curry").__1(e),a)}function j(c,d,a){var e=c.k,f=c.l,g=c.r,h=a(d,e);if(h===0){if(f===void 0)return g;if(g===void 0)return f;var i={contents:g.k},k={contents:g.v},l=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,i,k);return b("bs_belt_internalAVLtree").bal(f,i.contents,k.contents,l)}if(h<0){if(f===void 0)return c;i=j(f,d,a);if(i===f)return c;else return b("bs_belt_internalAVLtree").bal(i,e,c.v,g)}if(g===void 0)return c;k=j(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(f,e,c.v,k)}function c(b,c,a){if(b!==void 0)return j(b,c,a)}function d(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=h(b,f[0],f[1],a)}return b}function k(c,d,e,a){var f=c.k,g=c.v,h=c.l,i=c.r,j=a(d,f);if(j===0){e.contents=b("bs_caml_option").some(g);return[h,i]}if(j<0){if(h===void 0)return[void 0,c];j=k(h,d,e,a);return[j[0],b("bs_belt_internalAVLtree").join(j[1],f,g,i)]}if(i===void 0)return[c,void 0];j=k(i,d,e,a);return[b("bs_belt_internalAVLtree").join(h,f,g,j[0]),j[1]]}function e(b,c,a){if(b===void 0)return[[void 0,void 0],void 0];var d={contents:void 0};b=k(b,c,d,a);return[b,d.contents]}function l(c,d,e,a){if(c===void 0)if(d!==void 0)return b("bs_belt_internalAVLtree").keepMapU(d,function(a,c){return e(a,void 0,b("bs_caml_option").some(c))});else return;if(d===void 0)return b("bs_belt_internalAVLtree").keepMapU(c,function(a,c){return e(a,b("bs_caml_option").some(c),void 0)});if(c.h>=d.h){var f=c.k,g=c.v,h=c.l,i=c.r,j={contents:void 0},m=k(d,f,j,a);j=j.contents;h=l(h,m[0],e,a);g=e(f,b("bs_caml_option").some(g),j);j=l(i,m[1],e,a);return b("bs_belt_internalAVLtree").concatOrJoin(h,f,g,j)}i=d.k;m=d.v;h=d.l;f=d.r;g={contents:void 0};j=k(c,i,g,a);d=g.contents;c=l(j[0],h,e,a);g=e(i,d,b("bs_caml_option").some(m));h=l(j[1],f,e,a);return b("bs_belt_internalAVLtree").concatOrJoin(c,i,g,h)}function m(c,d,e,a){return l(c,d,b("bs_curry").__3(e),a)}function n(b,c,a){var d=c.length;if(b!==void 0){b=b;var e=0;while(!0){var f=e,g=b;if(f>=d)return g;var h=c[f];g=j(g,h,a);if(g===void 0)return g;e=f+1|0;b=g;continue}}}var o,p=(g=b("bs_belt_internalAVLtree")).isEmpty,q=g.has,r=g.cmpU,s=g.cmp,t=g.eqU,u=g.eq,v=g.findFirstByU,w=g.findFirstBy,x=g.forEachU,y=g.forEach,z=g.reduceU,A=g.reduce,B=g.everyU,C=g.every,D=g.someU,E=g.some,F=g.size,G=g.toList,H=g.toArray,I=g.fromArray,J=g.keysToArray,K=g.valuesToArray,L=g.minKey,M=g.minKeyUndefined,N=g.maxKey,O=g.maxKeyUndefined,P=g.minimum,Q=g.minUndefined,R=g.maximum,S=g.maxUndefined,T=g.get,U=g.getUndefined,V=g.getWithDefault,W=g.getExn,X=g.checkInvariantInternal,Y=g.keepSharedU,Z=g.keepShared,$=g.partitionSharedU,aa=g.partitionShared,ba=g.mapU,ca=g.map,da=g.mapWithKeyU;g=g.mapWithKey;f.empty=o;f.isEmpty=p;f.has=q;f.cmpU=r;f.cmp=s;f.eqU=t;f.eq=u;f.findFirstByU=v;f.findFirstBy=w;f.forEachU=x;f.forEach=y;f.reduceU=z;f.reduce=A;f.everyU=B;f.every=C;f.someU=D;f.some=E;f.size=F;f.toList=G;f.toArray=H;f.fromArray=I;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.checkInvariantInternal=X;f.remove=c;f.removeMany=n;f.set=h;f.updateU=i;f.update=a;f.mergeU=l;f.merge=m;f.mergeMany=d;f.keepU=Y;f.keep=Z;f.partitionU=$;f.partition=aa;f.split=e;f.mapU=ba;f.map=ca;f.mapWithKeyU=da;f.mapWithKey=g}),null);
__d("bs_belt_Map",["bs_belt_MapDict","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_MapDict").fromArray(a,c)}}function c(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_MapDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp;c=b("bs_belt_MapDict").removeMany(c.data,d,a);return{cmp:a,data:c}}function e(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").set(c.data,d,e,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeMany(c.data,d,a)}}function h(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").updateU(c.data,d,e,a)}}function i(a,c,d){return h(a,c,b("bs_curry").__1(d))}function j(c,d){var a=c.cmp;c=b("bs_belt_MapDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function k(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeU(c.data,d.data,e,a)}}function l(a,c,d){return k(a,c,b("bs_curry").__3(d))}function m(a){return{cmp:a.cmp,data:void 0}}function n(a){return b("bs_belt_MapDict").isEmpty(a.data)}function o(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,c)}function p(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,b("bs_curry").__2(c))}function q(a,c){return b("bs_belt_MapDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_MapDict").forEachU(a.data,b("bs_curry").__2(c))}function s(a,c,d){return b("bs_belt_MapDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__3(d))}function u(a,c){return b("bs_belt_MapDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_MapDict").everyU(a.data,b("bs_curry").__2(c))}function w(a,c){return b("bs_belt_MapDict").someU(a.data,c)}function x(a,c){return b("bs_belt_MapDict").someU(a.data,b("bs_curry").__2(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__2(c))}function A(c,d){var a=c.cmp;c=b("bs_belt_MapDict").partitionU(c.data,d);return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__2(c))}function C(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapU(a.data,c)}}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapWithKeyU(a.data,c)}}function F(a,c){return E(a,b("bs_curry").__2(c))}function G(a){return b("bs_belt_MapDict").size(a.data)}function H(a){return b("bs_belt_MapDict").toList(a.data)}function I(a){return b("bs_belt_MapDict").toArray(a.data)}function J(a){return b("bs_belt_MapDict").keysToArray(a.data)}function K(a){return b("bs_belt_MapDict").valuesToArray(a.data)}function L(a){return b("bs_belt_MapDict").minKey(a.data)}function M(a){return b("bs_belt_MapDict").minKeyUndefined(a.data)}function N(a){return b("bs_belt_MapDict").maxKey(a.data)}function O(a){return b("bs_belt_MapDict").maxKeyUndefined(a.data)}function P(a){return b("bs_belt_MapDict").minimum(a.data)}function Q(a){return b("bs_belt_MapDict").minUndefined(a.data)}function R(a){return b("bs_belt_MapDict").maximum(a.data)}function S(a){return b("bs_belt_MapDict").maxUndefined(a.data)}function T(a,c){return b("bs_belt_MapDict").get(a.data,c,a.cmp)}function U(a,c){return b("bs_belt_MapDict").getUndefined(a.data,c,a.cmp)}function V(a,c,d){return b("bs_belt_MapDict").getWithDefault(a.data,c,d,a.cmp)}function W(a,c){return b("bs_belt_MapDict").getExn(a.data,c,a.cmp)}function X(a,c){return b("bs_belt_MapDict").has(a.data,c,a.cmp)}function Y(a){return b("bs_belt_MapDict").checkInvariantInternal(a.data)}function Z(a,c,d){return b("bs_belt_MapDict").eqU(a.data,c.data,a.cmp,d)}function aa(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,c,d){return b("bs_belt_MapDict").cmpU(a.data,c.data,a.cmp,d)}function ba(a,c,d){return $(a,c,b("bs_curry").__2(d))}function ca(a){return a.data}function da(a){a=a.cmp;return{cmp:a}}function ea(a,b){return{cmp:a.cmp,data:b}}var fa,ga,ha;f.Int=fa;f.$$String=ga;f.Dict=ha;f.make=m;f.isEmpty=n;f.has=X;f.cmpU=$;f.cmp=ba;f.eqU=Z;f.eq=aa;f.findFirstByU=o;f.findFirstBy=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.size=G;f.toArray=I;f.toList=H;f.fromArray=a;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.remove=c;f.removeMany=d;f.set=e;f.updateU=h;f.update=i;f.mergeMany=g;f.mergeU=k;f.merge=l;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.split=j;f.mapU=C;f.map=D;f.mapWithKeyU=E;f.mapWithKey=F;f.getData=ca;f.getId=da;f.packIdData=ea;f.checkInvariantInternal=Y}),null);
__d("bs_belt_internalMapString",["bs_belt_SortArray","bs_belt_internalAVLtree","bs_caml_option","bs_caml_primitive","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);var f=a.v;if(c<e)return b("bs_belt_internalAVLtree").bal(g(a.l,c,d),e,f,a.r);else return b("bs_belt_internalAVLtree").bal(a.l,e,f,g(a.r,c,d))}function a(a,c){while(!0){var d=a;if(d===void 0)return;var e=d.k;if(c===e)return b("bs_caml_option").some(d.v);a=c<e?d.l:d.r;continue}}function c(a,b){while(!0){var c=a;if(c===void 0)return;var d=c.k;if(b===d)return c.v;a=b<d?c.l:c.r;continue}}function d(a,b){while(!0){var c=a;if(c!==void 0){var d=c.k;if(b===d)return c.v;a=b<d?c.l:c.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function e(a,b,c){while(!0){var d=a;if(d===void 0)return c;var e=d.k;if(b===e)return d.v;a=b<e?d.l:d.r;continue}}function h(a,b){while(!0){var c=a;if(c===void 0)return!1;var d=c.k;if(b===d)return!0;a=b<d?c.l:c.r;continue}}function i(a,c){if(a===void 0)return a;var d=a.k,e=a.l,f=a.r;if(c!==d)if(c<d)return b("bs_belt_internalAVLtree").bal(i(e,c),d,a.v,f);else return b("bs_belt_internalAVLtree").bal(e,d,a.v,i(f,c));if(e===void 0)return f;if(f===void 0)return e;d={contents:f.k};a={contents:f.v};c=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,d,a);return b("bs_belt_internalAVLtree").bal(e,d.contents,a.contents,c)}function j(a,c){var d=c.k,e=c.v,f=c.l,g=c.r;if(a===d)return[f,b("bs_caml_option").some(e),g];if(a<d){if(f===void 0)return[void 0,void 0,c];var h=j(a,f);return[h[0],h[1],b("bs_belt_internalAVLtree").join(h[2],d,e,g)]}if(g===void 0)return[c,void 0,void 0];h=j(a,g);return[b("bs_belt_internalAVLtree").join(f,d,e,h[0]),h[1],h[2]]}function k(a,b){if(b!==void 0)return j(a,b);else return[void 0,void 0,void 0]}function l(a,c,d){if(a!==void 0){if(a.h>=(c!==void 0?c.h:0)){var e=a.k,f=a.v,g=a.l,h=a.r,i=k(e,c);return b("bs_belt_internalAVLtree").concatOrJoin(l(g,i[0],d),e,d(e,b("bs_caml_option").some(f),i[1]),l(h,i[2],d))}}else if(c===void 0)return;g=c.k;e=c.v;f=c.l;h=c.r;i=k(g,a);return b("bs_belt_internalAVLtree").concatOrJoin(l(i[0],f,d),g,d(g,i[1],b("bs_caml_option").some(e)),l(i[2],h,d))}function m(a,c,d){return l(a,c,b("bs_curry").__3(d))}function n(a,c,d){while(!0){var e=c,f=a;if(!f)return 0;if(!e)return 0;var g=e.hd,h=f.hd,i=b("bs_caml_primitive").caml_string_compare(h.k,g.k);if(i!==0)return i;i=d(h.v,g.v);if(i!==0)return i;c=b("bs_belt_internalAVLtree").stackAllLeft(g.r,e.tl);a=b("bs_belt_internalAVLtree").stackAllLeft(h.r,f.tl);continue}}function o(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return n(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else if(e<f)return-1;else return 1}function p(a,c,d){return o(a,c,b("bs_curry").__2(d))}function q(c,d,a){while(!0){var e=d,f=c;if(!f)return!0;if(!e)return!0;var g=e.hd,h=f.hd;if(!(h.k===g.k&&a(h.v,g.v)))return!1;d=b("bs_belt_internalAVLtree").stackAllLeft(g.r,e.tl);c=b("bs_belt_internalAVLtree").stackAllLeft(h.r,f.tl);continue}}function r(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return q(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else return!1}function s(a,c,d){return r(a,c,b("bs_curry").__2(d))}function t(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e){a.k=c;a.v=d;return a}var f=a.l,g=a.r;if(c<e){e=t(f,c,d);a.l=e}else a.r=t(g,c,d);return b("bs_belt_internalAVLtree").balMutate(a)}function u(a){var c=a.length;if(c===0)return;var d=b("bs_belt_SortArray").strictlySortedLengthU(a,function(a,b){return a[0]<b[0]}),e;d>=0?e=b("bs_belt_internalAVLtree").fromSortedArrayAux(a,0,d):(d=-d|0,e=b("bs_belt_internalAVLtree").fromSortedArrayRevAux(a,d-1|0,d));for(var d=d;d<c;++d){var f=a[d];e=t(e,f[0],f[1])}return e}var v,w,x;f.N=v;f.A=w;f.S=x;f.add=g;f.get=a;f.getUndefined=c;f.getExn=d;f.getWithDefault=e;f.has=h;f.remove=i;f.splitAux=j;f.split=k;f.mergeU=l;f.merge=m;f.compareAux=n;f.cmpU=o;f.cmp=p;f.eqAux=q;f.eqU=r;f.eq=s;f.addMutate=t;f.fromArray=u}),null);
__d("bs_belt_MapString",["bs_belt_internalAVLtree","bs_belt_internalMapString","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g,h;function i(a,c,d){if(a===void 0)return b("bs_belt_internalAVLtree").singleton(c,d);var e=a.k;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);var f=a.v;if(c<e)return b("bs_belt_internalAVLtree").bal(i(a.l,c,d),e,f,a.r);else return b("bs_belt_internalAVLtree").bal(a.l,e,f,i(a.r,c,d))}function j(a,c,d){if(a!==void 0){var e=a.k;if(c===e){var f=d(b("bs_caml_option").some(a.v));if(f!==void 0)return b("bs_belt_internalAVLtree").updateValue(a,b("bs_caml_option").valFromOption(f));f=a.l;var g=a.r;if(f===void 0)return g;if(g===void 0)return f;var h={contents:g.k},i={contents:g.v};g=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,h,i);return b("bs_belt_internalAVLtree").bal(f,h.contents,i.contents,g)}f=a.v;h=a.l;i=a.r;if(c<e){g=j(h,c,d);if(h===g)return a;else return b("bs_belt_internalAVLtree").bal(g,e,f,i)}g=j(i,c,d);if(i===g)return a;else return b("bs_belt_internalAVLtree").bal(h,e,f,g)}i=d(void 0);if(i!==void 0)return b("bs_belt_internalAVLtree").singleton(c,b("bs_caml_option").valFromOption(i));else return a}function a(a,c,d){return j(a,c,b("bs_curry").__1(d))}function k(a,c){var d=a.k,e=a.l,f=a.r;if(c===d){if(e===void 0)return f;if(f===void 0)return e;var g={contents:f.k},h={contents:f.v},i=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(e,g.contents,h.contents,i)}if(c<d){if(e===void 0)return a;g=k(e,c);if(g===e)return a;else return b("bs_belt_internalAVLtree").bal(g,d,a.v,f)}if(f===void 0)return a;h=k(f,c);return b("bs_belt_internalAVLtree").bal(e,d,a.v,h)}function c(a,b){if(a!==void 0)return k(a,b)}function d(a,b){var c=b.length;if(a!==void 0){a=a;var d=0;while(!0){var e=d,f=a;if(e>=c)return f;var g=b[e];f=k(f,g);if(f===void 0)return f;d=e+1|0;a=f;continue}}}function e(a,b){var c=b.length;a=a;for(var d=0;d<c;++d){var e=b[d];a=i(a,e[0],e[1])}return a}var l,m=(g=b("bs_belt_internalAVLtree")).isEmpty,n=(h=b("bs_belt_internalMapString")).has,o=h.cmpU,p=h.cmp,q=h.eqU,r=h.eq,s=g.findFirstByU,t=g.findFirstBy,u=g.forEachU,v=g.forEach,w=g.reduceU,x=g.reduce,y=g.everyU,z=g.every,A=g.someU,B=g.some,C=g.size,D=g.toList,E=g.toArray,F=h.fromArray,G=g.keysToArray,H=g.valuesToArray,I=g.minKey,J=g.minKeyUndefined,K=g.maxKey,L=g.maxKeyUndefined,M=g.minimum,N=g.minUndefined,O=g.maximum,P=g.maxUndefined,Q=h.get,R=h.getUndefined,S=h.getWithDefault,T=h.getExn,U=g.checkInvariantInternal,V=h.mergeU,W=h.merge,X=g.keepSharedU,Y=g.keepShared,Z=g.partitionSharedU,$=g.partitionShared;h=h.split;var aa=g.mapU,ba=g.map,ca=g.mapWithKeyU;g=g.mapWithKey;f.empty=l;f.isEmpty=m;f.has=n;f.cmpU=o;f.cmp=p;f.eqU=q;f.eq=r;f.findFirstByU=s;f.findFirstBy=t;f.forEachU=u;f.forEach=v;f.reduceU=w;f.reduce=x;f.everyU=y;f.every=z;f.someU=A;f.some=B;f.size=C;f.toList=D;f.toArray=E;f.fromArray=F;f.keysToArray=G;f.valuesToArray=H;f.minKey=I;f.minKeyUndefined=J;f.maxKey=K;f.maxKeyUndefined=L;f.minimum=M;f.minUndefined=N;f.maximum=O;f.maxUndefined=P;f.get=Q;f.getUndefined=R;f.getWithDefault=S;f.getExn=T;f.checkInvariantInternal=U;f.remove=c;f.removeMany=d;f.set=i;f.updateU=j;f.update=a;f.mergeU=V;f.merge=W;f.mergeMany=e;f.keepU=X;f.keep=Y;f.partitionU=Z;f.partition=$;f.split=h;f.mapU=aa;f.map=ba;f.mapWithKeyU=ca;f.mapWithKey=g}),null);
__d("MessengerState.bs",["invariant","Arbiter","AsyncRequest","ChannelConstants","ChatConfig","ChatReliabilityInstrumentation","CurrentUser","FBID.bs","FBIDCheck","FBJSON","ImmutableObject","JSSet.bs","MWChatDeleteMessageEventEmitter","MercuryActionStatus","MercuryActionType","MercuryAssert","MercuryAttachment","MercuryDispatcher","MercuryDisplayTimeFilterMessageRenderer","MercuryFilters.bs","MercuryGlobalActionType","MercuryIDs","MercuryLocalIDs","MercuryLogMessageType","MercuryMessageClientState","MercuryMessageIDs.bs","MercuryPayloadSource","MercuryServerRequests","MercurySyncEventsProxy","MercuryThreadIDMap","MercuryThreadInfo","MercuryThreadInformer","MercuryThreadlistConstants","MercuryViewer","MessageProfileRangeType","MessageRequestUtils","MessageUnsendabilityStatus","MessagingGenericAdminTextType","MessagingTag","MessagingThreadType","MessengerDesktopNotifications","MessengerEnvironment","MessengerFolders.bs","MessengerGroupsSyncStatus","MessengerMessage.bs","MessengerPersonas.bs","MessengerSharedMediaActionsLoader","MessengerSharedPhotosVideosBaseData.bs","MessengerThreadCannotReplyReason.bs","MessengerThreadUtils.bs","MessengerWebEvent","PageCommItemStatus","ParticipantId.bs","RemoteAction.bs","RemovedMessageTombstoneContent","RepliedToMessageStatusForGraphQL","ThreadConnectivityStatus.bs","ThreadId.bs","TypingStates","URI","Utils.bs","XGroupsController","XMercuryThreadLikeIconController","bs_array","bs_belt_Array","bs_belt_Map","bs_belt_MapString","bs_belt_Option","bs_belt_Set","bs_caml_array","bs_caml_obj","bs_caml_option","bs_caml_primitive","bs_curry","bs_js_dict","bs_js_null_undefined","bs_pervasives","cr:1299779","gkx","immutable","qex","react","recoverableViolation","setTimeoutAcrossTransitions","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("MessagingTag").IRIS_MAPPING;function l(a){var c={};b("bs_belt_Map").forEach(a,function(b,a){c[b]=a});return c}function a(a){return l(a.threads)}function m(a,c){return b("bs_js_null_undefined").fromOption(b("bs_belt_Map").get(a.threads,c))}function c(a){return a.fbid}function d(a){return a.deliveryReceipts}function e(a){return a.readReceiptsPerThread}function n(a){return a.ignoredIds}function o(a){return a.blockedIds}function p(a){return a.pendingFolderUnseenCount}function aa(a){return a.typing}function q(a){return a.pendingReadStatusThreads}function r(a){return a.messages}function s(a){return a.localIDsMap}function ba(a){return a.messagesWithUploadsInFlight}function ca(a){return a.threadlistOrderMap}function t(a){return a.pinnedThreads}function da(a){return a.montage}function ea(a){return a.orderedMessageLists}function fa(a){return a.unreadCounts}function ga(a){return a.initialUnreadCounts}function ha(a){return a.unseenTimestamp}function ia(a){b("ChatReliabilityInstrumentation").logMESSAGE_RECEIVED(b("FBJSON").stringify({otid:a.offline_threading_id,message_id:a.message_id,other_user_fbid:a.other_user_fbid}))}function ja(a,c,d){d=d.reduce(b("bs_belt_Set").remove,c.reduce(b("bs_belt_Set").add,a.ignoredIds));if(d===a.ignoredIds)return a;else return{fbid:a.fbid,deliveryReceipts:a.deliveryReceipts,readReceiptsPerThread:a.readReceiptsPerThread,ignoredIds:d,blockedIds:a.blockedIds,pendingFolderUnseenCount:a.pendingFolderUnseenCount,typing:a.typing,threads:a.threads,pendingReadStatusThreads:a.pendingReadStatusThreads,messages:a.messages,localIDsMap:a.localIDsMap,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,threadlistOrderMap:a.threadlistOrderMap,pinnedThreads:a.pinnedThreads,montage:a.montage,orderedMessageLists:a.orderedMessageLists,unreadCounts:a.unreadCounts,initialUnreadCounts:a.initialUnreadCounts,unseenTimestamp:a.unseenTimestamp}}var ka=function(a,b){delete a[b];return 0};function la(a,c,d){var e=b("bs_belt_MapString").get(a,c);if(e===void 0)return a;e=b("bs_caml_option").valFromOption(e);var f=b("bs_belt_Map").get(e,d);if(f!==void 0)return b("bs_belt_MapString").set(a,c,b("bs_belt_Map").remove(e,d));else return a}function ma(a,c){var d=c.thread_fbid;if(d==null){if(!(c.type==="typ"||c.type==="page_typing"))return null;c=b("FBID.bs").ofString(c.from.toString());if(c!==void 0)return b("MercuryIDs").getThreadIDFromUserID(b("bs_caml_option").valFromOption(c));else return null}c=b("MercuryThreadIDMap").getForFBID(a);return c.getClientIDFromServerIDNow(d.toString())}var na=b("gkx")("1275193")?b("MercuryFilters.bs").getSupportedFilters(void 0).concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups,b("MercuryFilters.bs").named,b("MercuryFilters.bs").unnamed]):b("gkx")("1660458")?b("MercuryFilters.bs").getSupportedFilters(void 0).concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups,b("MercuryFilters.bs").unsyncedChat]):b("MercuryFilters.bs").getSupportedFilters(void 0).concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups]),oa=b("MessengerFolders.bs").getSupportedFolders(void 0).concat(["spam","page_background"]);function pa(a){var b={};oa.forEach(function(a){var c={};na.forEach(function(a){c[a]={threadlist:[],reachedEnd:!1,existingIDs:new Set()}});b[a]=c});return b}function qa(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.invalidatedThread(c)}function u(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.updatedThread(c)}function ra(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.deletedThread(c)}function sa(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.changedThreadReadState(c,d,e)}function v(a,c){var d=new Map();c.forEach(function(a,b){d.set(a,b)});return c.sort(function(c,e){var f=b("bs_belt_Map").get(a.threads,c),g=b("bs_belt_Map").get(a.threads,e);if(f!==void 0&&g!==void 0){g=b("bs_caml_option").valFromOption(g).timestamp-b("bs_caml_option").valFromOption(f).timestamp;if(g>0)return 1;else if(g<0)return-1;else return 0}f=d.get(c);g=d.get(e);return b("bs_belt_Option").getExn(f==null?void 0:b("bs_caml_option").some(f))-b("bs_belt_Option").getExn(g==null?void 0:b("bs_caml_option").some(g))|0})}function ta(a,c,d,e){a=b("bs_js_dict").get(a.threadlistOrderMap,d);if(a===void 0)return;d=b("bs_js_dict").get(b("bs_caml_option").valFromOption(a),e);if(d===void 0)return;var f=b("bs_caml_option").valFromOption(d);c.forEach(function(a){if(!f.existingIDs.has(a))return;f.existingIDs["delete"](a);a=f.threadlist.indexOf(a);f.threadlist.splice(a,1)})}function w(c,d,e,f){c=c!==void 0?c:function(a){return!0};var a=b("bs_belt_Map").get(d.threads,e);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);if(!b("bs_curry")._1(c,a))return d;c=b("ImmutableObject").set(a,f);a=b("bs_belt_Map").set(d.threads,e,c);u(d.fbid,e);return{fbid:d.fbid,deliveryReceipts:d.deliveryReceipts,readReceiptsPerThread:d.readReceiptsPerThread,ignoredIds:d.ignoredIds,blockedIds:d.blockedIds,pendingFolderUnseenCount:d.pendingFolderUnseenCount,typing:d.typing,threads:a,pendingReadStatusThreads:d.pendingReadStatusThreads,messages:d.messages,localIDsMap:d.localIDsMap,messagesWithUploadsInFlight:d.messagesWithUploadsInFlight,threadlistOrderMap:d.threadlistOrderMap,pinnedThreads:d.pinnedThreads,montage:d.montage,orderedMessageLists:d.orderedMessageLists,unreadCounts:d.unreadCounts,initialUnreadCounts:d.initialUnreadCounts,unseenTimestamp:d.unseenTimestamp}}function ua(c,a,d){var e=new Set(a.participants);Object.assign(a,{participants:Array.from(a.participants)});d.forEach(function(d){if(!e.has(d)){a.participants.push(d);if(b("bs_caml_obj").caml_equal(d,c)){Object.assign(a,{is_subscribed:!0,can_reply:!0,cannot_reply_reason:null});return}else return}})}var va=b("XGroupsController");function wa(a){var c=[b("MercuryFilters.bs").all];a.unread_count>0&&c.push(b("MercuryFilters.bs").unread);a.is_canonical||c.push(b("MercuryFilters.bs").groups);if(b("gkx")("1660458")){var d=a.groups_sync_status;!(d==null)&&b("bs_caml_obj").caml_equal(d,b("MessengerGroupsSyncStatus").OPT_IN)||c.push(b("MercuryFilters.bs").unsyncedChat)}if(b("gkx")("1275193"))if(a.name.length!==0){c.push(b("MercuryFilters.bs").named);return c}else{c.push(b("MercuryFilters.bs").unnamed);return c}else return c}function xa(a,c,d,e){oa.forEach(function(b){if(b!==d)return ta(a,c,b,e)});var f=b("bs_js_dict").get(a.threadlistOrderMap,d);if(f!==void 0){f=b("bs_js_dict").get(b("bs_caml_option").valFromOption(f),e);if(f!==void 0){f=b("bs_caml_option").valFromOption(f);f=[f.threadlist,f.existingIDs]}else f=[[],new Set()]}else f=[[],new Set()];var g=f[1],h=f[0];c.forEach(function(a){if(!g.has(a)){g.add(a);h.push(a);return}});return[v(a,h),g]}function ya(a,c,d,e){c=b("gkx")("1275193")||b("gkx")("1660458")?c.filter(function(c){c=b("bs_belt_Map").get(a.threads,c);if(c===void 0)return!1;c=wa(b("bs_caml_option").valFromOption(c));return c.some(function(a){return a===e})}):c;return xa(a,c,d,e)}function za(a,c,d){if(d===void 0)return;var e=b("bs_js_dict").get(a.unreadCounts,c);if(e!==void 0){b("bs_caml_option").valFromOption(e).add(b("bs_caml_option").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a.fbid);e.updatedUnreadState();return}d=b("MercuryServerRequests").getForFBID(a.fbid);d.fetchUnreadThreadIDs(c)}var Aa=b("MessengerFolders.bs").getSupportedFolders(void 0).filter(function(a){return a!=="action:archived"});function Ba(a,c,d){if(d===void 0)return;var e=b("bs_js_dict").get(a.unreadCounts,c);if(e!==void 0){b("bs_caml_option").valFromOption(e)["delete"](b("bs_caml_option").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a.fbid);e.updatedUnreadState();return}d=b("MercuryServerRequests").getForFBID(a.fbid);d.fetchUnreadThreadIDs(c)}function Ca(c,a,d){var e=b("MessengerFolders.bs").getFromMeta(a);if(d!==e){Aa.includes(e)&&a.unread_count>0&&za(c,e,b("bs_caml_option").some(a.thread_id));if(Aa.includes(d))return Ba(c,d,b("bs_caml_option").some(a.thread_id));else return}}function Da(a,c,d,e,f){var g=b("gkx")("1275193"),h=b("gkx")("1660458"),i=a.threadlistOrderMap[c][d],j=i.existingIDs.has(e);!f&&(g||h)?ya(a,[e],c,d):xa(a,[e],c,d);if(!(!g&&!h||i.threadlist.length!==0))return;f=b("bs_caml_array").get(i.threadlist,i.threadlist.length-1|0)===e;if(!i.reachedEnd&&!j&&f)return ta(a,[e],c,d)}function Ea(a,c,d){if(oa.includes(c))if((c==="inbox"||c==="action:archived"||c==="pending")&&(b("gkx")("1275193")||b("gkx")("1660458")))return Da(a,c,b("MercuryFilters.bs").unread,d,!0);else{xa(a,[d],c,b("MercuryFilters.bs").unread);return}}function Fa(c,a){var d=b("MessengerFolders.bs").getFromMeta(a);if(oa.includes(d)){na.forEach(function(b){return Da(c,d,b,a.thread_id,!1)});return}}function Ga(d,e,f,g){var a=b("bs_belt_Map").get(d.threads,e);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);var h=b("MessengerFolders.bs").getFromMeta(a);if(h!==f){if(g){g=a.comm_status;g=g==null?b("ImmutableObject").set(a,{folder:f}):f==="other"?b("ImmutableObject").set(a,{folder:f,comm_status:b("PageCommItemStatus").SPAM}):f==="inbox"?b("ImmutableObject").set(a,{folder:f,comm_status:b("PageCommItemStatus").TODO}):b("ImmutableObject").set(a,{folder:f})}else g=a;var c=a.other_user_fbid;c=c==null?[]:f==="other"?[b("MercuryIDs").getParticipantIDFromUserID(c)]:[];var i=a.other_user_fbid;f=i==null?[]:f==="other"?[]:[b("MercuryIDs").getParticipantIDFromUserID(i)];i=ja(d,c,f);c=b("bs_belt_Map").set(i.threads,e,g);Ca(i,g,h);Fa(i,g);u(i.fbid,e);return{fbid:i.fbid,deliveryReceipts:i.deliveryReceipts,readReceiptsPerThread:i.readReceiptsPerThread,ignoredIds:i.ignoredIds,blockedIds:i.blockedIds,pendingFolderUnseenCount:i.pendingFolderUnseenCount,typing:i.typing,threads:c,pendingReadStatusThreads:i.pendingReadStatusThreads,messages:i.messages,localIDsMap:i.localIDsMap,messagesWithUploadsInFlight:i.messagesWithUploadsInFlight,threadlistOrderMap:i.threadlistOrderMap,pinnedThreads:i.pinnedThreads,montage:i.montage,orderedMessageLists:i.orderedMessageLists,unreadCounts:i.unreadCounts,initialUnreadCounts:i.initialUnreadCounts,unseenTimestamp:i.unseenTimestamp}}Fa(d,a);return d}function Ha(a,c,d){d=c.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(c):d!==void 0?d:c.body;var e=c.raw_attachments;e=!(e==null)&&e.length!==0?b("MercuryAttachment").convertRaw(e):c.attachments;var f=c.removed_timestamp;if(f==null){f=c.log_message_type;d={snippet:d,snippet_attachments:e,snippet_sender:f==null?c.author:null}}else d={snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(c.author),snippet_attachments:null,snippet_sender:null};return Object.assign(a,d)}function x(a,c,d){var e=a.event_title,f=a.event_time;a=a.event_location_name;return{creator_id:null,latitude:null,location_address:null,longitude:null,note:"",related_event:{id:""},repeat_mode:null,seconds_to_notify_before:0,status:null,track_rsvp:c.track_rsvp,title:e==null?c.title:e,event_time:f==null?c.event_time:parseInt(f,10),location_name:a==null?c.location_name:a,event_members:d!==void 0?b("bs_caml_option").valFromOption(d):c.event_members,oid:c.oid,event_type:c.event_type}}function Ia(b,a){var c={};Object.keys(b).forEach(function(a){c[a]=b[a]});c[a.guest_id]=a.guest_status;return c}var y=function(a,b){delete a[b];return 0},z=function(a,b){delete a[b];return 0};function A(a){var c={contents:-1},d={contents:null},e=Math.floor(Date.now()/1e3);b("bs_js_dict").entries(a).forEach(function(a){a=a[1];var b=a.event_time;if(b>e&&(c.contents<0||c.contents>b)){c.contents=b;d.contents=a;return}});return d.contents}var B=b("XMercuryThreadLikeIconController");function Ja(a,c,d){d=B.getURIBuilder().setString("emoji",d).getURI();new(b("AsyncRequest"))(d).setHandler(function(d){var e=b("MercuryDispatcher").getForFBID(a);e.handleUpdate({actions:[{action_type:b("MercuryActionType").UPDATE_CUSTOM_LIKE,thread_id:c,custom_like:d.getPayload()}],from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANGE_CUSTOM_LIKE})}).send()}function Ka(d,a,c,e){c=c.log_message_data;if(c==null)return;var f=c.untypedData;if(c.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_NICKNAME){var g=a.custom_nickname;if(!(g==null)){g=b("bs_js_dict").fromArray(b("bs_js_dict").entries(g));var h=f.nickname;h.trim().length>0?g[f.participant_id]=h:z(g,f.participant_id);Object.assign(a,{custom_nickname:g})}u(d,e)}else if(c.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_ICON)Ja(d,e,f.thread_icon);else if(c.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_THEME){if(!b("ChatConfig").get("chat_tab_has_gradients")){h=f.theme_color;if(h==null)Object.assign(a,{solid_color:null,header_color:null,footer_color:null,gradient_colors:[]});else if(h.length>0){g="#"+h.slice(2);Object.assign(a,{solid_color:g,header_color:g,footer_color:g,gradient_colors:[g]})}else Object.assign(a,{solid_color:null,header_color:null,footer_color:null,gradient_colors:[]});u(d,e)}}else if(f!==void 0)if(c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE){var i={},j=f.event_creator_id;a.participants.forEach(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(!(a==null)){i[a]=b("bs_caml_obj").caml_equal(a,j)?"GOING":"INVITED";return}});h=b("bs_js_dict").fromArray(b("bs_js_dict").entries(a.lightweight_events));g=f.event_time;g={track_rsvp:f.event_track_rsvp,title:f.event_title,event_time:g==null?0:parseInt(g,10),location_name:f.event_location_name,event_members:i,oid:f.event_id,event_type:f.event_type};Object.assign(a,{lightweight_event:g});h[f.event_id]=Object.assign({},g);Object.assign(a,{lightweight_events:h});u(d,e)}else if(c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE||c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME||c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE||c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION){g=a.lightweight_event;if(!(g==null)){h=b("bs_js_dict").fromArray(b("bs_js_dict").entries(a.lightweight_events));g.oid===f.event_id&&Object.assign(a,{lightweight_event:x(f,g,b("bs_caml_option").some(g.event_members))});g=b("bs_js_dict").get(h,f.event_id);g!==void 0&&(h[f.event_id]=x(f,b("bs_caml_option").valFromOption(g),void 0),Object.assign(a,{lightweight_events:h}))}u(d,e)}else if(c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP){g=b("bs_js_dict").fromArray(b("bs_js_dict").entries(a.lightweight_events));h=a.lightweight_event;if(!(h==null)&&h.oid===f.event_id){var k=Ia(h.event_members,f);Object.assign(a,{lightweight_event:x(f,h,b("bs_caml_option").some(k))})}h=b("bs_js_dict").get(g,f.event_id);if(h!==void 0){k=b("bs_caml_option").valFromOption(h);h=Ia(k.event_members,f);g[f.event_id]=x(f,k,b("bs_caml_option").some(h));Object.assign(a,{lightweight_events:g})}u(d,e)}else if(c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE||c.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY){k=b("bs_js_dict").fromArray(b("bs_js_dict").entries(a.lightweight_events));y(k,f.event_id);Object.assign(a,{lightweight_event:A(k),lightweight_events:k});u(d,e)}}function La(c,d,e,f){if(b("CurrentUser").isWorkUser()&&b("gkx")("1179386")){var a=b("bs_belt_Map").get(c.threads,d);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var g=a.pinned_messages;g=g==null?void 0:g.map(function(a){if(e.findIndex(function(b){return b===a.message_id})!==-1){b("gkx")("1921671")&&f&&c.messages["delete"](a.message_id);return{message_id:a.message_id,pinning_time:a.pinning_time,message:null}}else return a});if(g!==void 0){a=b("ImmutableObject").set(a,{pinned_messages:g});g=b("bs_belt_Map").set(c.threads,d,a);u(c.fbid,d);a=g}else a=c.threads}else a=c.threads;return{fbid:c.fbid,deliveryReceipts:c.deliveryReceipts,readReceiptsPerThread:c.readReceiptsPerThread,ignoredIds:c.ignoredIds,blockedIds:c.blockedIds,pendingFolderUnseenCount:c.pendingFolderUnseenCount,typing:c.typing,threads:a,pendingReadStatusThreads:c.pendingReadStatusThreads,messages:c.messages,localIDsMap:c.localIDsMap,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,threadlistOrderMap:c.threadlistOrderMap,pinnedThreads:c.pinnedThreads,montage:c.montage,orderedMessageLists:c.orderedMessageLists,unreadCounts:c.unreadCounts,initialUnreadCounts:c.initialUnreadCounts,unseenTimestamp:c.unseenTimestamp}}else return c}function C(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.updatedMessage(c,d,b("bs_js_null_undefined").fromOption(e))}function D(c,a){c=b("MercuryThreadInformer").getForFBID(c);c.receivedMessage(a)}function Ma(a,c,d){a=b("MercuryThreadInformer").getForFBID(a);a.reorderedMessages(c,d)}function Na(a,c,d,e,f){a=b("MercuryThreadInformer").getForFBID(a);f=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(f==null?void 0:b("bs_caml_option").some(f),function(a){return b("bs_belt_Array").keepMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.message_file_fbid)})}),[]);b("MWChatDeleteMessageEventEmitter").emit(d);a.deletedMessage(c,d,b("bs_js_null_undefined").fromOption(e),f)}function Oa(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.deletedMessage(c,d,b("bs_js_null_undefined").fromOption(e),null)}var Pa=function(a,b){delete a[b];return 0};function E(c,a){var d=c.localIDsMap.get(a);return b("bs_caml_option").nullable_to_opt(c.messages.get(b("bs_belt_Option").getWithDefault(d==null?void 0:b("bs_caml_option").some(d),a)))}function F(a,c,d){a=a!==void 0?a:!1;d=b("bs_belt_Array").keepMap(d,function(a){return E(c,a)});if(a)return d.slice().reverse();else return d}function Qa(a,c){return b("bs_belt_Array").keepMap(c,function(b){return E(a,b)}).sort(function(a,c){return b("MessengerMessage.bs").compare(c,a)}).map(function(a){return a.message_id})}function G(a,b){return{fbid:a.fbid,deliveryReceipts:a.deliveryReceipts,readReceiptsPerThread:a.readReceiptsPerThread,ignoredIds:a.ignoredIds,blockedIds:a.blockedIds,pendingFolderUnseenCount:a.pendingFolderUnseenCount,typing:a.typing,threads:a.threads,pendingReadStatusThreads:a.pendingReadStatusThreads,messages:a.messages.set(b[0],b[1]),localIDsMap:a.localIDsMap,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,threadlistOrderMap:a.threadlistOrderMap,pinnedThreads:a.pinnedThreads,montage:a.montage,orderedMessageLists:a.orderedMessageLists,unreadCounts:a.unreadCounts,initialUnreadCounts:a.initialUnreadCounts,unseenTimestamp:a.unseenTimestamp}}function H(b,a){b.localIDsMap.set(a.message_id,a.message_id);return{fbid:b.fbid,deliveryReceipts:b.deliveryReceipts,readReceiptsPerThread:b.readReceiptsPerThread,ignoredIds:b.ignoredIds,blockedIds:b.blockedIds,pendingFolderUnseenCount:b.pendingFolderUnseenCount,typing:b.typing,threads:b.threads,pendingReadStatusThreads:b.pendingReadStatusThreads,messages:b.messages,localIDsMap:b.localIDsMap,messagesWithUploadsInFlight:b.messagesWithUploadsInFlight,threadlistOrderMap:b.threadlistOrderMap,pinnedThreads:b.pinnedThreads,montage:b.montage,orderedMessageLists:b.orderedMessageLists,unreadCounts:b.unreadCounts,initialUnreadCounts:b.initialUnreadCounts,unseenTimestamp:b.unseenTimestamp}}var I=function(a,b){delete a[b];return 0};function J(c,d){var a=c.orderedMessageLists;Object.keys(d).forEach(function(e){var f=b("bs_js_dict").get(d,e);if(f===void 0)return;var g=f[0],h=g.limit,i=g.offset;g=a.get(g.threadID);if(g==null)return;g=g.messageIDs;if(g.length>=(i+h|0)){I(d,e);return b("bs_curry")._1(f[1],F(!0,c,g.slice(i,i+h|0)))}})}function Ra(d,c,e){var a=e[1],f=e[0];b("MessengerMessage.bs").finalizeRanges(a);var g=a.offline_threading_id;if(!(g==null)&&g!==a.message_id){d.localIDsMap.set(g,a.message_id);b("MercuryMessageIDs.bs").addServerID(g,a.message_id);g=a.threading_id;g==null||b("MercuryMessageIDs.bs").addServerID(g,a.message_id)}g=d.messages.has(f);var h=d.fbid,i=d.deliveryReceipts,j=d.readReceiptsPerThread,k=d.ignoredIds,l=d.blockedIds,m=d.pendingFolderUnseenCount,n=d.typing,o=d.threads,p=d.pendingReadStatusThreads,aa=d.messages.set(f,a),q=d.localIDsMap,r=d.messagesWithUploadsInFlight,s=d.threadlistOrderMap,ba=d.pinnedThreads,ca=d.montage,t=d.orderedMessageLists,da=d.unreadCounts,ea=d.initialUnreadCounts;d=d.unseenTimestamp;h={fbid:h,deliveryReceipts:i,readReceiptsPerThread:j,ignoredIds:k,blockedIds:l,pendingFolderUnseenCount:m,typing:n,threads:o,pendingReadStatusThreads:p,messages:aa,localIDsMap:q,messagesWithUploadsInFlight:r,threadlistOrderMap:s,pinnedThreads:ba,montage:ca,orderedMessageLists:t,unreadCounts:da,initialUnreadCounts:ea,unseenTimestamp:d};if(!g&&e[2]===1){i=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.thread_id),function(a){return b("bs_caml_option").nullable_to_opt(t.get(a))}),{messageLoadingState:b("MercuryIDs").isLocalThread(a.thread_id)?1:0,messageIDs:[]});j=a.thread_id;if(!(j==null)){k=Qa(h,[f].concat(i.messageIDs.filter(function(c){return b("bs_caml_obj").caml_notequal(c,a.offline_threading_id)})));t.set(j,{messageLoadingState:i.messageLoadingState,messageIDs:k})}J(h,c.messageCallbacks.contents)}return h}function K(b,c,a){b.messagesWithUploadsInFlight.set(c,a);return{fbid:b.fbid,deliveryReceipts:b.deliveryReceipts,readReceiptsPerThread:b.readReceiptsPerThread,ignoredIds:b.ignoredIds,blockedIds:b.blockedIds,pendingFolderUnseenCount:b.pendingFolderUnseenCount,typing:b.typing,threads:b.threads,pendingReadStatusThreads:b.pendingReadStatusThreads,messages:b.messages,localIDsMap:b.localIDsMap,messagesWithUploadsInFlight:b.messagesWithUploadsInFlight,threadlistOrderMap:b.threadlistOrderMap,pinnedThreads:b.pinnedThreads,montage:b.montage,orderedMessageLists:b.orderedMessageLists,unreadCounts:b.unreadCounts,initialUnreadCounts:b.initialUnreadCounts,unseenTimestamp:b.unseenTimestamp}}function Sa(a,c){var d=c[1];c=c[0];var e=a.messagesWithUploadsInFlight.get(c);b("bs_belt_Option").isSome(e==null?void 0:b("bs_caml_option").some(e))||g(0,1777);a.messagesWithUploadsInFlight["delete"](c);if(e==null)return b("bs_pervasives").failwith("Message must exist to update");else return Object.assign(e,{image_ids:d.image_ids,file_ids:d.file_ids,audio_ids:d.audio_ids,gif_ids:d.gif_ids,video_ids:d.video_ids,client_state:b("MercuryMessageClientState").SEND_TO_SERVER})}function Ta(a,c){var d=c[1],e=c[0],f=a.orderedMessageLists.get(e);if(f==null)return a;var g=b("bs_belt_Array").keepMap(d,function(b){return E(a,b)}).map(function(a){return a.message_id}),h=Qa(a,f.messageIDs.filter(function(a){return g.indexOf(a)===-1}));a.orderedMessageLists.set(e,{messageLoadingState:f.messageLoadingState,messageIDs:h});Ma(a.fbid,e,b("bs_js_null_undefined").fromOption(c[2]));f=La(a,e,d,!0);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}function Ua(c,d){var e={snippet:"...",snippet_attachments:null,snippet_sender:null};d=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.orderedMessageLists.get(d)),function(a){return b("bs_belt_Array").get(F(void 0,c,a.messageIDs),0)});if(d!==void 0){var a=b("bs_caml_option").valFromOption(d);a=a.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(a):a.body}else a=null;if(d===void 0)return e;d=b("bs_caml_option").valFromOption(d);var f=d.removed_timestamp;if(!(f==null))return{snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(d.author),snippet_attachments:null,snippet_sender:null};if(a==null)return e;f=d.log_message_type;return{snippet:a,snippet_attachments:d.attachments,snippet_sender:f==null?d.author:null}}function Va(c,a){var d=a.attachments;if(d==null)return;var e=b("bs_belt_Array").keepMap(d,function(a){if(!(b("MercuryAttachment").isPhotoAttachment(a)||b("MercuryAttachment").isVideoAttachment(a)))return;a=a.metadata;if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.fbid)});b("MessengerSharedMediaActionsLoader").deletePhotos(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id),e);if(c!==void 0)return b("MessengerSharedPhotosVideosBaseData.bs").localRemove(b("bs_caml_option").valFromOption(c),b("bs_belt_Array").keepMap(d,function(a){if(!(b("MercuryAttachment").isPhotoAttachment(a)||b("MercuryAttachment").isVideoAttachment(a)))return;a=a.metadata;if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.fbid)}))}function Wa(a,c,d){d=a.orderedMessageLists.get(d);if(d==null)return a;d=d.messageIDs;var e={contents:!0};return b("bs_belt_Array").reduce(d,a,function(d,a){if(!e.contents)return d;var f=d.localIDsMap.get(a);f=b("bs_belt_Option").getWithDefault(f==null?void 0:b("bs_caml_option").some(f),a);if(f===c){e.contents=!1;return d}a=E(d,f);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);var g=a.replied_to_message,h;if(g==null)h=void 0;else{g=g.message;if(g==null)h=void 0;else{var i=d.localIDsMap.get(g.message_id);h=b("bs_belt_Option").getWithDefault(i==null?void 0:b("bs_caml_option").some(i),g.message_id)}}if(h===void 0)return d;if(h!==c)return d;i={status:b("RepliedToMessageStatusForGraphQL").DELETED,message:null};g=Object.assign(Object.assign({},a),{replied_to_message:i});return G(d,[f,g])})}function Xa(a,c){if(a==null)return 0;if(a.length===0)return 0;a=b("bs_array").map(function(a){var d=a.type;if(b("bs_caml_obj").caml_equal(d,b("MessageProfileRangeType").THREAD_ACTIVE)||b("bs_caml_obj").caml_equal(d,b("MessageProfileRangeType").THREAD))return b("gkx")("678578");d=a.id;if(d==null)return!1;else return b("bs_caml_obj").caml_equal(b("FBID.bs").ofStringExn(d),c)},a);return b("bs_array").fold_left(function(a,b){if(b)return a+1|0;else return a},0,a)}function Ya(a,c,d){if(b("cr:1299779")==null)return;var e=b("MercuryIDs").getThreadFBIDFromThreadID(a);return b("bs_curry")._1(b("cr:1299779").log,{event_name:b("MessengerWebEvent").SENT_MSG,mid:c,offline_threading_id:d,other_user_fbid:b("MercuryIDs").isCanonical(a)?e:null,thread_fbid:b("MercuryIDs").isGroupChat(a)?e:null})}function Za(d,c,e,f){var g=e.client_message_id,h;if(g==null)h=d;else{var i=E(d,g);if(i!==void 0){i=b("bs_caml_option").valFromOption(i);var j=e.message_id,k=e.status;if(b("bs_caml_obj").caml_equal(i.status,b("MercuryActionStatus").SUCCESS))h=d;else if(d.messages.has(j)){var a=Object.assign(Object.assign({},i),e);C(d.fbid,a.thread_id,a.message_id,f);h=G(d,[j,a])}else{a=b("bs_caml_obj").caml_equal(e.status,b("MercuryActionStatus").SUCCESS)?e.error_data:null;b("MercuryMessageIDs.bs").addServerID(g,j);d.localIDsMap.set(g,j);i=Object.assign(Object.assign({},i),{status:k,error_data:a,timestamp:e.timestamp,log_message_data:e.log_message_data,ranges:e.ranges,attachments:e.attachments,has_attachment:e.has_attachment,is_one_way_sent:e.is_one_way_sent,is_forwarded:e.is_forwarded});b("MessengerMessage.bs").finalizeRanges(i);k=G(d,[j,i]);k.messages.set(g,{});k.messages["delete"](g);a=i.thread_id;var l=k.orderedMessageLists.get(a);if(!(l==null)){var m=Qa(k,l.messageIDs);k.orderedMessageLists.set(a,{messageLoadingState:l.messageLoadingState,messageIDs:m})}C(k.fbid,i.thread_id,i.message_id,f);a=b("MessengerMessage.bs").isTitanMessage(i);l=c.localTitanMessageCount.get(i.thread_id);a&&!(l==null)&&c.localTitanMessageCount.set(i.thread_id,l-1|0);h={fbid:k.fbid,deliveryReceipts:k.deliveryReceipts,readReceiptsPerThread:k.readReceiptsPerThread,ignoredIds:k.ignoredIds,blockedIds:k.blockedIds,pendingFolderUnseenCount:k.pendingFolderUnseenCount,typing:k.typing,threads:k.threads,pendingReadStatusThreads:k.pendingReadStatusThreads,messages:k.messages,localIDsMap:k.localIDsMap.set(g,j),messagesWithUploadsInFlight:k.messagesWithUploadsInFlight,threadlistOrderMap:k.threadlistOrderMap,pinnedThreads:k.pinnedThreads,montage:k.montage,orderedMessageLists:k.orderedMessageLists,unreadCounts:k.unreadCounts,initialUnreadCounts:k.initialUnreadCounts,unseenTimestamp:k.unseenTimestamp}}}else h=d}m={};f=e.log_message_type;if(f==null)Object.assign(m,{snippet_attachments:e.attachments});else{if(b("bs_caml_obj").caml_equal(f,b("MercuryLogMessageType").THREAD_IMAGE)){a=e.log_message_data;if(a==null)c=null;else{i=a.image;c=i==null?null:i.preview_url}Object.assign(m,{image_src:c});u(h.fbid,e.thread_id)}b("bs_caml_obj").caml_notequal(f,b("MercuryLogMessageType").SUBSCRIBE)&&b("bs_caml_obj").caml_notequal(f,b("MercuryLogMessageType").UNSUBSCRIBE)&&Object.assign(m,{snippet_attachments:e.attachments})}Ya(e.thread_id,e.message_id,e.offline_threading_id);return w(void 0,h,e.thread_id,m)}function $a(c,a,d,e){if(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").SEND_MESSAGE))return Za(c,a,d,e);var f=d.offline_threading_id;f=b("bs_belt_Option").flatMap(f==null?void 0:b("bs_caml_option").some(f),function(a){return b("bs_caml_option").nullable_to_opt(c.localIDsMap.get(a))});var g=E(c,d.message_id);if(f!==void 0){if(g===void 0)return c;f=b("bs_caml_option").valFromOption(g);if(b("bs_caml_option").nullable_to_opt(f.sticker_id)===void 0)return c;var h=Object.assign(f,{attachments:d.attachments});return G(c,[f.message_id,h])}if(g!==void 0)return c;f=b("bs_caml_obj").caml_equal(e,b("bs_caml_option").some(b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))?H(c,d):c;h=b("bs_caml_obj").caml_equal(d.client_state,b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER);g=d.upload_id;e=h&&!(g==null)?K(f,g,d):f;h=b("MessengerMessage.bs").isErrorLogMessage(d);g=d.thread_id;h&&!(g==null)&&(a.failedHistoryFetchThreads.contents[g]=!0);f=d.manual_retry_cnt;h=d.thread_id;!(f==null)&&!(h==null)&&f>0&&Ma(e.fbid,h,b("MercuryPayloadSource").CLIENT_SEND_MESSAGE);g=Ra(e,a,[d.message_id,d,1]);D(g.fbid,d);return g}function ab(a,c,d,e){if(c===void 0)return;c=b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(c),b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE);var f=d.thread_id;if(!c){!(f==null);return}if(f==null)return;c=b("MercuryThreadInformer").getForFBID(a);return b("bs_curry")._3(e,c,f,d)}function bb(a,b){var c=a.participants.indexOf(b);if(c>0){Object.assign(a,{participants:[b].concat(a.participants.slice(0,c),a.participants.slice(c+1|0))});return}}function cb(c,d,e,f){var g=d.thread_id;if(g==null)return c;var a=b("bs_belt_Map").get(c.threads,g);if(a===void 0)return c;a=b("bs_caml_option").valFromOption(a);var h={};if(!d.skip_bump_thread&&b("bs_caml_obj").caml_notequal(e,b("bs_caml_option").some(b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))){Ha(h,d,b("bs_caml_option").nullable_to_opt(d.log_message_body));if(d.timestamp>a.timestamp){Object.assign(h,{timestamp:d.timestamp});if(d.is_unread){Object.assign(h,{unread_count:a.unread_count+1|0});e=Xa(d.profile_ranges,c.fbid);e>0&&Object.assign(h,{unread_mentions_count:a.unread_mentions_count+e|0})}}Object.assign(h,{message_count:a.message_count+1|0,is_archived:!1})}f!==!0&&d.timestamp>h.server_timestamp&&Object.assign(h,{server_timestamp:d.timestamp});if(b("bs_caml_obj").caml_notequal(h,{}))return w(void 0,c,g,h);else return c}function db(b,a,c){var d=new Set(c);Object.assign(a,{participants:a.participants.filter(function(a){return!d.has(a)})});if(d.has(b)){Object.assign(a,{can_reply:!1,is_subscribed:!1});return}}function L(c,a,d){a=a.specific_to_list;if(!(a==null))return a;a=b("MercuryIDs").tokenize(d);if(a.type!=="user"||a.value.length===0)return[c];else return[b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(a.value)),c]}function M(c,a,d){var e=b("MercuryIDs").tokenize(d),f=e.type==="user",g=a.specific_to_list;g=f?!0:g==null?!1:b("MessengerThreadUtils.bs").isCanonicalFromInitialParticipants(c,g);if(g||f)c=L(c,a,d);else{var h=a.specific_to_list;c=h==null?[]:h}return new(b("ImmutableObject"))({admins:{},admin_model_status:null,approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:!0,cannot_reply_reason:null,can_viewer_report:!1,comm_item_owners:null,comm_source_id:null,comm_status:null,comm_icon_type:[],composer_input_disabled:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,footer_color:null,game_id:null,gradient_colors:[],accessibility_label:null,reverse_gradients_for_radial:null,group_approval_queue:null,group_thread_subtype:null,work_associated_group:null,pinned_messages:null,groups_sync_status:null,has_email_participant:!1,has_montage:!1,unread_mentions_count:0,header_color:null,is_canonical_neo_user:!1,is_from_weak_entry_point:!1,is_pin_protected:!1,is_pinned:!1,is_thread_queue_enabled:!1,joinable_mode:{link:"",mode:0},last_message_timestamp:0,last_message_type:null,last_message_admin_text_type:null,last_message_unsendability_status:null,last_message_id:null,last_read_timestamp:0,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,mute_until:null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants_event_status:null,reactions_mute_mode:0,read_only:!1,recipients_loadable:!0,rtc_call_data:null,server_timestamp:0,solid_color:null,subtitle:null,theme_id:null,reactions:void 0,thread_associated_job_applications:null,thread_associated_page_admin:null,thread_connectivity_data:null,thread_fbid:null,thread_type:null,thread_pin_timestamp:null,thread_id:d,participants:c,preloaded_participants:[],name:"",snippet:a.body,snippet_attachments:[],snippet_sender:a.author,unread_count:0,message_count:0,image_src:null,square_image_src:null,timestamp:a.timestamp,other_user_fbid:f?b("FBID.bs").ofStringExn(e.value):null,is_canonical_user:f,is_other_recipient_page:!1,is_canonical:g,is_subscribed:!0,folder:"inbox",is_archived:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,object_association_type:null,joinable_link:null,linked_mentorship_programs:null,thread_unsendability_status:null,is_business_page_active:!1,graphql_token:null,conversion_detection_data:null,suggested_reply_data:null})}function eb(c,d,a,e){e=b("MessengerMessage.bs").hasServerTimestamp(a,e);var f=a.thread_id;if(f==null)return;b("MercuryAssert").isThreadID(f);d=b("bs_belt_Map").get(d,f);if(d!==void 0)return b("bs_caml_option").some(b("bs_caml_option").valFromOption(d));else if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE)&&!e)return b("bs_caml_option").some(M(b("MercuryIDs").getParticipantIDFromUserID(c),a,f));else return}function fb(c,d){var a=d.other_user_fbid;if(a==null){var e=d.thread_fbid;e=e==null?void 0:b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromThreadFBID(e))}else e=b("bs_caml_option").some(b("MercuryIDs").getThreadIDFromUserID(a));a=d.thread_id;e=a==null?e:a==null?void 0:b("bs_caml_option").some(a);a=d.thread_id;var f;if(a==null)f="";else{a=b("bs_belt_Map").get(c.threads,a);f=a!==void 0?b("MessengerFolders.bs").getFromMeta(b("bs_caml_option").valFromOption(a)):d.folder}Aa.includes(f)&&(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE)||b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").LOG_MESSAGE))&&d.is_unread&&za(c,f,e);return{fbid:c.fbid,deliveryReceipts:c.deliveryReceipts,readReceiptsPerThread:c.readReceiptsPerThread,ignoredIds:c.ignoredIds,blockedIds:c.blockedIds,pendingFolderUnseenCount:c.pendingFolderUnseenCount,typing:c.typing,threads:c.threads,pendingReadStatusThreads:c.pendingReadStatusThreads,messages:c.messages,localIDsMap:c.localIDsMap,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,threadlistOrderMap:c.threadlistOrderMap,pinnedThreads:c.pinnedThreads,montage:c.montage,orderedMessageLists:c.orderedMessageLists,unreadCounts:c.unreadCounts,initialUnreadCounts:c.initialUnreadCounts,unseenTimestamp:c.unseenTimestamp}}var gb=function(a,b){delete a[b];return 0};function hb(a,c){Object.keys(c).forEach(function(d){var e=b("bs_js_dict").get(c,d);if(e===void 0)return;var f=e[0],g=l(f.reduce(function(c,d){var e=b("bs_belt_Map").get(a,d);if(e!==void 0)return b("bs_belt_Map").set(c,d,b("bs_caml_option").valFromOption(e));else return c},b("bs_belt_Map").make(b("ThreadId.bs"))));if(Object.keys(g).length===f.length){gb(c,d);return b("bs_curry")._1(e[1],g)}})}function ib(c,a,d,e,f){var g=c.fbid;d!==0&&sa(g,a.thread_id,f,d);if(a.timestamp===0){b("ChatReliabilityInstrumentation").logERROR("thread timestamp is 0");e.add(a.thread_id);return}d=a.unread_count===0;if(d===f)return;u(g,a.thread_id);if(f)e=0;else{d=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.orderedMessageLists.get(a.thread_id)),function(a){return b("bs_belt_Array").get(F(void 0,c,a.messageIDs),0)});g=d!==void 0?b("bs_caml_option").valFromOption(d).profile_ranges:null;e=Xa(g,c.fbid)}return{unread_count:f?0:1,unread_mentions_count:e}}function jb(a,c,d,e,f){f=b("gkx")("1275193")||b("gkx")("1660458")?ya(a,f,c,d):xa(a,f,c,d);a=a.threadlistOrderMap[c];c=b("bs_js_dict").get(a,d);c=c!==void 0?b("bs_caml_option").valFromOption(c).reachedEnd:!1;a[d]={reachedEnd:e.contents?e.contents:c,threadlist:f[0],existingIDs:f[1]}}function kb(a,c,d,e){var f=b("bs_belt_Array").make(e.length,[]),g={contents:!1};d.forEach(function(d){d.thread_ids.forEach(function(c){var h=b("bs_belt_Map").get(a.threads,c);if(h===void 0)return;h=wa(b("bs_caml_option").valFromOption(h));for(var g=0,d=e.length;g<d;++g){var i=h.find(function(a){return function(c){return c===b("bs_caml_array").get(e,a)}}(g));(i===void 0?void 0:b("bs_caml_option").some(i))!==void 0&&b("bs_caml_array").get(f,g).push(c)}});d=d.limit;var h=e.find(function(a){return a===b("MercuryFilters.bs").all});h=h===void 0?void 0:b("bs_caml_option").some(h);for(var i=0,c=f.length;i<c;++i)(h===void 0&&b("bs_caml_array").get(f,i).length<d||b("bs_caml_array").get(e,i)===b("MercuryFilters.bs").all&&b("bs_caml_array").get(f,i).length<d)&&(g.contents=!0)});for(var d=0,h=e.length;d<h;++d)jb(a,c,b("bs_caml_array").get(e,d),g,b("bs_caml_array").get(f,d))}function N(c,a){var d;if(a.is_archived)d="action:archived";else{var e=a.thread_type;d=e==null||e!==b("MessagingThreadType").MARKETPLACE?a.folder:"marketplace_folder"}e=b("bs_js_dict").get(c.threadlistOrderMap,d);if(e!==void 0)return d}function lb(a,c){var d={};oa.forEach(function(a){var b={};na.forEach(function(a){b[a]=[]});d[a]=b});c.forEach(function(c){var e=b("bs_belt_Map").get(a.threads,c.thread_id);if(e===void 0)return;var f=b("bs_caml_option").valFromOption(e),g=N(a,f);if(g!==void 0){wa(f).forEach(function(a){if(f.timestamp!==0){d[g][a].push(c.thread_id);return}});return}});oa.forEach(function(c){na.forEach(function(e){var f=d[c][e];b("gkx")("1275193")||b("gkx")("1660458")?ya(a,f,c,e):xa(a,f,c,e)})});return{fbid:a.fbid,deliveryReceipts:a.deliveryReceipts,readReceiptsPerThread:a.readReceiptsPerThread,ignoredIds:a.ignoredIds,blockedIds:a.blockedIds,pendingFolderUnseenCount:a.pendingFolderUnseenCount,typing:a.typing,threads:a.threads,pendingReadStatusThreads:a.pendingReadStatusThreads,messages:a.messages,localIDsMap:a.localIDsMap,messagesWithUploadsInFlight:a.messagesWithUploadsInFlight,threadlistOrderMap:a.threadlistOrderMap,pinnedThreads:a.pinnedThreads,montage:a.montage,orderedMessageLists:a.orderedMessageLists,unreadCounts:a.unreadCounts,initialUnreadCounts:a.initialUnreadCounts,unseenTimestamp:a.unseenTimestamp}}function mb(a){b("bs_belt_Map").map(a.threads,function(c){c=b("bs_belt_Map").get(a.threads,c.thread_id);if(c===void 0)return;c=b("bs_caml_option").valFromOption(c);if(b("bs_caml_option").nullable_to_opt(c.thread_type)!==b("MessagingThreadType").MARKETPLACE)return;c=b("ImmutableObject").set(c,{folder:"marketplace_folder"});lb(a,[c])})}function nb(c,a,d){var e=function(a){return a.timestamp>(d&&c.unseenTimestamp<=a.last_read_timestamp?a.last_read_timestamp:c.unseenTimestamp)},f=function(a){var d;return(d=b("bs_belt_Option")).mapWithDefault(d.flatMap(d.map(d.map(b("bs_caml_option").nullable_to_opt(c.orderedMessageLists.get(a.thread_id)),function(a){return b("bs_caml_array").get(a.messageIDs,0)}),function(a){return b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.localIDsMap.get(a)),a)}),function(a){return b("bs_caml_option").nullable_to_opt(c.messages.get(a))}),!1,function(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(c.fbid)})},g=function(a,c){if(e(a)&&!b("MercuryThreadInfo").isMuted(a)&&!f(a))return c+1|0;else return c};return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_js_dict").get(c.threadlistOrderMap,"inbox"),function(a){return b("bs_js_dict").get(a,b("MercuryFilters.bs").all)}),function(d){d=d.threadlist;if(d.length!==0)return d.reduce(function(a,d){d=b("bs_belt_Map").get(c.threads,d);if(d!==void 0)return g(b("bs_caml_option").valFromOption(d),a);else return a},0);else if(b("bs_belt_Map").isEmpty(c.threads))return a.fallbackUnseenCount.contents;else return b("bs_belt_Map").reduce(c.threads,0,function(b,d,a){d=N(c,a);if(d==="inbox")return g(a,b);else return b})}),a.fallbackUnseenCount.contents)}function O(c,a){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_js_dict").get(c.threadlistOrderMap,"inbox"),function(a){return b("bs_js_dict").get(a,b("MercuryFilters.bs").all)}),function(d){if(d.threadlist.length===0)if(b("bs_belt_Map").isEmpty(c.threads))return a.fallbackUnseenCount.contents;else return b("bs_belt_Map").reduce(c.threads,0,function(d,e,a){var f=N(c,a);if(f===void 0)return d;if(f!=="inbox")return d;if(!(a.timestamp>c.unseenTimestamp&&!b("MercuryThreadInfo").isMuted(a)))return d;f=b("bs_js_dict").get(c.unreadCounts,"inbox");if(f!==void 0&&b("bs_caml_option").valFromOption(f).has(e))return d+1|0;else return d});else return d.threadlist.reduce(function(d,e){var a=b("bs_belt_Map").get(c.threads,e);if(a===void 0)return d;a=b("bs_caml_option").valFromOption(a);if(!(a.timestamp>c.unseenTimestamp&&!b("MercuryThreadInfo").isMuted(a)))return d;a=b("bs_js_dict").get(c.unreadCounts,"inbox");if(a!==void 0&&b("bs_caml_option").valFromOption(a).has(e))return d+1|0;else return d},0)}),a.fallbackUnseenCount.contents)}function ob(c,a,d){if(d==="pending")return{fbid:c.fbid,deliveryReceipts:c.deliveryReceipts,readReceiptsPerThread:c.readReceiptsPerThread,ignoredIds:c.ignoredIds,blockedIds:c.blockedIds,pendingFolderUnseenCount:0,typing:c.typing,threads:c.threads,pendingReadStatusThreads:c.pendingReadStatusThreads,messages:c.messages,localIDsMap:c.localIDsMap,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,threadlistOrderMap:c.threadlistOrderMap,pinnedThreads:c.pinnedThreads,montage:c.montage,orderedMessageLists:c.orderedMessageLists,unreadCounts:c.unreadCounts,initialUnreadCounts:c.initialUnreadCounts,unseenTimestamp:c.unseenTimestamp};if(b("gkx")("969964")){d=b("MercuryThreadInformer").getForFBID(c.fbid);d.updatedUnseenTimestamp()}return{fbid:c.fbid,deliveryReceipts:c.deliveryReceipts,readReceiptsPerThread:c.readReceiptsPerThread,ignoredIds:c.ignoredIds,blockedIds:c.blockedIds,pendingFolderUnseenCount:c.pendingFolderUnseenCount,typing:c.typing,threads:c.threads,pendingReadStatusThreads:c.pendingReadStatusThreads,messages:c.messages,localIDsMap:c.localIDsMap,messagesWithUploadsInFlight:c.messagesWithUploadsInFlight,threadlistOrderMap:c.threadlistOrderMap,pinnedThreads:c.pinnedThreads,montage:c.montage,orderedMessageLists:c.orderedMessageLists,unreadCounts:c.unreadCounts,initialUnreadCounts:c.initialUnreadCounts,unseenTimestamp:a}}function P(a,c,d){var e=[];return b("bs_array").fold_left(function(f,g){switch(g.TAG|0){case 0:e.push(g._0.TAG|0);break;case 1:case 2:break}switch(g.TAG|0){case 0:var h=g._0;if(typeof h==="number"){a.threadCallbacks.contents={};a.threadSubToken.contents=a.threadSubToken.contents;a.failedHistoryFetchThreads.contents={};a.localTitanMessageCount.clear();b("bs_belt_Map").keysToArray(f.threads).forEach(function(a){return qa(f.fbid,a)});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:void 0,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:b("bs_belt_Map").make(b("ThreadId.bs")),pendingReadStatusThreads:new Set(),messages:new Map(),localIDsMap:new Map(),messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:pa(void 0),pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:new Map(),unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}switch(h.TAG|0){case 0:var j=h._0,n={contents:!1},o={contents:f.deliveryReceipts};Object.keys(j).forEach(function(a){var c=j[a],d=b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(o.contents,a),0);if(c>d){n.contents=!0;o.contents=b("bs_belt_MapString").set(o.contents,a,c);return}});if(n.contents)return{fbid:f.fbid,deliveryReceipts:o.contents,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 1:return ja(f,h._0,[]);case 2:var p=h._0,q=h._1;q=q.reduce(b("bs_belt_Set").remove,p.reduce(b("bs_belt_Set").add,f.blockedIds));if(q===f.blockedIds)return f;else return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:q,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 3:p=h._0;q=p.reduce(function(a,c){var d=c.is_messenger_ignored;if(d==null)return a;else if(d)return b("bs_belt_Set").add(a,b("MercuryIDs").getParticipantIDFromUserID(c.fbid));else return b("bs_belt_Set").remove(a,b("MercuryIDs").getParticipantIDFromUserID(c.fbid))},f.ignoredIds);if(q===f.ignoredIds)return f;else return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:q,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 4:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("SetInitialPendingFolderUnseenCount");p=h._0;return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:p,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 5:q=h._0;p=ma(f.fbid,q);if(p==null)return f;var r=b("FBID.bs").ofString(q.from.toString());if(r===void 0)return f;b("MessengerPersonas.bs").addPersona(q.persona);var s=q.persona;r=s==null?b("MercuryIDs").getParticipantIDFromUserID(b("bs_caml_option").valFromOption(r)):b("MercuryIDs").getParticipantIDFromUserID(s.id);if(q.st===b("TypingStates").TYPING){s=b("bs_belt_MapString").get(f.typing,p);if(s!==void 0)return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:b("bs_belt_MapString").set(f.typing,p,b("bs_belt_Map").set(b("bs_caml_option").valFromOption(s),r,Date.now())),threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};s=b("bs_belt_Map").set(b("bs_belt_Map").make(b("ParticipantId.bs")),r,Date.now());return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:b("bs_belt_MapString").set(f.typing,p,s),threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}if(q.st!==b("TypingStates").INACTIVE)return f;s=la(f.typing,p,r);if(s!==f.typing)return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:s,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 6:var ba=h._0,ca={contents:!1},t={contents:f.readReceiptsPerThread};Object.keys(ba).forEach(function(a){Object.keys(ba[a]).forEach(function(c){var d=b("bs_belt_MapString").get(t.contents,a);d=d!==void 0?b("bs_caml_option").valFromOption(d):b("immutable").OrderedMap();var e=d.get(c),f=ba[a][c];if(!(e==null)&&f.watermark<=e.watermark)return;ca.contents=!0;t.contents=b("bs_belt_MapString").set(t.contents,a,d.set(c,f))});var c=b("bs_belt_MapString").get(t.contents,a);if(c!==void 0){ca.contents=!0;t.contents=b("bs_belt_MapString").set(t.contents,a,b("bs_caml_option").valFromOption(c).sort(function(a,c){return b("bs_caml_primitive").caml_float_compare(a.watermark,c.watermark)}));return}});if(ca.contents)return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:t.contents,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 7:q=h._0;if(q.length===0)return f;p=f.threads;r=q.reduce(function(c,a){return b("bs_belt_Map").set(c,a.thread_id,new(b("ImmutableObject"))(a))},p);hb(r,a.threadCallbacks.contents);q.forEach(function(a){return u(f.fbid,a.thread_id)});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:r,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 8:s=h._0;if(s.length===0)return f;var da=f.pendingReadStatusThreads,ea=b("MercuryServerRequests").getForFBID(f.fbid);s.forEach(function(a){var b=a.thread_id;if(da.has(b)){da["delete"](b);if(a.unread_count>0){ea.changeThreadReadStatus(b,!0,null,null,null,null);return}else return}});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:da,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 9:var fa=h._0;b("qex")._("998180")===!0&&b("MessengerEnvironment").messengerdotcom&&mb(f);oa.forEach(function(a){na.forEach(function(c){var d=fa.filter(function(d){var e=d.filter;e=e==null?b("MercuryFilters.bs").all:e;d=d.folder;d=d==null?a==="inbox":d===a;if(d)return e===c;else return!1});if(!b("gkx")("1275193")&&!b("gkx")("1660458")||a!=="inbox"&&a!=="action:archived"&&a!=="pending"||c===b("MercuryFilters.bs").groups){var e=[],g={contents:!1};d.forEach(function(a){a.thread_ids.forEach(function(a){e.push(a)});var b=a.limit;if(a.thread_ids.length<b){g.contents=!0;return}});return jb(f,a,c,g,e)}if(c!==b("MercuryFilters.bs").all)return kb(f,a,d,[b("MercuryFilters.bs").all,c]);var h=b("gkx")("1275193")?[b("MercuryFilters.bs").all,b("MercuryFilters.bs").unread,b("MercuryFilters.bs").named,b("MercuryFilters.bs").unnamed]:[b("MercuryFilters.bs").all,b("MercuryFilters.bs").unread,b("MercuryFilters.bs").unsyncedChat];return kb(f,a,d,h)})});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 10:return lb(f,h._0);case 11:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdatePinnedThreads");p=h._0;if(p.length===0)return f;p.forEach(function(b){if(!a.existingPinnedThreads.has(b)){f.pinnedThreads.push(b);a.existingPinnedThreads.add(b);return}});q=b("MercuryThreadInformer").getForFBID(f.fbid);q.updatedThreadlist();return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 12:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnSubscribeStatusUpdate");r=h._0;var ga=h._1;return w(function(a){return a.page_unsubscribe_status!==ga},f,r,{page_unsubscribe_status:ga});case 13:s=h._0;p=h._1;q=h._2;return w(void 0,f,s,{can_reply:p,cannot_reply_reason:q});case 14:r=h._0;s=h._1;p=b("bs_belt_Map").get(f.threads,r);if(p===void 0)return f;q=Object.assign({},b("bs_caml_option").valFromOption(p));ua(b("MercuryIDs").getParticipantIDFromUserID(f.fbid),q,s);return w(void 0,f,r,q);case 15:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFlag");p=h._0;s=h._1;r=b("bs_belt_Map").get(f.threads,p);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);r=q.page_thread_info;q=b("ImmutableObject").set(q,{page_thread_info:Object.assign(r==null?{}:r,{flagged:s})});r=b("bs_belt_Map").set(f.threads,p,q);u(f.fbid,p);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:r,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 16:s=h._0;return w(function(a){return b("MessageRequestUtils").isMessageRequest(a)},f,s,{folder:"inbox"});case 17:q=h._0;p=h._1;return w(void 0,f,q,{custom_like_icon:p});case 18:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("PromoteGroupAdmins");r=h._0;s=h._1;q=b("bs_belt_Map").get(f.threads,r);if(q===void 0)return f;p=b("bs_caml_option").valFromOption(q);q=b("bs_js_dict").fromArray(b("bs_js_dict").entries(p.admins));p=b("ImmutableObject").set(p,{admins:b("bs_array").fold_left(function(a,b){a[b.admin_fbid]=b.admin_type;return a},q,s)});q=b("bs_belt_Map").set(f.threads,r,p);u(f.fbid,r);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:q,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 19:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("RemoveGroupAdmins");s=h._0;p=h._1;r=b("bs_belt_Map").get(f.threads,s);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);r=b("bs_js_dict").fromArray(b("bs_js_dict").entries(q.admins));q=b("ImmutableObject").set(q,{admins:b("bs_array").fold_left(function(c,a){var d=b("bs_js_dict").get(c,a);d!==void 0&&ka(c,a);return c},r,p)});r=b("bs_belt_Map").set(f.threads,s,q);u(f.fbid,s);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:r,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 20:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("JoinableMode");p=h._0;q=h._1;return w(void 0,f,p,{joinable_mode:q});case 21:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalMode");s=h._0;r=h._1;return w(void 0,f,s,{approval_mode:r});case 22:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalQueue");p=h._0;q=h._1;s=h._2;var ia=h._3,sa=h._4;r=b("bs_belt_Map").get(f.threads,p);if(r===void 0)return f;r=b("bs_caml_option").valFromOption(r);var v=r.group_approval_queue;r={approval_queue_ids:r.approval_queue_ids.slice(),group_approval_queue:v==null?null:v.slice()};!(q==null)&&r.approval_queue_ids.indexOf(q)===-1&&Object.assign(r,{approval_queue_ids:r.approval_queue_ids.concat([q])});if(!(s==null)){v=r.group_approval_queue;v==null?Object.assign(r,{group_approval_queue:[s]}):v.map(function(a){return a.requester.id}).indexOf(s.requester.id)===-1&&Object.assign(r,{group_approval_queue:v.concat([s])})}ia==null||Object.assign(r,{approval_queue_ids:r.approval_queue_ids.filter(function(a){return b("bs_caml_obj").caml_notequal(a,ia)})});if(!(sa==null)){q=r.group_approval_queue;Object.assign(r,{group_approval_queue:(q==null?[]:q).filter(function(a){return a.requester.id!==sa})})}return w(void 0,f,p,r);case 23:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("IsPinProtected");v=h._0;s=h._1;return w(void 0,f,v,{is_pin_protected:s});case 24:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateRtcCallData");q=h._0;p=h._1;r=h._2;v=h._3;s=b("bs_belt_Map").get(f.threads,q);if(s===void 0)return f;if(p==null){s=b("bs_caml_option").valFromOption(s).rtc_call_data;s=s==null?void 0:p}else s=p;return w(void 0,f,q,{rtc_call_data:new(b("ImmutableObject"))({call_state:r,server_info_data:v,initiator_fbid:s})});case 25:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommStatus");p=h._0;q=h._1;return w(void 0,f,p,{comm_status:q});case 26:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommItemOwner");r=h._0;v=h._1;s=h._2;p=h._3;q=v==null?{nodes:[]}:{nodes:[{admin:{id:v,name:s,profile_picture:{uri:p}}}]};w(void 0,f,r,{comm_item_owners:q});if(v==null)return w(void 0,f,r,{thread_associated_page_admin:null});else return w(void 0,f,r,{thread_associated_page_admin:{id:v,name:s,profile_picture:{uri:p}}});case 27:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("EventRsvpChanged");q=h._0;var wa=h._1;r=h._2;v=b("bs_belt_Map").get(f.threads,q);if(v===void 0)return f;s=b("bs_caml_option").valFromOption(v).participants_event_status;p=(s==null?[]:s).filter(function(a){return b("bs_caml_obj").caml_notequal(a.participant_id,wa)});p.push({participant_id:wa,event_status:r});return w(void 0,f,q,{participants_event_status:p});case 28:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncStatusChanged");v=h._0;s=h._1;r=h._2;return!(r==null)&&b("bs_caml_obj").caml_equal(r,b("MessengerGroupsSyncStatus").OPT_IN)?w(void 0,f,v,{groups_sync_status:s}):w(void 0,f,v,{groups_sync_status:s,work_associated_group:null});case 29:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncMetadataUpdate");q=h._0;p=h._1;r=h._2;v=h._3;if(p==null)return w(void 0,f,q,{work_associated_group:null});if(!b("bs_caml_obj").caml_equal(p,b("MessengerGroupsSyncStatus").OPT_IN))if(b("bs_caml_obj").caml_equal(p,b("MessengerGroupsSyncStatus").UPDATE_EMOJI))return w(void 0,f,q,{work_associated_group:{id:r,group_icon:{emoji_codepoints:v}}});else return w(void 0,f,q,{work_associated_group:null});s=new(i||(i=b("URI")))(document.URL);p=s.getDomain();v=va.getURIBuilder().setString("idorvanity",r).getURI().setDomain(p==null?"":p.replace("messenger.com","facebook.com")).setPort(s.getPort()).setProtocol("https");return w(void 0,f,q,{work_associated_group:{id:r,url:v.toString(),group_saves:{count:0},group_events:{count:0}}});case 30:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DescriptionChanged");p=h._0;s=h._1;return w(void 0,f,p,{description:s});case 31:q=h._0;r=h._1;return w(void 0,f,q,{solid_color:r.solid_color,header_color:r.header_color,footer_color:r.footer_color,gradient_colors:r.gradient_colors,theme_id:r.theme_id,reactions:r.reactions});case 32:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateJoinableLink");v=h._0;p=h._1;return w(void 0,f,v,{joinable_link:p});case 33:var ya=h._0;s=b("bs_belt_Map").toArray(f.threads).reduce(function(c,d){var a=d[1];d=d[0];if(a.folder===ya){u(f.fbid,d);return b("bs_belt_Map").set(c,d,b("ImmutableObject").set(a,{unread_count:0,unread_mentions_count:0}))}else return c},f.threads);f.unreadCounts[ya]=new Set();q=b("MercuryThreadInformer").getForFBID(f.fbid);q.updatedUnreadState();return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:s,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 34:var Da=h._0;b("gkx")("1199097")&&b("ChatReliabilityInstrumentation").logDELETE_THREAD(Da);r=b("bs_belt_Map").remove(f.threads,Da);f.orderedMessageLists["delete"](Da);f.messages.forEach(function(a,c,d){if(!b("bs_caml_obj").caml_equal(a.thread_id,Da))return;f.messages["delete"](a.message_id);c=a.offline_threading_id;if(!(c==null)){d=f.localIDsMap.get(c);d==null||(f.messages["delete"](d),f.localIDsMap["delete"](c))}f.localIDsMap["delete"](a.message_id)});qa(f.fbid,Da);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:r,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 35:v=h._0;return Ra(f,a,[v.message_id,v,h._1]);case 36:p=[h._0,h._1,h._2];var Ha=p[2];q=p[1];var x=p[0];if(q.length===0)return f;s=Ta(f,[x,q,Ha]);r=0;Ha!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(Ha),b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)||(r=1);r===1&&b("MercuryServerRequests").getForFBID(s.fbid).deleteMessages(x,q);return b("bs_belt_Array").reduce(q,s,function(d,e){var c=E(d,e),a=b("bs_belt_Map").get(d.threads,x);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=b("ImmutableObject").set(b("ImmutableObject").set(a,Ua(d,x)),{message_count:a.message_count-1|0});a=b("bs_belt_Map").set(d.threads,x,a);u(d.fbid,x);a={fbid:d.fbid,deliveryReceipts:d.deliveryReceipts,readReceiptsPerThread:d.readReceiptsPerThread,ignoredIds:d.ignoredIds,blockedIds:d.blockedIds,pendingFolderUnseenCount:d.pendingFolderUnseenCount,typing:d.typing,threads:a,pendingReadStatusThreads:d.pendingReadStatusThreads,messages:d.messages,localIDsMap:d.localIDsMap,messagesWithUploadsInFlight:d.messagesWithUploadsInFlight,threadlistOrderMap:d.threadlistOrderMap,pinnedThreads:d.pinnedThreads,montage:d.montage,orderedMessageLists:d.orderedMessageLists,unreadCounts:d.unreadCounts,initialUnreadCounts:d.initialUnreadCounts,unseenTimestamp:d.unseenTimestamp}}else a=d;if(c!==void 0){d=b("bs_caml_option").valFromOption(c);Va(b("bs_caml_option").some(x),d);Na(a.fbid,x,e,Ha,d.attachments)}return a});case 37:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFolder");return Ga(f,h._0,h._1,1);case 38:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeMuteSettings");v=h._0;p=h._1;r=b("bs_belt_Map").get(f.threads,v);if(r===void 0)return f;q=b("bs_caml_option").valFromOption(r);var Ia;switch(p.TAG|0){case 0:Ia=b("ImmutableObject").set(q,{reactions_mute_mode:p._0?1:0});break;case 1:Ia=b("ImmutableObject").set(q,{mentions_mute_mode:p._0?1:0});break;case 2:s=p._0;Ia=b("ImmutableObject").set(q,{mute_until:s===0?void 0:s});break}r=b("bs_belt_Map").set(f.threads,v,Ia);u(f.fbid,v);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:r,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 39:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeArchivedStatus");p=h._0;q=h._1;s=b("bs_belt_Map").get(f.threads,p);if(s===void 0)return f;v=b("bs_caml_option").valFromOption(s);if(v.is_archived===q)return f;r=b("MessengerFolders.bs").getFromMeta(v);s=v.comm_status;s=s==null?b("ImmutableObject").set(v,{is_archived:q}):b("ImmutableObject").set(v,{is_archived:q,comm_status:q?b("PageCommItemStatus").DONE:b("PageCommItemStatus").TODO});v=b("bs_belt_Map").set(f.threads,p,s);Ca(f,s,r);Fa(f,s);u(f.fbid,p);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:v,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 40:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePageFollowUpStatus");q=h._0;r=h._1;s=b("bs_belt_Map").get(f.threads,q);if(s===void 0)return f;p=b("bs_caml_option").valFromOption(s);if(p.is_page_follow_up===r)return f;v=b("ImmutableObject").set(p,{is_page_follow_up:r});s=b("bs_belt_Map").set(f.threads,q,v);u(f.fbid,q);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:s,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 41:p=h._0;r=h._1;v=h._2;q=h._3;s=h._4;var y=b("bs_belt_Map").get(f.threads,p);if(y===void 0)return f;y=b("bs_caml_option").valFromOption(y);v=ib(f,y,v,f.pendingReadStatusThreads,r);v=v!==void 0&&y.last_message_timestamp>y.last_read_timestamp?b("bs_caml_option").some(Object.assign(b("bs_caml_option").valFromOption(v),{last_read_timestamp:y.last_message_timestamp})):v;if(v!==void 0){v=b("ImmutableObject").set(y,b("bs_caml_option").valFromOption(v));var z=b("bs_belt_Map").set(f.threads,p,v);if(q){q=!y.read_only&&y.folder==="inbox";var A=b("MercuryServerRequests").getForFBID(f.fbid);A.changeThreadReadStatus(v.thread_id,r,s,v.last_read_timestamp,q,v.last_message_type)}A=z}else A=f.threads;s=b("MessengerFolders.bs").getFromMeta(y);r?(ta(f,[p],s,b("MercuryFilters.bs").unread),Ba(f,s,b("bs_caml_option").some(p))):(b("gkx")("1275193")||b("gkx")("1660458")?Ea(f,s,p):xa(f,[p],s,b("MercuryFilters.bs").unread),za(f,s,b("bs_caml_option").some(p)));return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:A,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 42:var B=h._0;q=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(f.orderedMessageLists.get(B)),function(a){return{messageLoadingState:a.messageLoadingState,messageIDs:[]}}),{messageLoadingState:0,messageIDs:[]});f.orderedMessageLists.set(B,q);v=b("bs_belt_Option").map(b("bs_belt_Map").get(f.threads,B),function(a){return b("ImmutableObject").set(a,{message_count:0})});if(v!==void 0){var Ja=b("bs_caml_option").valFromOption(v);z=b("bs_belt_Map").set(f.threads,B,Ja);na.forEach(function(a){return ta(f,[B],b("MessengerFolders.bs").getFromMeta(Ja),a)});y=z}else y=f.threads;Aa.forEach(function(a){a=b("bs_js_dict").get(f.unreadCounts,a);if(a!==void 0){b("bs_caml_option").valFromOption(a)["delete"](B);return}});ra(f.fbid,B);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:y,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 43:r=[h._0,h._1,h._2];s=Sa(f,[r[0],r[1]]);p=s.thread_id;A=Ta(f,[p,[s.message_id],r[2]]);q=a.localTitanMessageCount.get(p);q==null||a.localTitanMessageCount.set(p,Math.max(0,q-1|0));return A;case 44:v=[h._0,h._1];z=Sa(f,[v[0],v[1]]);b("MercuryServerRequests").getForFBID(f.fbid).sendNewMessage(Object.assign(z,{preview_attachments:void 0}));return f;case 45:y=[h._0,h._1,h._2,h._3];s=y[2];r=y[1];p=y[0];q=E(f,p);if(q===void 0)return f;A=b("bs_caml_option").valFromOption(q);v=b("bs_js_dict").map(function(a){return a},b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(A.reactions),{}));r!==void 0?v[s]=r:Pa(v,s);z=Object.assign(Object.assign({},A),{reactions:v});q=A.thread_id;q==null||C(f.fbid,q,p,y[3]);return G(f,[p,z]);case 46:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontageDirectExpire");r=h._0;s=E(f,r);if(s===void 0)return f;v=b("bs_caml_option").valFromOption(s);A=v.attachments;if(A==null)return f;if(A.length===0)return f;q=b("bs_caml_array").get(A,0);y=q.share;if(y==null)return f;p=y.target;if(p==null)return f;z=p.message_state;if(z==null)return f;s=Object.assign(Object.assign({},v),{attachments:b("bs_caml_array").set(b("bs_array").copy(A),0,Object.assign(Object.assign({},q),{share:Object.assign(Object.assign({},y),{target:Object.assign(Object.assign({},p),{message_state:"EXPIRED"})})}))});return G(f,[r,s]);case 47:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("LiveLocationUpdate");z=[h._0,h._1,h._2];v=z[0];A=E(f,v);if(A===void 0)return f;q=b("bs_caml_option").valFromOption(A);y=q.attachments;if(y==null)return f;if(y.length===0)return f;p=b("bs_caml_array").get(y,0);r=p.share;if(r==null)return f;s=r.target;if(s==null)return f;A=b("bs_array").copy(y);b("bs_caml_array").set(A,0,Object.assign(Object.assign({},p),{share:Object.assign(Object.assign({},r),{target:Object.assign(Object.assign({},z[1]),{live_location_id:s.live_location_id})})}));y=Object.assign(Object.assign({},q),{attachments:A});p=q.thread_id;p==null||C(f.fbid,p,v,z[2]);return G(f,[v,y]);case 48:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ReplaceMessage");r=h._0;s=h._1;var D=r.replaced_message_id;if(D==null)return f;A=E(f,D);if(A===void 0)return f;q=r.message_id;p={timestamp:r.timestamp};z=b("bs_caml_option").nullable_to_opt(r.status);z!==void 0&&(p.status=b("bs_caml_option").valFromOption(z));v=b("bs_caml_option").nullable_to_opt(r.log_message_data);v!==void 0&&(p.log_message_data=b("bs_caml_option").valFromOption(v));y=b("bs_caml_option").nullable_to_opt(r.meta_ranges);y!==void 0&&(p.meta_ranges=b("bs_caml_option").valFromOption(y));z=b("bs_caml_option").nullable_to_opt(r.ranges);z!==void 0&&(p.ranges=b("bs_caml_option").valFromOption(z));v=b("bs_caml_option").nullable_to_opt(r.raw_attachments);v!==void 0&&(p.raw_attachments=b("bs_caml_option").valFromOption(v));y=b("bs_caml_option").nullable_to_opt(r.attachments);y!==void 0&&(p.attachments=b("bs_caml_option").valFromOption(y));z=b("bs_caml_option").nullable_to_opt(r.body);z!==void 0&&(p.body=b("bs_caml_option").valFromOption(z));v=b("bs_caml_option").nullable_to_opt(r.platform_xmd);v!==void 0&&(p.platform_xmd=b("bs_caml_option").valFromOption(v));y=b("bs_caml_option").nullable_to_opt(r.profile_ranges);y!==void 0&&(p.profile_ranges=b("bs_caml_option").valFromOption(y));z=p;v=Object.assign(Object.assign({},b("bs_caml_option").valFromOption(A)),z);b("MercuryMessageIDs.bs").addServerID(q,q);var F=G(f,[q,v]);if(q!==D){F.messages["delete"](D);F.localIDsMap.set(D,q);y=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(r.thread_id),function(a){return b("bs_caml_option").nullable_to_opt(F.orderedMessageLists.get(a))});p=r.thread_id;if(y!==void 0&&!(p==null)){A=Qa(F,[q].concat(y.messageIDs.filter(function(a){return a!==D})));F.orderedMessageLists.set(p,{messageLoadingState:y.messageLoadingState,messageIDs:A})}}z=r.message_id;v=r.thread_id;v==null||(C(F.fbid,v,D,s),C(F.fbid,v,z,s));return{fbid:F.fbid,deliveryReceipts:F.deliveryReceipts,readReceiptsPerThread:F.readReceiptsPerThread,ignoredIds:F.ignoredIds,blockedIds:F.blockedIds,pendingFolderUnseenCount:F.pendingFolderUnseenCount,typing:F.typing,threads:F.threads,pendingReadStatusThreads:F.pendingReadStatusThreads,messages:F.messages,localIDsMap:F.localIDsMap,messagesWithUploadsInFlight:F.messagesWithUploadsInFlight,threadlistOrderMap:F.threadlistOrderMap,pinnedThreads:F.pinnedThreads,montage:F.montage,orderedMessageLists:F.orderedMessageLists,unreadCounts:F.unreadCounts,initialUnreadCounts:F.initialUnreadCounts,unseenTimestamp:F.unseenTimestamp};case 49:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateLocalTitanMessagesCount");q=[h._0,h._1];p=q[0];y=E(f,q[1]);if(y!==void 0&&b("MessengerMessage.bs").isTitanMessage(b("bs_caml_option").valFromOption(y))){A=a.localTitanMessageCount.get(p);A==null?a.localTitanMessageCount.set(p,1):a.localTitanMessageCount.set(p,1+A|0)}return f;case 50:return Za(f,a,h._0,h._1);case 51:r=h._0;v=h._1;z=h._2;s=r.author;if(s==null)q=!1;else{y=b("MercuryIDs").getUserIDFromParticipantID(s);q=y==null?!1:y===b("CurrentUser").getID()}p=r.offline_threading_id;A=p==null?void 0:b("bs_caml_option").nullable_to_opt(f.localIDsMap.get(p));s=A!==void 0;if(b("gkx")("1491696")&&!q&&b("bs_caml_obj").caml_equal(v,b("bs_caml_option").some(b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE))&&s)return f;y=cb(f,r,v,z==null?void 0:b("bs_caml_option").some(z));ab(y.fbid,v,r,function(a,b,c){a.informNewMessage(b,c)});p=y.fbid;if(r.folder==="pending"&&b("bs_caml_obj").caml_equal(v,b("bs_caml_option").some(b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)))A={fbid:y.fbid,deliveryReceipts:y.deliveryReceipts,readReceiptsPerThread:y.readReceiptsPerThread,ignoredIds:y.ignoredIds,blockedIds:y.blockedIds,pendingFolderUnseenCount:y.pendingFolderUnseenCount+1|0,typing:y.typing,threads:y.threads,pendingReadStatusThreads:y.pendingReadStatusThreads,messages:y.messages,localIDsMap:y.localIDsMap,messagesWithUploadsInFlight:y.messagesWithUploadsInFlight,threadlistOrderMap:y.threadlistOrderMap,pinnedThreads:y.pinnedThreads,montage:y.montage,orderedMessageLists:y.orderedMessageLists,unreadCounts:y.unreadCounts,initialUnreadCounts:y.initialUnreadCounts,unseenTimestamp:y.unseenTimestamp};else if(r.folder==="inbox"){q=r.thread_id;A=q==null?y:Ga(y,q,r.folder,0)}else{s=r.thread_id;if(s==null)A=y;else{q=eb(y.fbid,y.threads,r,z);if(q!==void 0){z=b("bs_caml_option").valFromOption(q);q=y.fbid;var H=y.deliveryReceipts,I=y.readReceiptsPerThread,J=y.ignoredIds,K=y.blockedIds,L=y.pendingFolderUnseenCount,M=y.typing,N=b("bs_belt_Map").set(y.threads,z.thread_id,z),O=y.pendingReadStatusThreads,P=y.messages,Q=y.localIDsMap,R=y.messagesWithUploadsInFlight,S=y.threadlistOrderMap,T=y.pinnedThreads,U=y.montage,V=y.orderedMessageLists,W=y.unreadCounts,X=y.initialUnreadCounts,Y=y.unseenTimestamp;q={fbid:q,deliveryReceipts:H,readReceiptsPerThread:I,ignoredIds:J,blockedIds:K,pendingFolderUnseenCount:L,typing:M,threads:N,pendingReadStatusThreads:O,messages:P,localIDsMap:Q,messagesWithUploadsInFlight:R,threadlistOrderMap:S,pinnedThreads:T,montage:U,orderedMessageLists:V,unreadCounts:W,initialUnreadCounts:X,unseenTimestamp:Y};if(b("bs_caml_obj").caml_equal(v,b("bs_caml_option").some(b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE))){H=r.offline_threading_id;H==null?Object.assign(r,{folder:z.folder}):b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(Q.get(H)),H)?Object.assign(r,{client_message_id:r.offline_threading_id,status:b("MercuryActionStatus").SUCCESS,action_type:b("MercuryActionType").SEND_MESSAGE}):Object.assign(r,{folder:z.folder})}Fa(q,z);I=Object.assign({},z);J=r.offline_threading_id;if(!(J==null)){if(J!==r.message_id){Object.assign(I,{last_message_timestamp:r.timestamp});K=r.comm_status;K==null||Object.assign(I,{last_message_id:r.message_id})}L=r.author;if(!(b("cr:1299779")==null)&&!(L==null)){M=b("MercuryIDs").getParticipantIDFromUserID(p);r.has_attachment&&M===L&&Ya(s,r.message_id,J)}}N=r.comm_status;O=I.comm_status;!(N==null)&&!(O==null)&&b("bs_caml_obj").caml_notequal(O,b("PageCommItemStatus").FOLLOW_UP)&&Object.assign(I,{comm_status:N});P=r.creator_info;!(P==null)&&b("bs_caml_obj").caml_equal(P.pageID,p)&&Object.assign(I,{folder:r.folder});R=r.author;R==null||bb(I,R);A=w(void 0,q,s,I)}else A=y}}S=$a(A,a,r,v);T=fb(S,r);U=b("bs_caml_obj").caml_notequal(r.author,b("MercuryViewer").getID());V=r.thread_id;W=r.author;if(!U)return T;if(V==null)return T;if(W==null)return T;X=la(T.typing,V,W);if(X!==T.typing)return{fbid:T.fbid,deliveryReceipts:T.deliveryReceipts,readReceiptsPerThread:T.readReceiptsPerThread,ignoredIds:T.ignoredIds,blockedIds:T.blockedIds,pendingFolderUnseenCount:T.pendingFolderUnseenCount,typing:X,threads:T.threads,pendingReadStatusThreads:T.pendingReadStatusThreads,messages:T.messages,localIDsMap:T.localIDsMap,messagesWithUploadsInFlight:T.messagesWithUploadsInFlight,threadlistOrderMap:T.threadlistOrderMap,pinnedThreads:T.pinnedThreads,montage:T.montage,orderedMessageLists:T.orderedMessageLists,unreadCounts:T.unreadCounts,initialUnreadCounts:T.initialUnreadCounts,unseenTimestamp:T.unseenTimestamp};else return T;case 52:Y=h._0;Q=h._1;H=h._2;z=b("bs_caml_obj").caml_notequal(H==null?void 0:b("bs_caml_option").some(H),!1);K=b("bs_caml_obj").caml_equal(H==null?void 0:b("bs_caml_option").some(H),!0);M=f.fbid;L=b("MercuryIDs").getParticipantIDFromUserID(M);J=$a(f,a,Y,Q);ab(J.fbid,Q,Y,function(a,b,c){a.informNewLogMessage(b,c)});O=cb(J,Y,Q,H==null?void 0:b("bs_caml_option").some(H));N=Y.thread_id;if(N==null)P=O;else{p=b("bs_belt_Map").get(O.threads,N);if(p!==void 0){R=Object.assign({},b("bs_caml_option").valFromOption(p));Fa(O,R);R.last_message_timestamp<Y.timestamp&&Object.assign(R,{last_message_timestamp:Y.timestamp});if(Y.timestamp>=R.timestamp||b("gkx")("1183082")){q=Y.log_message_type;if(!(q==null))if(b("bs_caml_obj").caml_equal(q,b("MercuryLogMessageType").SUBSCRIBE)&&!K){s=Y.log_message_data;if(s==null)I=[];else{y=s.added_participants;I=y==null?[]:y}ua(L,R,I);u(M,N)}else if(b("bs_caml_obj").caml_equal(q,b("MercuryLogMessageType").UNSUBSCRIBE)&&!K){A=Y.log_message_data;if(A==null)v=[];else{S=A.removed_participants;v=S==null?[]:S}db(L,R,v);u(M,N)}else if(b("bs_caml_obj").caml_equal(q,b("MercuryLogMessageType").THREAD_IMAGE)){if(!z){r=Y.log_message_data;if(r==null)U=null;else{V=r.image;U=V==null?null:V.preview_url}Object.assign(R,{image_src:U})}}else if(b("bs_caml_obj").caml_equal(q,b("MercuryLogMessageType").THREAD_NAME)){W=Y.log_message_data;if(!(W==null)){X=W.name;!(X==null)&&R.name===X||u(M,N);Object.assign(R,{name:W.name})}}else b("bs_caml_obj").caml_equal(q,b("MercuryLogMessageType").GENERIC_ADMIN_TEXT)&&Ka(M,R,Y,N)}P=w(void 0,O,N,R)}else P=O}return fb(P,Y);case 53:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("PinMessage");if(b("gkx")("1179386")){T=h._0;J=h._1;Q=b("bs_belt_Map").get(f.threads,T);if(Q!==void 0&&!(J==null)){H=b("ImmutableObject").set(b("bs_caml_option").valFromOption(Q),{pinned_messages:[J.message]});p=b("bs_belt_Map").set(f.threads,T,H);s=J.message.message_id;y=J.message.message;I=y==null?f:Ra(f,a,[s,y,0]);u(f.fbid,T);K=[I,p]}else K=[f,f.threads];A=K[0];return{fbid:A.fbid,deliveryReceipts:A.deliveryReceipts,readReceiptsPerThread:A.readReceiptsPerThread,ignoredIds:A.ignoredIds,blockedIds:A.blockedIds,pendingFolderUnseenCount:A.pendingFolderUnseenCount,typing:A.typing,threads:K[1],pendingReadStatusThreads:A.pendingReadStatusThreads,messages:A.messages,localIDsMap:A.localIDsMap,messagesWithUploadsInFlight:A.messagesWithUploadsInFlight,threadlistOrderMap:A.threadlistOrderMap,pinnedThreads:A.pinnedThreads,montage:A.montage,orderedMessageLists:A.orderedMessageLists,unreadCounts:A.unreadCounts,initialUnreadCounts:A.initialUnreadCounts,unseenTimestamp:A.unseenTimestamp}}else return f;case 54:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnpinMessage");if(b("gkx")("1179386")){S=h._0;var pb=h._1;L=b("bs_belt_Map").get(f.threads,S);if(L!==void 0&&!(pb==null)){v=b("bs_caml_option").valFromOption(L);z=v.pinned_messages;r=z==null?void 0:z.filter(function(a){return a.message_id!==pb.message_id});if(r!==void 0){V=b("ImmutableObject").set(v,{pinned_messages:b("bs_belt_Option").getExn(r)});U=b("bs_belt_Map").set(f.threads,S,V);u(f.fbid,S);X=U}else X=f.threads}else X=f.threads;return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:X,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}else return f;case 55:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePinnedStatus");W=h._0;q=h._1;M=h._2;N=b("bs_belt_Map").get(f.threads,W);R=!1;if(q&&!a.existingPinnedThreads.has(W))f.pinnedThreads.push(W),a.existingPinnedThreads.add(W),R=!0;else if(!q&&a.existingPinnedThreads.has(W)){O=f.pinnedThreads.indexOf(W);O>-1&&f.pinnedThreads.splice(O,1);a.existingPinnedThreads["delete"](W);R=!0}if(N!==void 0){P=b("bs_caml_option").valFromOption(N);Y=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(P.thread_pin_timestamp),0);if(P.is_pinned!==q||Y!==M){Q=b("ImmutableObject").set(P,{is_pinned:q,thread_pin_timestamp:M});H=b("bs_belt_Map").set(f.threads,W,Q);u(f.fbid,W);R=!0;J=H}else J=f.threads}else J=f.threads;if(R)return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:J,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};else return f;case 56:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InvalidateMontageState");s=h._0;y=b("bs_js_dict").fromArray(b("bs_js_dict").entries(f.montage));y[s]=[];return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:y,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 57:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("NewMontageMessage");T=h._0;I=b("bs_js_dict").fromArray(b("bs_js_dict").entries(f.montage));p=T.actor.id;K=b("bs_js_dict").get(I,p);K!==void 0?(K.push(T),I[p]=K):I[p]=[T];return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:I,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 58:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InstantiateMontageThread");A=h._0;L=b("bs_js_dict").fromArray(b("bs_js_dict").entries(f.montage));z=b("bs_js_dict").get(L,A);z!==void 0||(L[A]=[]);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:L,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 59:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeleteMontageMessage");var qb=h._0,Z=b("bs_js_dict").fromArray(b("bs_js_dict").entries(f.montage));v=Object.keys(Z);v.forEach(function(a){var c=b("bs_js_dict").get(Z,a);if(c===void 0)return;c=c.filter(function(a){return a.id!==qb.messageFBID});Z[a]=c});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:Z,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 60:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("AddFetchedAllHistoryMarkers");r=[h._0,h._1];var sb=r[1];r[0].forEach(function(a){var b=f.orderedMessageLists.get(a);b==null?f.orderedMessageLists.set(a,{messageLoadingState:1,messageIDs:[]}):f.orderedMessageLists.set(a,{messageLoadingState:1,messageIDs:b.messageIDs});return Ma(f.fbid,a,sb)});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 61:V=h._0;V.forEach(function(c){var a=c.folder;if(!Aa.includes(a))return;c=c.thread_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromThreadFBID(a)}).concat(c.other_user_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(a)}));f.unreadCounts[a]=new Set(c);a=b("MercuryThreadInformer").getForFBID(f.fbid);a.updatedUnreadState()});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 62:S=h._0;var d={contents:f.unseenTimestamp};S.forEach(function(c){f.initialUnreadCounts[c.folder]=c.unread_count;c.unread_count===0&&(f.unreadCounts[c.folder]=new Set());c.folder==="inbox"&&(d.contents=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(c.seen_timestamp),d.contents),a.fallbackUnseenCount.contents=c.unseen_count);c=b("MercuryThreadInformer").getForFBID(f.fbid);c.updatedUnreadState();c.updatedUnseenState()});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:d.contents};case 63:var $=h._0;Aa.forEach(function(a){a=b("bs_js_dict").get(f.unreadCounts,a);if(a===void 0)return;var c=b("bs_caml_option").valFromOption(a);b("bs_js_dict").entries($).forEach(function(a){var b=a[0];if(c.has(b)){c.add(a[1]);c["delete"](b);return}})});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 64:U=h._0;X=h._1;O=h._2;N=h._3;Y=h._4;P=La(f,U,[X],!1);q=E(P,X);if(q!==void 0){M=b("bs_caml_option").valFromOption(q);Va(b("bs_caml_option").some(U),M);Q=b("MessengerMessage.bs").makeFakeMessage(M.message_id,M.thread_id,M.author,M.action_type,M.timestamp,{removed_timestamp:N,message_unsendability_status:b("MessageUnsendabilityStatus").DENY_TOMBSTONE_MESSAGE,unsender:{id:O}});W=G(P,[X,Q]);H=M.thread_id;if(H==null)return W;R=Wa(W,X,H);C(R.fbid,H,X,Y);Na(R.fbid,H,X,Y,M.attachments);J=b("bs_belt_Map").get(R.threads,H);if(J===void 0)return R;s=b("bs_caml_option").valFromOption(J);y=Xa(M.profile_ranges,R.fbid);K=b("ImmutableObject").set(b("ImmutableObject").set(s,Ua(R,H)),{unread_mentions_count:s.unread_mentions_count-y|0});p=b("bs_belt_Map").set(R.threads,H,K);u(R.fbid,H);return{fbid:R.fbid,deliveryReceipts:R.deliveryReceipts,readReceiptsPerThread:R.readReceiptsPerThread,ignoredIds:R.ignoredIds,blockedIds:R.blockedIds,pendingFolderUnseenCount:R.pendingFolderUnseenCount,typing:R.typing,threads:p,pendingReadStatusThreads:R.pendingReadStatusThreads,messages:R.messages,localIDsMap:R.localIDsMap,messagesWithUploadsInFlight:R.messagesWithUploadsInFlight,threadlistOrderMap:R.threadlistOrderMap,pinnedThreads:R.pinnedThreads,montage:R.montage,orderedMessageLists:R.orderedMessageLists,unreadCounts:R.unreadCounts,initialUnreadCounts:R.initialUnreadCounts,unseenTimestamp:R.unseenTimestamp}}Oa(P.fbid,U,X,Y);return P;case 65:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateConnectivityStatus");T=h._0;I=h._1;z=b("ThreadConnectivityStatus.bs").toGraphQLValue(I);A=b("bs_belt_Map").get(f.threads,T);if(A===void 0)return f;L=b("bs_caml_option").valFromOption(A);v=L.thread_connectivity_data;r=v==null?b("ImmutableObject").set(L,{thread_connectivity_data:{connectivity_status:z,first_sender_id:null}}):b("ImmutableObject").set(L,{thread_connectivity_data:{connectivity_status:z,first_sender_id:v.first_sender_id}});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:b("bs_belt_Map").set(f.threads,T,r),pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 66:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeltaMarkFolderSeen");var tb=h._0;return b("bs_belt_Array").reduceU(tb.folders,f,function(c,a){a=b("bs_js_dict").get(k,a);if(a!==void 0)return ob(c,Number(tb.timestamp),a);else return c});case 67:V=[h._0,h._1,h._2,h._3];var ub=V[2];S=V[0];q=E(f,S);if(q===void 0)return f;N=b("bs_caml_option").valFromOption(q);O=V[1].concat(N.tags).filter(function(a){return ub.indexOf(a)===-1});Q=Object.assign(Object.assign({},N),{tags:O});W=N.thread_id;W==null||C(f.fbid,W,S,V[3]);return G(f,[S,Q]);case 68:J=h._0;M=h._1;return w(void 0,f,J,{conversion_detection_data:M});case 69:s=[h._0,h._1,h._2,h._3,h._4];y=s[0];K=E(f,y);if(K===void 0)return f;H=b("bs_caml_option").valFromOption(K);p=H.attachments;if(p==null)return f;if(p.length!==1)return f;R=p[0];U=s[2]?[Object.assign(Object.assign({},R),{blurred_image_uri:void 0})]:[Object.assign(Object.assign({},R),{blurred_image_uri:s[3]})];X=Object.assign(Object.assign({},H),{attachments:U});Y=H.thread_id;Y==null||C(f.fbid,Y,y,s[4]);return G(f,[y,X]);case 70:P=h._0;I=h._1;return w(void 0,f,P,{suggested_reply_data:I});case 71:A=[h._0,h._1,h._2];L=A[0];z=E(f,L);if(z===void 0)return f;v=b("bs_caml_option").valFromOption(z);T=v.secondary_language_body;if(!(T==null))return f;r=Object.assign(Object.assign({},v),{secondary_language_body:A[1],is_secondary_language_body_decrypted:!1});q=v.thread_id;q==null||C(f.fbid,q,L,A[2]);return G(f,[L,r])}case 1:O=g._0;if(typeof O==="number")if(O===0){var vb=[];b("bs_belt_MapString").forEach(f.typing,function(a,c){return b("bs_belt_Map").forEach(c,function(b,c){if(c<Date.now()-3e4){vb.push([a,b]);return}})});if(vb.length===0)return f;var c={contents:f.typing};vb.forEach(function(a){c.contents=la(c.contents,a[0],a[1])});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:c.contents,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}else{if(nb(f,a,!1)<=0)return f;N=b("MercuryServerRequests").getForFBID(f.fbid);N.markSeen();return ob(f,N.getLastActionTimestamp(),"inbox")}switch(O.TAG|0){case 0:W=O._0;V=O._1;S=O._2;Q=O._3;var wb=f.threads,xb=[];J=l(W.reduce(function(d,c){var a=b("bs_belt_Map").get(wb,c);if(a!==void 0)return b("bs_belt_Map").set(d,c,b("bs_caml_option").valFromOption(a));else{xb.push(c);return d}},b("bs_belt_Map").make(b("ThreadId.bs"))));if(xb.length!==0){M=a.threadSubToken;K=M.contents.toString();a.threadSubToken.contents=M.contents+1|0;a.threadCallbacks.contents[K]=[W,S];p=b("MercuryServerRequests").getForFBID(f.fbid);R=xb.reduce(function(d,c){var e=b("MercuryIDs").tokenize(c),g=e.type;e=e.value;if(g!=="user")return d;g=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(e));e=b("MercuryIDs").getParticipantIDFromUserID(f.fbid);e=b("MessengerThreadUtils.bs").createNewLocalThread(e,c,b("bs_caml_obj").caml_equal(g,e)?[e]:[e,g],null);g=b("bs_belt_Map").set(d,c,e);b("gkx")("1074761")||hb(g,a.threadCallbacks.contents);return g},f.threads);p.fetchThreadData(xb,Q);b("bs_curry")._1(V,K);if(R===f.threads)return f;else return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:R,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp}}b("bs_curry")._1(S,J);return f;case 1:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnsubscribeThread");U=a.threadCallbacks.contents;gb(U,O._0);a.threadCallbacks.contents=U;return f;case 2:H=O._0;Y=b("bs_belt_Array").keepMap(H,function(a){a=E(f,a);if(a!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).offline_threading_id)});Y.forEach(function(a){f.localIDsMap["delete"](a)});return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 3:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontagePollStickerVoted");var yb=O._0;s=b("bs_js_dict").fromArray(b("bs_js_dict").entries(f.montage));y=yb.montageActorID;X=b("bs_js_dict").get(s,y);if(X!==void 0){P=X.map(function(a){if(b("bs_caml_obj").caml_equal(yb.montageMessageID,a.id)){var c=a.montage_overlays.map(function(a){if(!b("bs_caml_obj").caml_equal(a.poll.id,yb.pollID))return a;var c=a.poll.poll_options.map(function(a,c){if(c===yb.optionVotedIndex)return new(b("ImmutableObject"))({text:a.text,vote_count:a.vote_count+1|0});else return a});c=new(b("ImmutableObject"))({can_viewer_vote:a.poll.can_viewer_vote,id:a.poll.id,poll_options:c,viewer_vote_index:yb.optionVotedIndex});return b("ImmutableObject").set(new(b("ImmutableObject"))(a),{poll:c})});return b("ImmutableObject").set(new(b("ImmutableObject"))(a),{montage_overlays:c})}else return a});s[y]=P}return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:f.threads,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:s,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 4:I=b("bs_belt_Map").set(f.threads,O._0,O._1);return{fbid:f.fbid,deliveryReceipts:f.deliveryReceipts,readReceiptsPerThread:f.readReceiptsPerThread,ignoredIds:f.ignoredIds,blockedIds:f.blockedIds,pendingFolderUnseenCount:f.pendingFolderUnseenCount,typing:f.typing,threads:I,pendingReadStatusThreads:f.pendingReadStatusThreads,messages:f.messages,localIDsMap:f.localIDsMap,messagesWithUploadsInFlight:f.messagesWithUploadsInFlight,threadlistOrderMap:f.threadlistOrderMap,pinnedThreads:f.pinnedThreads,montage:f.montage,orderedMessageLists:f.orderedMessageLists,unreadCounts:f.unreadCounts,initialUnreadCounts:f.initialUnreadCounts,unseenTimestamp:f.unseenTimestamp};case 5:b("MercuryServerRequests").getForFBID(f.fbid).updateLastActionTimestamp(O._0);return f}case 2:h=g._0;switch(h.TAG|0){case 0:b("bs_curry")._1(h._0,{blocked_ids:f.blockedIds});break;case 1:b("bs_curry")._1(h._1,b("bs_belt_Map").get(f.threads,h._0));break;case 2:b("bs_curry")._1(h._0,f.pinnedThreads.concat([]));break;case 3:b("bs_curry")._2(h._0,f,a);break}return f}},d,c)}function Q(a){var c=[b("MercurySyncEventsProxy").getArbiterTypeForFBID(a,"TYP")];b("FBIDCheck").isUser_deprecated(a)||c.push(b("ChannelConstants").getArbiterType("page_typing"));return c}function R(a){return{fbid:a,deliveryReceipts:void 0,readReceiptsPerThread:void 0,ignoredIds:b("bs_belt_Set").make(b("ParticipantId.bs")),blockedIds:b("bs_belt_Set").make(b("ParticipantId.bs")),pendingFolderUnseenCount:0,typing:void 0,threads:b("bs_belt_Map").make(b("ThreadId.bs")),pendingReadStatusThreads:new Set(),messages:new Map(),localIDsMap:new Map(),messagesWithUploadsInFlight:new Map(),threadlistOrderMap:pa(void 0),pinnedThreads:[],montage:{},orderedMessageLists:new Map(),unreadCounts:{},initialUnreadCounts:{},unseenTimestamp:0}}var S={contents:{}},T={contents:0},U=new Map(),V={contents:{}},W={contents:0},X=new Set(),Y={contents:{}},pb={contents:0},qb={threadCallbacks:S,threadSubToken:T,localTitanMessageCount:U,messageCallbacks:V,messageSubToken:W,existingPinnedThreads:X,failedHistoryFetchThreads:Y,fallbackUnseenCount:pb},rb={contents:0},Z={};function sb(a,c,d){d=c!==void 0?b("bs_caml_option").valFromOption(c):b("RemoteAction.bs").create(void 0);c=b("bs_js_dict").get(Z,a);if(c!==void 0)return;Z[a]={subscriptions:new Set(),state:R(a),remoteAction:d};b("RemoteAction.bs").subscribe(function(c){var d=b("bs_js_dict").get(Z,a);if(d!==void 0){var e=d.state;c=P(qb,c,e);Z[a]={subscriptions:d.subscriptions,state:c,remoteAction:d.remoteAction};if(c===e)return;d=b("bs_js_dict").get(Z,a);d!==void 0?d.subscriptions.forEach(function(a){return b("bs_curry")._1(a.fn,void 0)}):b("recoverableViolation")("Subscriptions deleted after createion","messenger_comet");return}b("recoverableViolation")("State deleted after creation","messenger_comet")},d);var e=b("bs_caml_option").some(a),f=function(a){return $(e,a)},g=function(a){b("bs_curry")._1(f,[{TAG:0,_0:{TAG:5,_0:a}}]),b("setTimeoutAcrossTransitions")(function(a){return b("bs_curry")._1(f,[{TAG:1,_0:0}])},3e4)};b("Arbiter").subscribe(Q(a),function(b,c){b=c.obj;c=b.to;if(!(c==null)&&c.toString()!==a)return;else{g(b);return}})}function $(a,c){a=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();sb(a,void 0,void 0);a=b("bs_js_dict").get(Z,a);if(a!==void 0)return b("RemoteAction.bs").send(a.remoteAction,c);else{b("recoverableViolation")("Subscriptions deleted after createion","messenger_comet");return}}function tb(a,c,d,e){var f=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();e=c!==void 0?b("bs_caml_option").valFromOption(c):b("RemoteAction.bs").create(void 0);sb(f,b("bs_caml_option").some(e),void 0);a=j.useState(function(){var a=b("bs_js_dict").get(Z,f);if(a!==void 0)return a.state;else return b("unrecoverableViolation")("Rendering without state initialized","messenger_comet")});var g=a[1],h=a[0];c=b("bs_js_dict").get(Z,f);var i=j.useCallback(function(a){a=b("bs_js_dict").get(Z,f);var c=a!==void 0?a.state:b("unrecoverableViolation")("Rendering without state initialized","messenger_comet");if(d!==void 0)if(b("bs_curry")._2(d,h,c))return b("bs_curry")._1(g,function(a){return c});else return;else return b("bs_curry")._1(g,function(a){return c})},[d,h,g,c,f]);j.useEffect(function(){rb.contents=rb.contents+1|0;var a=rb.contents,c={id:a,fn:i};a=b("bs_js_dict").get(Z,f);a!==void 0?a.subscriptions.add(c):b("recoverableViolation")("Subscriptions deleted after createion, can't add subscription","messenger_comet");b("bs_curry")._1(i,void 0);return function(a){a=b("bs_js_dict").get(Z,f);a!==void 0?a.subscriptions["delete"](c):b("recoverableViolation")("Subscriptions deleted after createion, can't remove subscription","messenger_comet")}},[i,f]);return h}function ub(a){var c=a.shouldUpdate,d=a.remoteAction,e=a.fbid;a=a.children;e=e!==void 0?b("bs_caml_option").valFromOption(e):b("CurrentUser").getID();return b("bs_curry")._1(a,tb(b("bs_caml_option").some(e),d,c,void 0))}function vb(a){b("gkx")("1463539")&&b("recoverableViolation")("messenger state is not allowed when lightspeed is enabled","gemini_chat");return tb(b("bs_caml_option").some(a),void 0,void 0,void 0)}function wb(a,c){return $(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:0,_0:c}}])}function xb(a,c){b("MercuryAssert").isThreadID(c);var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:1,_0:c,_1:e}}]);return b("bs_js_null_undefined").fromOption(d.contents)}function yb(a,c,d,e){if(c.length!==0){b("MercuryAssert").allThreadID(c);var f={contents:null},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{TAG:1,_0:{TAG:0,_0:c,_1:g,_2:d,_3:e}}]);return f.contents}b("bs_curry")._1(d,{});return null}function zb(a,c,d,e){return yb(a,[c],function(a){return b("bs_curry")._1(d,a[c])},e)}function Ab(a,c,d,e){var f={contents:void 0},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:1,_0:c,_1:g}}]);g=f.contents;if(g!==void 0)return b("bs_caml_option").valFromOption(g);g=b("MessengerThreadUtils.bs").createNewLocalThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);$(b("bs_caml_option").some(a),[{TAG:1,_0:{TAG:4,_0:c,_1:g}}]);return g}function Bb(a){var c=b("MercuryLocalIDs").generateThreadID(null);Ab(a,c,[],null);return c}function Cb(a,c,d,e){var f={contents:void 0},g=function(a){f.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:1,_0:c,_1:g}}]);g=f.contents;if(g!==void 0)return b("bs_caml_option").valFromOption(g);g=b("MessengerThreadUtils.bs").createNewLocalGroupGeneralThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);$(b("bs_caml_option").some(a),[{TAG:1,_0:{TAG:4,_0:c,_1:g}}]);return g}function Db(a,c,d){var e=b("MercuryLocalIDs").generateThreadID(null);Cb(a,e,c,d);return e}function Eb(a,c){var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:1,_0:c,_1:e}}]);a=d.contents;if(a!==void 0)return b("MercuryThreadInfo").isEmptyLocalThread(b("bs_caml_option").valFromOption(a));else return!1}function Fb(a,c){var d={contents:void 0},e=function(a){d.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:1,_0:c,_1:e}}]);a=d.contents;if(a!==void 0)return b("MercuryThreadInfo").isNewEmptyLocalThread(b("bs_caml_option").valFromOption(a));else return!1}function Gb(c){var a={contents:[]},d=function(b){a.contents=b};$(b("bs_caml_option").some(c),[{TAG:2,_0:{TAG:2,_0:d}}]);return a.contents}function Hb(a,c){return $(b("bs_caml_option").some(a),[{TAG:1,_0:{TAG:1,_0:c}}])}function Ib(a){var c=a.payload_source;if(c==null)return!1;if(b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_CHANGE_ARCHIVED_STATUS)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_SEND_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_SEND_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_THREAD_SYNC)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_CHANGE_PINNED_MESSAGES)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_UPDATE_COMM_STATUS))return!0;if(!b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_INITIAL_DATA))return!1;c=a.ordered_threadlists;return!(c==null)}function Jb(a,c){c={TAG:1,_0:{TAG:3,_0:c}};return $(b("bs_caml_option").some(a),[c])}function Kb(a,c){return $(a==null?void 0:b("bs_caml_option").some(a),c)}function Lb(a){var c=[],d=!1;if(!(a==null)){var e=a.payload_source;!(e==null)&&b("bs_caml_obj").caml_equal(e,b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)&&(d=!0);e=a.newlyAddedClientIDs;!(e==null)&&Object.keys(e).length>0&&c.push({TAG:0,_0:{TAG:63,_0:e}});e=a.delivery_receipts;e==null||c.push({TAG:0,_0:{TAG:0,_0:e}});e=a.message_ignored_ids;e==null||c.push({TAG:0,_0:{TAG:1,_0:e}});e=a.threads;if(!(e==null)){var f=a.payload_source;f==null||(b("bs_caml_obj").caml_equal(f,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO)&&c.push({TAG:0,_0:{TAG:8,_0:e}}),b("bs_caml_obj").caml_equal(f,b("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE)&&e.length>0&&c.unshift({TAG:0,_0:{TAG:34,_0:b("bs_caml_array").get(e,0).thread_id}}));c.push({TAG:0,_0:{TAG:7,_0:e}})}f=a.participants;if(!(f==null)){c.push({TAG:0,_0:{TAG:3,_0:f}});var g=[],h=[];f.forEach(function(a){a.is_messenger_blocked||a.is_facebook_blocked?g.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid)):h.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid))});e=0;(g.length!==0||h.length!==0)&&(e=1);e===1&&c.push({TAG:0,_0:{TAG:2,_0:g,_1:h}})}f=a.message_blocked_ids;!(f==null)&&f.length>0&&c.push({TAG:0,_0:{TAG:2,_0:f,_1:[]}});e=a.message_unblocked_ids;!(e==null)&&e.length>0&&c.push({TAG:0,_0:{TAG:2,_0:[],_1:e}});f=a.pending_folder_unseen_count;f==null||c.push({TAG:0,_0:{TAG:4,_0:f}});e=a.global_actions;e==null||e.forEach(function(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryGlobalActionType").MARK_ALL_READ)){c.push({TAG:0,_0:{TAG:33,_0:a.folder}});return}});if(Ib(a)){f=a.ordered_threadlists;e=0;f==null||f.length===0?e=1:c.push({TAG:0,_0:{TAG:9,_0:f}});if(e===1){f=a.threads;e=a.payload_source;!(f==null)&&!(e==null)&&f.length>0&&e!==b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS&&c.push({TAG:0,_0:{TAG:10,_0:f}})}}e=a.pinned_thread_ids;!(e==null)&&e.length>0&&Ib(a)&&c.push({TAG:0,_0:{TAG:11,_0:e}});f=a.roger;f==null||c.push({TAG:0,_0:{TAG:6,_0:f}});e=a.montage_delete_message_delta;e==null||c.push({TAG:0,_0:{TAG:59,_0:e}});f=a.montage_new_message_delta;f==null||c.push({TAG:0,_0:{TAG:57,_0:f}});e=a.montage_poll_sticker_vote;e==null||e.forEach(function(a){c.push({TAG:1,_0:{TAG:3,_0:a}})});f=a.current_montage_thread;if(!(f==null)){e=f.user;if(!(e==null)){f=e.messenger_montage_thread;f==null||(c.push({TAG:0,_0:{TAG:58,_0:e.id}}),f.montage_messages.edges.forEach(function(a){c.push({TAG:0,_0:{TAG:57,_0:a.node}})}))}}e=a.unread_thread_fbids;e==null||c.push({TAG:0,_0:{TAG:61,_0:e}});f=a.message_counts;f==null||c.push({TAG:0,_0:{TAG:62,_0:f}});e=a.actions;if(!(e==null)){var i=a.payload_source,j=i==null?void 0:b("bs_caml_option").some(i);e.forEach(function(d){var e=d.action_type,f=0;(i==null||!i.startsWith("server"))&&(f=1);f===1&&c.push({TAG:1,_0:{TAG:5,_0:d.timestamp}});if(b("bs_caml_obj").caml_equal(j,b("bs_caml_option").some(b("MercuryPayloadSource").SERVER_SEARCH))){c.push({TAG:0,_0:{TAG:35,_0:d,_1:0}});return}if(b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(d.client_state),b("bs_caml_option").some(b("MercuryMessageClientState").SEND_TO_SERVER))){c.push({TAG:0,_0:{TAG:35,_0:d,_1:0}});return}f=d.thread_id;var g=d.upload_id,h=d.upload_data,k=d.message_ids;ia(d);if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DELETE_MESSAGES))if(!(f==null)&&!(k==null)){c.push({TAG:0,_0:{TAG:36,_0:f,_1:k,_2:j}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_FOLDER)){k=d.new_folder;if(!(f==null)&&!(k==null)){c.push({TAG:0,_0:{TAG:37,_0:f,_1:k}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_ARCHIVED_STATUS))if(!(f==null)){c.push({TAG:0,_0:{TAG:39,_0:f,_1:d.archived}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_MUTE_SETTINGS)){k=d.reactions_mute_mode;var l=d.mentions_mute_mode,m=d.mute_until;l=k==null?l==null?m==null?void 0:{TAG:2,_0:m}:m==null?{TAG:1,_0:l===1}:void 0:!(l==null)||!(m==null)?void 0:{TAG:0,_0:k===1};if(!(f==null)&&l!==void 0){c.push({TAG:0,_0:{TAG:38,_0:f,_1:l}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_READ_STATUS)){if(f==null)return;m=a.from_client;c.push({TAG:0,_0:{TAG:41,_0:f,_1:d.mark_as_read,_2:d.timestamp,_3:m==null?!1:m,_4:d.source}});return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_PAGE_FOLLOW_UP_STATUS))if(!(f==null)){c.push({TAG:0,_0:{TAG:40,_0:f,_1:d.is_page_follow_up}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").BLOCK_STATUS_CHANGED)){if(f==null)return;k=d.canViewerReply?null:b("MessengerThreadCannotReplyReason.bs").fromMessageThreadCannotReplyReason(d.reason);c.push({TAG:0,_0:{TAG:13,_0:f,_1:d.canViewerReply,_2:k}});return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DELETE_THREAD))if(!(f==null)){c.push({TAG:0,_0:{TAG:42,_0:f}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REACTION_UPDATE)){l=d.messageId;m=d.userId;if(!(l==null)&&!(m==null)){c.push({TAG:0,_0:{TAG:45,_0:l,_1:b("bs_caml_option").nullable_to_opt(d.reaction),_2:m,_3:j}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MONTAGE_DIRECT_EXPIRE)){k=d.messageId;if(!(k==null)){c.push({TAG:0,_0:{TAG:46,_0:k,_1:j}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").LIVE_LOCATION_UPDATE)){l=d.messageId;m=d.liveLocation;if(!(l==null)&&!(m==null)){c.push({TAG:0,_0:{TAG:47,_0:l,_1:m,_2:j}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REPLACE_MESSAGE)){c.push({TAG:0,_0:{TAG:48,_0:d,_1:j}});return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER))if(!(g==null)&&!(h==null)){c.push({TAG:0,_0:{TAG:44,_0:g,_1:h}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER))if(!(g==null)&&!(h==null)){c.push({TAG:0,_0:{TAG:43,_0:g,_1:h,_2:j}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").SEND_MESSAGE)){c.push({TAG:0,_0:{TAG:50,_0:d,_1:j}});return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").USER_GENERATED_MESSAGE)){c.push({TAG:0,_0:{TAG:51,_0:d,_1:j,_2:a.from_client}});return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").LOG_MESSAGE))if(!b("MessengerMessage.bs").isLocalMessage(d)){c.push({TAG:0,_0:{TAG:52,_0:d,_1:j,_2:a.from_client}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_PINNED_STATUS))if(!(f==null)){c.push({TAG:0,_0:{TAG:55,_0:f,_1:d.is_pinned,_2:d.thread_pin_timestamp}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").PIN_MESSAGE))if(!(f==null)){c.push({TAG:0,_0:{TAG:53,_0:f,_1:d.pin_message_action}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UNPIN_MESSAGE))if(!(f==null)){c.push({TAG:0,_0:{TAG:54,_0:f,_1:d.unpin_message_action}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REMOVE_MESSAGE)){k=d.thread_id;l=d.messageId;m=d.removed_timestamp;g=d.author;if(!(k==null)&&!(l==null)&&!(m==null)&&!(g==null)){c.push({TAG:0,_0:{TAG:64,_0:k,_1:l,_2:g,_3:m,_4:j}});b("MessengerDesktopNotifications").removeNotification(l);return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UNSUBSCRIBE_STATUS_UPDATE))if(!(f==null)){c.push({TAG:0,_0:{TAG:12,_0:f,_1:d.page_unsubscribe_status}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").BLURRED_IMAGE_STATUS)){h=d.image_message_id;k=d.image_id;g=d.should_show;m=d.blurred_image_uri;if(!(h==null)&&!(k==null)&&!(g==null)&&!(m==null)){c.push({TAG:0,_0:{TAG:69,_0:h,_1:k,_2:g,_3:m,_4:j}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").ADD_PARTICIPANTS))if(!(f==null)){c.push({TAG:0,_0:{TAG:14,_0:f,_1:d.participants}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_FLAG))if(!(f==null)){c.push({TAG:0,_0:{TAG:15,_0:f,_1:d.mark_as_flag}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MOVE_PENDING_TO_INBOX))if(!(f==null)){c.push({TAG:0,_0:{TAG:16,_0:f}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_CUSTOM_LIKE))if(!(f==null)){c.push({TAG:0,_0:{TAG:17,_0:f,_1:d.custom_like}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").PROMOTE_GROUP_ADMINS)){l=d.promoted_admins;if(!(f==null)&&!(l==null)){c.push({TAG:0,_0:{TAG:18,_0:f,_1:l}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REMOVE_GROUP_ADMINS)){h=d.removed_admin_ids;if(!(f==null)&&!(h==null)){c.push({TAG:0,_0:{TAG:19,_0:f,_1:h}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").JOINABLE_MODE))if(!(f==null)){c.push({TAG:0,_0:{TAG:20,_0:f,_1:d.joinable_mode}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").APPROVAL_MODE))if(!(f==null)){c.push({TAG:0,_0:{TAG:21,_0:f,_1:d.approval_mode}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").APPROVAL_QUEUE))if(!(f==null)){c.push({TAG:0,_0:{TAG:22,_0:f,_1:d.added_id,_2:d.added_group_id,_3:d.removed_id,_4:d.removed_group_id}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").IS_PIN_PROTECTED))if(!(f==null)){c.push({TAG:0,_0:{TAG:23,_0:f,_1:d.is_pin_protected}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_RTC_CALL_DATA))if(!(f==null)){c.push({TAG:0,_0:{TAG:24,_0:f,_1:d.initiator_fbid,_2:d.call_state,_3:d.server_info_data}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_COMM_STATUS))if(!(f==null)){c.push({TAG:0,_0:{TAG:25,_0:f,_1:d.comm_status}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_COMM_ITEM_OWNER))if(!(f==null)){c.push({TAG:0,_0:{TAG:26,_0:f,_1:d.id,_2:d.name,_3:d.profile_pic_uri}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").EVENT_RSVP_CHANGED))if(!(f==null)){c.push({TAG:0,_0:{TAG:27,_0:f,_1:d.actor_fbid,_2:d.rsvp_status}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_CONNECTIVITY_STATUS)){k=d.thread_connectivity_status;if(!(f==null)&&!(k==null)){c.push({TAG:0,_0:{TAG:65,_0:f,_1:k}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").GROUPS_SYNC_STATUS_CHANGED))if(!(f==null)){c.push({TAG:0,_0:{TAG:28,_0:f,_1:d.groups_sync_action,_2:d.groups_sync_status_string}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").GROUPS_SYNC_METADATA_UPDATE))if(!(f==null)){c.push({TAG:0,_0:{TAG:29,_0:f,_1:d.groups_sync_action,_2:d.fb_group_id,_3:d.emoji_codepoints}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DESCRIPTION_CHANGED))if(!(f==null)){c.push({TAG:0,_0:{TAG:30,_0:f,_1:d.group_thread_description_string}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_THREAD_THEME))if(!(f==null)){c.push({TAG:0,_0:{TAG:31,_0:f,_1:{solid_color:d.solid_color,header_color:d.header_color,footer_color:d.footer_color,gradient_colors:d.gradient_colors,theme_id:d.theme_id,reactions:d.reactions}}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_JOINABLE_LINK))if(!(f==null)){c.push({TAG:0,_0:{TAG:32,_0:f,_1:d.joinable_link}});return}else return;if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MUTATE_TAGS)){g=d.tags_to_add;m=g==null?[]:g;l=d.tags_to_delete;h=l==null?[]:l;k=d.messageId;if(!(k==null)){c.push({TAG:0,_0:{TAG:67,_0:k,_1:m,_2:h,_3:j}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").ADS_CONVERSION_UPDATE)){g=d.conversion_detection_data;if(!(f==null)&&!(g==null)){c.push({TAG:0,_0:{TAG:68,_0:f,_1:g}});return}else return}if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").SUGGESTED_REPLY_UPDATE)){l=d.suggested_reply_data;if(!(f==null)&&!(l==null)){c.push({TAG:0,_0:{TAG:70,_0:f,_1:l}});return}else return}if(!b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_SECONDARY_LANGUAGE_BODY))return;k=d.secondary_language_body;m=d.messageId;if(!(k==null)&&!(m==null)){c.push({TAG:0,_0:{TAG:71,_0:m,_1:k,_2:j}});return}});b("Utils.bs").isTruthy(a.from_client)&&e.forEach(function(a){var b=a.thread_id;if(!(b==null)){c.push({TAG:0,_0:{TAG:49,_0:b,_1:a.message_id}});return}})}f=a.end_of_history;f==null||c.push({TAG:0,_0:{TAG:60,_0:f,_1:a.payload_source}})}d&&c.unshift({TAG:0,_0:0});return c}function Mb(c,d){var a={contents:[]},e=function(b,c){c=b.orderedMessageLists.get(d);if(!(c==null)){a.contents=F(!0,b,c.messageIDs);return}};$(b("bs_caml_option").some(c),[{TAG:2,_0:{TAG:3,_0:e}}]);return a.contents}function Nb(c,d){var a={contents:d},e=function(b,c){c=b.localIDsMap.get(d);if(!(c==null)){a.contents=c;return}};$(b("bs_caml_option").some(c),[{TAG:2,_0:{TAG:3,_0:e}}]);return a.contents}function Ob(a,c){var d={contents:void 0},e=function(a,b){d.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:e}}]);a=d.contents;if(a!==void 0)return F(!1,a,c);else return[]}function Pb(a,c){var d={contents:void 0},e=function(a,b){d.contents=a};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:e}}]);a=d.contents;if(a!==void 0)return b("bs_caml_option").nullable_to_opt(a.messages.get(c))}function Qb(a,c,d){var e={contents:!1},f=function(a,b){b=a.orderedMessageLists.get(c);if(b==null)return;a=b.messageLoadingState;b=b.messageIDs.length;a?e.contents=!0:e.contents=b>=d};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:f}}]);return e.contents}function Rb(a,c){var d={contents:!1},e=function(a,b){b=a.orderedMessageLists.get(c);if(b==null)return;a=b.messageLoadingState;a?d.contents=!0:d.contents=!1};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:e}}]);return d.contents}function Sb(a,c){return $(b("bs_caml_option").some(a),[{TAG:1,_0:{TAG:2,_0:c}}])}function Tb(a,c,d,e){var f=[],g=function(g,h){h=g.orderedMessageLists.get(c);if(h==null)return;h=h.messageIDs;for(var i=d,j=d+e|0;i<=j;++i){var a=b("bs_belt_Option").flatMap(b("bs_belt_Array").get(h,i),function(a){return E(g,a)});a!==void 0&&f.push(b("bs_caml_option").valFromOption(a))}};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:g}}]);return f}var Ub={contents:void 0};function Vb(a,c,d,e,f,g,h){var i=function(j,i){Ub.contents=[c,d,e];var k=j.orderedMessageLists.get(c);k=k==null?[[],void 0]:[k.messageIDs,k.messageLoadingState];var l=k[0];if(b("bs_js_dict").get(i.failedHistoryFetchThreads.contents,c)!==!0){var m=l.length-b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(i.localTitanMessageCount.get(c)),0)|0;m>0&&b("ChatReliabilityInstrumentation").logERROR("fetch made with message in flight");var n=m-d|0;n=e-n|0;if(!(n>0&&b("bs_caml_obj").caml_notequal(k[1],1)))return b("bs_curry")._1(f,b("bs_belt_Array").keepMap(l,function(a){return E(j,a)}).slice(d,e));k=b("MercuryServerRequests").getForFBID(a);l=b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_belt_Array").get(l,m-1|0),function(a){return E(j,a)}),function(a){return a.timestamp}));var o=i.messageSubToken.contents;i.messageSubToken.contents=o+1|0;i.messageCallbacks.contents[String(o)]=[{threadID:c,offset:d,limit:e},f];if(b("bs_caml_obj").caml_equal([c,d,e],Ub.contents)){k.fetchThreadMessages(c,m,n,l,g,h);return}else return}Ub.contents=void 0;i.failedHistoryFetchThreads.contents[c]=!1};return $(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:i}}])}function Wb(a,b,c,d,e,f,g){if(!Rb(a,b))return Vb(a,b,c,d,e,f,g)}function Xb(a){var c={contents:0},d=function(d,a){c.contents=b("bs_caml_primitive").caml_int_min(O(d,a),b("MercuryThreadlistConstants").MAX_UNSEEN_COUNT)};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:d}}]);return c.contents}function Yb(a){var c={contents:0},d=function(b,a){c.contents=O(b,a)};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:d}}]);return c.contents}function Zb(a){var c={contents:0},d=function(d,a){c.contents=b("bs_caml_primitive").caml_int_min(nb(d,a,!0),b("MercuryThreadlistConstants").MAX_UNSEEN_COUNT)};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:d}}]);return c.contents}function $b(a){return $(b("bs_caml_option").some(a),[{TAG:1,_0:1}])}function ac(a,c){var d={contents:null},e=function(a,e){e=b("bs_js_dict").get(a.unreadCounts,c);d.contents=e!==void 0?b("bs_belt_Array").keepMap(b("JSSet.bs").values(b("bs_caml_option").valFromOption(e)),function(c){return b("bs_caml_option").nullable_to_opt(m(a,c))}).filter(function(a){return!b("MercuryThreadInfo").isMuted(a)}).length:null};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:e}}]);return d.contents}function bc(a){var c={contents:[]},d=function(a,d){c.contents=b("bs_belt_Map").keysToArray(a.threads)};$(b("bs_caml_option").some(a),[{TAG:2,_0:{TAG:3,_0:d}}]);return c.contents}S={make:ub};T=ub;f.irisMapping=k;f.fbid=c;f.deliveryReceipts=d;f.readReceiptsPerThread=e;f.ignoredIds=n;f.blockedIds=o;f.pendingFolderUnseenCount=p;f.typing=aa;f.pendingReadStatusThreads=q;f.messages=r;f.localIDsMap=s;f.messagesWithUploadsInFlight=ba;f.threadlistOrderMap=ca;f.pinnedThreads=t;f.montage=da;f.orderedMessageLists=ea;f.unreadCounts=fa;f.initialUnreadCounts=ga;f.unseenTimestamp=ha;f.threads=a;f.thread=m;f.send=$;f.compute=wb;f.getThreadMetaNow=xb;f.getMultiThreadMeta=yb;f.getThreadMeta=zb;f.createNewLocalThread=Ab;f.createNewLocalThreadGenerateID=Bb;f.createNewLocalGroupGeneralThreadGenerateID=Db;f.isEmptyLocalThread=Eb;f.isNewEmptyLocalThread=Fb;f.getPinnedThreadlist=Gb;f.unsubscribeThread=Hb;f.sendJS=Kb;f.invalidateSearchedMessages=Sb;f.hasLoadedNMessages=Qb;f.hasLoadedAllMessages=Rb;f.getCurrentlyLoadedMessages=Mb;f.getServerMessageID=Nb;f.getMessagesFromIDs=Ob;f.getMessageFromID=Pb;f.getThreadMessagesRange=Vb;f.getThreadMessagesRangeNow=Tb;f.fetchMoreMessages=Wb;f.processPollStickerVoted=Jb;f.getUnseenUnreadCount=Xb;f.getUnseenUnreadCountRaw=Yb;f.getUnseenCount=Zb;f.getThreadIDs_debug=bc;f.getUnreadThreadCount=ac;f.markAsSeen=$b;f.processJSActions=Lb;f.Provider=S;f.jsComponent=T;f.useHook=vb}),null);
__d("MessengerState.re",["MessengerState.bs","bs_curry"],(function(a,b,c,d,e,f){c=(a=b("MessengerState.bs")).fbid;f.fbid=c;d=a.deliveryReceipts;f.deliveryReceipts=d;e=a.readReceiptsPerThread;f.readReceiptsPerThread=e;c=a.ignoredIds;f.ignoredIds=c;d=a.blockedIds;f.blockedIds=d;e=a.pendingFolderUnseenCount;f.pendingFolderUnseenCount=e;c=a.typing;f.typing=c;d=a.pendingReadStatusThreads;f.pendingReadStatusThreads=d;e=a.messages;f.messages=e;c=a.localIDsMap;f.localIDsMap=c;d=a.messagesWithUploadsInFlight;f.messagesWithUploadsInFlight=d;e=a.threadlistOrderMap;f.threadlistOrderMap=e;c=a.pinnedThreads;f.pinnedThreads=c;d=a.montage;f.montage=d;e=a.orderedMessageLists;f.orderedMessageLists=e;c=a.unreadCounts;f.unreadCounts=c;d=a.initialUnreadCounts;f.initialUnreadCounts=d;e=a.unseenTimestamp;f.unseenTimestamp=e;c=a.threads;f.threads=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").thread,a,c);return a};f.thread=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").compute,a,c);return a};f.compute=e;c=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getThreadMetaNow,a,c);return a};f.getThreadMetaNow=c;d=function(a,c,d,e){a=b("bs_curry")._4(b("MessengerState.bs").getMultiThreadMeta,a,c,d,e);return a};f.getMultiThreadMeta=d;e=function(a,c,d,e){a=b("bs_curry")._4(b("MessengerState.bs").getThreadMeta,a,c,d,e);return a};f.getThreadMeta=e;c=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").isEmptyLocalThread,a,c);return a};f.isEmptyLocalThread=c;d=a.getPinnedThreadlist;f.getPinnedThreadlist=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").unsubscribeThread,a,c);return a};f.unsubscribeThread=e;c=function(a,c,d){a=b("bs_curry")._3(b("MessengerState.bs").hasLoadedNMessages,a,c,d);return a};f.hasLoadedNMessages=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getCurrentlyLoadedMessages,a,c);return a};f.getCurrentlyLoadedMessages=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getServerMessageID,a,c);return a};f.getServerMessageID=e;c=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getMessagesFromIDs,a,c);return a};f.getMessagesFromIDs=c;d=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getMessageFromID,a,c);return a};f.getMessageFromID=d;e=function(a,c,d,e,f,g,h){a=b("bs_curry")._7(b("MessengerState.bs").getThreadMessagesRange,a,c,d,e,f,g,h);return a};f.getThreadMessagesRange=e;c=function(a,c,d,e){a=b("bs_curry")._4(b("MessengerState.bs").getThreadMessagesRangeNow,a,c,d,e);return a};f.getThreadMessagesRangeNow=c;d=function(a,c,d,e,f,g,h){a=b("bs_curry")._7(b("MessengerState.bs").fetchMoreMessages,a,c,d,e,f,g,h);return a};f.fetchMoreMessages=d;e=a.getUnseenUnreadCount;f.getUnseenUnreadCount=e;c=a.getUnseenCount;f.getUnseenCount=c;d=a.getThreadIDs_debug;f.getThreadIDs_debug=d;e=function(a,c){a=b("bs_curry")._2(b("MessengerState.bs").getUnreadThreadCount,a,c);return a};f.getUnreadThreadCount=e;c=a.jsComponent;f.jsComponent=c;d=a.useHook;f.useHook=d}),null);
__d("MercuryDelayedDispatcher",["MercuryDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this;this.$1=a;this.$2=[];this.$3=b("MercuryThreadIDMap").getForFBID(this.$1);this.$4=b("MercuryDispatcher").getForFBID(this.$1);this.$5=b("MercuryServerRequests").getForFBID(this.$1);this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$4.subscribe("model-update-completed",function(a,b){return c.$7()})}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.handleUpdateWaitForThread=function(a,b){var c=this,d=this.$3.getClientIDFromServerIDNow(b);if(d){this.$8(a);return}this.$3.getClientIDFromServerID(b,function(){return c.$2.push({thread_fbid:b,payload:a})});this.$5.ensureThreadIsFetched(b)};c.$7=function(){if(this.$2&&this.$2.length){var a=this.$2.shift(),b=a.thread_fbid;a=a.payload;this.handleUpdateWaitForThread(a,b)}};c.$8=function(a){a.from_client?this.$4.handleUpdate(a):this.$6.handleUpdate(a)};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryDispatcher",["invariant","ArbiterMixin","LogHistory","MercuryMessagingLightswitch","MercurySingletonProvider","MercuryThreadInformer","MessengerParticipants.bs","MessengerState.bs","gkx","isEmpty","mixin"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("LogHistory").getInstance("mercury_dispatcher");a=function(a){babelHelpers.inheritsLoose(c,a);c.getForFBID=function(a){return j.getForFBID(a)};c.get=function(){return j.get()};function c(b){var c;c=a.call(this)||this;c.$MercuryDispatcher1=b;return c}var d=c.prototype;d.handlePreprocessedUpdate=function(a){a.preprocessed=!0,this.handleUpdate(a)};d.handleUpdate=function(a){var c=this;this.$MercuryDispatcher2(a);!!a.from_client!==!!a.preprocessed||g(0,5757);delete a.preprocessed;(h||(h=b("isEmpty")))(a)||b("MercuryThreadInformer").getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){a.payload_source==="server_invalidate_global_state"&&(c.inform("invalidate-global-state",{}),b("MessengerParticipants.bs").reset());if(a.payload_source==="server_invalidate_thread_state"){var d=a.threads&&a.threads.length>0&&a.threads[0]&&a.threads[0].thread_id;d&&c.inform("invalidate-thread-state",d)}a.threads&&Array.isArray(a.threads)&&a.threads.length>0&&b("gkx")("1443200")&&b("MessengerParticipants.bs").addPreloadedParticipants(a.threads[0]);b("MessengerParticipants.bs").addParticipants(a);b("MessengerState.bs").sendJS(c.$MercuryDispatcher1,b("MessengerState.bs").processJSActions(a));c.inform("update-threadlist",a);c.inform("update-messages",a);c.inform("model-update-completed",null)})};d.$MercuryDispatcher2=function(a){var c=a.payload_source;if(c==="client_change_read_status"||c==="client_mark_thread_seen")return;var d={from_client:a.from_client,messages:null};if(a.actions){a=a.actions.filter(function(a){return a.action_type==="ma-type:user-generated-message"||a.action_type==="ma-type:log-message"}).map(function(a){return{action_type:a.action_type,other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,message_id:a.message_id}});a.length&&(d.messages=a)}b("MercuryMessagingLightswitch").guard(function(){i.debug("update:"+c,JSON.stringify(d))})};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;var j=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySendErrorLogger",["Banzai","BanzaiLogger","MercuryMessagingLightswitch"],(function(a,b,c,d,e,f){var g=b("BanzaiLogger").create({retry:!0}),h=b("Banzai").isEnabled("mercury_send_error_logging");a={log:function(a){if(!h)return;b("MercuryMessagingLightswitch").guard(function(){var b={message_id:a.message_id,timestamp_client:Date.now(),error_type:a.error_data.type,error_code:a.error_data.code,error_description:a.error_data.description,is_transient:a.error_data.is_transient};g.log("MercurySendErrorLoggerConfig",b)})}};c=a;e.exports=c}),null);
__d("MercuryServerPayloadPreprocessor",["invariant","ChatReliabilityInstrumentation","LogHistory","MercuryAttachment","MercuryDispatcher","MercuryIDs","MercuryMessagingLightswitch","MercurySendErrorLogger","MercurySingletonProvider","MercuryThreadIDMap","MessengerEnvironment","MessengerState.re","URI","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$4=b("LogHistory").getInstance("MercuryServerPayloadPreprocessor"),this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercuryDispatcher").getForFBID(this.$1)}a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};var c=a.prototype;c.handleUpdate=function(a){var c=this,e={};a.from_client&&g(0,2150);(a.threads||[]).forEach(function(a){c.$5(a,e);var b=c.$2.getServerIDFromClientIDNow(a.thread_id);d(["MercuryServerRequests"],function(d){d=d.getForFBID(c.$1);d.markThreadFetched(a.thread_id);b&&d.markThreadFetched(b);d.updateLastActionTimestamp(a.timestamp)})});a.pinned_thread_ids=(a.pinned_thread_ids||[]).map(function(a){return c.$2.getClientIDFromServerIDNow(a)});(a.ordered_threadlists||[]).forEach(function(a){var b=a.thread_fbids||[];b=b.concat(a.other_user_fbids||[]);a.thread_ids=b.map(function(a){return c.$2.getClientIDFromServerIDNow(a.toString())})});if(a.delivery_receipts){var f={};for(var h=a.delivery_receipts,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=k.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(k.other_user_fbid):this.$2.getClientIDFromServerIDNow(k.thread_fbid);l&&(f[l]=k.time)}a.delivery_receipts=f}a.actions=a.actions||[];a.actions.forEach(function(f){f.action_type==="ma-type:send-message"&&f.status===10&&b("MercuryMessagingLightswitch").guard(function(){b("MercurySendErrorLogger").log(f)});var h=null,i=null;f.other_user_fbid?(i=b("MercuryIDs").getThreadIDFromUserID(f.other_user_fbid),h=f.other_user_fbid):f.thread_fbid?(i=b("MercuryIDs").getThreadIDFromThreadFBID(f.thread_fbid),h=f.thread_fbid):f.thread_id?(i=b("MercuryIDs").getThreadIDFromThreadFBID(f.thread_id),h=f.thread_id):f.status&&f.status!=1&&f.client_thread_id?i=f.client_thread_id:g(0,2151,f.action_type,f.status);h=h&&h.toString();f.thread_id=c.$2.hasClientIDForServerID(h)?c.$2.getClientIDFromServerIDNow(h):i;f.action_type=="ma-type:send-message"&&f.client_thread_id&&h&&(f.thread_id=f.client_thread_id,c.$6("forceSetServerIDToClientID",h,f.client_thread_id)&&b("ChatReliabilityInstrumentation").logSET_THREAD_ID_MAP(h+":"+f.client_thread_id),c.$2.forceSetServerIDToClientID(h,f.client_thread_id),e[h]=f.client_thread_id);f.thread_id||g(0,2152,f.action_type);(!a.payload_source||!a.payload_source.startsWith("server"))&&d(["MercuryServerRequests"],function(a){a.getForFBID(c.$1).updateLastActionTimestamp(f.timestamp)})});this.$7(a);this.$8(a);if(a.end_of_history){l=[];for(var k=0;k<a.end_of_history.length;k++){j=a.end_of_history[k];j.type=="user"?l.push("user:"+j.fbid):j.type=="thread"&&this.$2.hasClientIDForServerID(j.fbid)&&l.push(this.$2.getClientIDFromServerIDNow(j.fbid))}a.end_of_history=l}if(a.roger){var m={};Object.keys(a.roger).forEach(function(d){var e=Object.keys(a.roger[d]),f;d?f=c.$2.getClientIDFromServerIDNow(d):e.length===1&&(f=b("MercuryIDs").getThreadIDFromUserID(e[0]));if(f){e=a.roger[d];m[f]={};for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){d=b("MercuryIDs").getParticipantIDFromUserID(g);m[f][d]=e[g]}}});a.roger=m}a.newlyAddedClientIDs=e;a.preprocessed=!0;this.$3.handleUpdate(a)};c.$6=function(a,c,d){var e=this;if(!b("gkx")("1199097"))return;var f=b("MessengerState.re").getThreadMetaNow(this.$1,d);if(f==null){b("MercuryMessagingLightswitch").guard(function(){e.$4.debug(a,c+":"+d)});return!0}return!1};c.$5=function(a,c){var d=a.other_user_fbid?a.other_user_fbid:a.thread_fbid;d||g(0,2153);var e=this.$2.getClientIDFromServerIDNow(d);e||(e=a.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(a.other_user_fbid):b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid),this.$6("setServerIDToClientID",d,e),this.$2.setServerIDToClientID(d,e),this.$2.setDeprecatedServerIDToClientID(a.thread_id,e),c[d]=e);a.thread_id=e};c.$7=function(a){a.actions.forEach(function(a){a.action_type==="ma-type:user-generated-message"&&(a.attachments=a.attachments||[],a.attachments.forEach(function(a){if(b("MercuryAttachment").isShareAttachment(a)&&a.share&&b("MessengerEnvironment").messengerui){var c=new(h||(h=b("URI")))(a.share.uri);c.getDomain()||(a.share.uri=c.setDomain("facebook.com").setSubdomain((h||(h=b("URI"))).getRequestURI().getSubdomain()).setProtocol("https").toString())}}))})};c.$8=function(a){a.actions.forEach(function(a){if(a.action_type!=="ma-type:user-generated-message")return;a=a;if(!a.has_attachment||!a.attachments)return;for(var c=a.attachments.length-1;c>=0;c-=1){var d=a.attachments[c];if(!d.share||!d.share.style_list||d.share.style_list[0]!="genie_message")continue;d.share.target.genie_id&&(a.author=b("MercuryIDs").getParticipantIDFromUserID(d.share.target.genie_id));d.share.target&&!d.share.target.attachment&&(a.attachments.splice(c,1),a.has_attachment=a.attachments.length>0)}})};return a}();e.exports=a;var i=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryServerSendMessageQueueOptions",[],(function(a,b,c,d,e,f){a=function(a,b,c,d,e,f){this.success_handler=a,this.error_handler=b,this.transport_error_handler=c,this.timeout_handler=d,this.timeout=e,this.connection_retries=f};e.exports=a}),null);
__d("XMercuryUnseenThreadIDsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/unseen_thread_ids/",{})}),null);
__d("XMessagingChangeMentionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_mentions_mute_thread/",{})}),null);
__d("XMessagingChangeReactionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_reactions_mute_thread/",{})}),null);
__d("MercuryServerRequests",["errorCode","invariant","Arbiter","AsyncResponse","AvailableListConstants","Bootloader","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","Env","LogHistory","MercuryAPIArgsSource","MercuryAssert","MercuryDispatcher","MercuryIDs","MercuryMessageClientState","MercuryMessageIDs.bs","MercuryMessagingLightswitch","MercurySendErrorLogger","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequestsConfig","MercuryServerSendMessageQueueOptions","MercuryServerSendMessageQueueRouter","MercuryServerURIs","MercurySingletonProvider","MercurySyncDeltaHolder","MercuryTagHelper","MercuryThreadIDMap","MessagingConfig","MessagingTag","MessengerEnvironment","MessengerWebStgTypedLoggerLite","ODS","PresenceStatus","Promise","ScriptPath","XMercuryUnseenThreadIDsController","XMessagingChangeMentionsMuteModeController","XMessagingChangeReactionsMuteModeController","createObjectFrom","gkx","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("MessengerWebStgTypedLoggerLite").log,k=b("LogHistory").getInstance("mercury_server"),l=b("MercuryAPIArgsSource").MERCURY,m=30*1e3;function n(a){return a.getError()?"_"+a.getError():""}function o(a,c){var d=babelHelpers["extends"]({},a),e;if(c.threads){d.threads||(d.threads={});for(e in c.threads)d.threads[e]=Object.keys(b("createObjectFrom")((d.threads[e]||[]).concat(c.threads[e]||[])))}if(c.messages){d.messages||(d.messages={});for(e in c.messages){d.messages[e]||(d.messages[e]={});for(var f in c.messages[e])d.messages[e][f]?d.messages[e][f]=s(d.messages[e][f],c.messages[e][f]):d.messages[e][f]=c.messages[e][f]}}d.client=a.client||c.client;return d}function p(a,c){var d=Object.assign(b("createObjectFrom")(a.folders,!0),b("createObjectFrom")(c.folders,!0));a=a.client||c.client;return{folders:Object.keys(d),client:a}}function q(a,b){for(var c in b)if(a[c]&&typeof a[c]==="object")a[c]=s(a[c],b[c]);else if(b[c]&&typeof b[c]==="object"){var d={};Object.assign(d,b[c]);a[c]=d}return a}function r(a,b){return b}function s(a,b){var c=Math.max(a.limit,b.limit),d;!a.timestamp?d=b.timestamp:!b.timestamp?d=a.timestamp:d=Math.min(a.timestamp,b.timestamp);return{limit:c,timestamp:d}}function t(a,b){var c=a.client||b.client;c={ids:{},client:c};Object.assign(c.ids,a.ids,b.ids);return c}function u(a,c){var d={},e,f=a.client||c.client;delete a.client;delete c.client;for(e in a)Object.assign(d,b("createObjectFrom")(a[e],e));for(e in c)Object.assign(d,b("createObjectFrom")(c[e],e));a={client:f};for(var g in d)e=d[g],a[e]||(a[e]=[]),a[e].push(g);return a}function v(a,c){var d=a.client||c.client;a=b("createObjectFrom")(a.ids,!0);c=b("createObjectFrom")(c.ids,!0);a=Object.assign(a,c);return{ids:Object.keys(a),client:d}}a=function(){function a(a){var c=this;this.$1=a;this.$2=0;this.$3={};this.$4={};this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=b("MercuryDispatcher").getForFBID(this.$1);this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$7=new(b("MercuryServerSendMessageQueueOptions"))(function(a,b){c.__handleUpdate(a,b)},function(a){return c.$9(a)},function(a){c.$10(a)},function(a){return c.$11(a)},b("MercuryServerRequestsConfig").sendMessageTimeout,b("MessagingConfig").SEND_CONNECTION_RETRIES);this.$8=b("MercurySyncDeltaHolder").getForFBID(this.$1);this.$12()}a.getForFBID=function(a){return w.getForFBID(a)};a.get=function(){return w.get()};var c=a.prototype;c.fetchThreadlistInfo=function(a,c,d,e,f,g){d===void 0&&(d=b("MessagingTag").INBOX);f===void 0&&(f=l);var h=e?b("MercuryServerDispatcher").IMMEDIATE:null;f={client:f};f[d]={offset:a,limit:c,filter:e,before:g};this.__sendRequest(b("MercuryServerURIs").THREADLIST_INFO,f,h)};c.fetchUnseenThreadIDs=function(a,c){a===void 0&&b("MessagingTag").INBOX,c===void 0&&(c=l),this.__sendRequest(b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString(),{})};c.fetchUnreadThreadIDs=function(a,c){c===void 0&&(c=l),this.__sendRequest(b("MercuryServerURIs").UNREAD_THREADS,{folders:[a],client:c})};c.fetchThreadData=function(a,c){var d=this;c===void 0&&(c=l);b("MercuryAssert").allThreadID(a);var e={threads:{},client:c},f=[],g=[];a.forEach(function(a){if(d.$3[a])return;d.$3[a]=!0;var c=d.__threadIDMap.getServerIDFromClientIDNow(a);a=b("MercuryIDs").tokenize(a);if(a.type=="user")f.push(a.value),e.threads.user_ids=f;else if(a.type=="thread")c?g.push(c):g.push(a.value),e.threads.thread_fbids=g;else if(a.type=="root")c&&(g.push(c),e.threads.thread_fbids=g);else if(a.type!="pending")throw new Error("Unknown thread type",a)});e.threads.user_ids&&e.threads.user_ids.forEach(function(a){a||(b("MercuryMessagingLightswitch").guard(function(){k.error("empty user id",JSON.stringify(f))}),b("ChatReliabilityInstrumentation").logERROR("Invalid user ID sent to thread_info.php: "+JSON.stringify(f)))});e.threads.thread_fbids&&e.threads.thread_fbids.forEach(function(c){c||b("ChatReliabilityInstrumentation").logERROR("Invalid FBID sent to thread_info.php: "+JSON.stringify(a))});for(var h in e.threads){this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,e);break}};c.ensureThreadIsFetched=function(a,c){c===void 0&&(c=l);if(!this.__threadIDMap.getClientIDFromServerIDNow(a)&&!this.$3[a]){if(!a){b("ChatReliabilityInstrumentation").logERROR("Ensure invalid FBID sent to thread_info.php");k.error("attempting to fetch empty thread_fbid. Bad idea!");return}this.$3[a]=!0;this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,{threads:{thread_fbids:[a]},client:c})}};c.fetchThreadMessages=function(a,c,d,e,f,g){var h=this;g===void 0&&(g=l);b("MercuryAssert").isThreadID(a);var i;c=b("MercuryIDs").tokenize(a);var j=this.__threadIDMap.getServerIDFromClientIDNow(a),k=!1;if(j)j=j,i=c.type=="user"?"user_ids":"thread_fbids";else{j=c.value;switch(c.type){case"user":i="user_ids";k=!0;break;case"thread":i="thread_fbids";break}}var m={messages:{},threads:{},client:g};i?(m.messages[i]={},m.messages[i][j]={timestamp:e,limit:d},k&&(m.threads[i]=[j]),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,m,f)):this.__threadIDMap.getServerIDFromClientID(a,function(a){m.messages.thread_fbids={},m.messages.thread_fbids[a]={timestamp:e,limit:d},h.__sendRequest(b("MercuryServerURIs").THREAD_INFO,m,f)})};c.handleThreadInfoError=function(a,c){var d=a.getData();c=[];if(d.messages&&!b("gkx")("1738138")){for(var e in d.messages.thread_fbids){a=this.__threadIDMap.getClientIDFromServerIDNow(e);a&&c.push(this.$13(a))}for(var f in d.messages.user_ids)c.push(this.$13("user:"+f));for(var g in d.messages.group_ids)c.push(this.$13("group:"+g))}c.length&&this.$5.handleUpdate({actions:c,from_client:!0,payload_source:"client_channel_message"});if(d.threads&&(d.threads.user_ids||d.threads.thread_fbids||d.threads.group_ids||d.threads.thread_ids)){a=5;c=!0;d.retry_count||(d.retry_count=0,d.messages&&delete d.messages);if(c){c=Math.pow(2,Math.min(d.retry_count,a))*1e3;b("setTimeoutAcrossTransitions")(function(){k.log("retry_thread","{}"),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,d)}.bind(this),c);d.retry_count++}}};c.markFolderAsRead=function(a){this.__sendRequest(b("MercuryServerURIs").MARK_FOLDER_READ,{folder:a});a=[{action_type:"mga-type:mark-all-read",folder:a}];this.$5.handleUpdate({global_actions:a,from_client:!0,payload_source:"client_change_read_status"})};c.changeThreadReadStatus=function(a,c,d,e,f,g){var h=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(i){var j;j={ids:(j={},j[i]=c,j),source:d,watermarkTimestamp:e,shouldSendReadReceipt:f,commerce_last_message_type:g};b("MercuryMessagingLightswitch").guard(function(){k.log("initiate_change_read_status",JSON.stringify({thread_id:a,thread_fbid:i,mark_as_read:c,watermarkTimestamp:e}))});h.__sendRequest(b("MercuryServerURIs").CHANGE_READ_STATUS,j)})};c.changeThreadArchivedStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS,f)})};c.changeThreadPinnedStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_PINNED_STATUS,f)})};c.changeThreadPageFollowUpStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS,f)})};c.changeThreadFolder=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={};e[c]=[a];d.__sendRequest(b("MercuryServerURIs").MOVE_THREAD,e)})};c.changeMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").CHANGE_MUTE_THREAD,{thread_fbid:a,mute_settings:c,payload_source:l})})};c.changeMentionsMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,mentions_mute_mode:c,payload_source:l})})};c.changeReactionsMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,reactions_mute_mode:c,payload_source:l})})};c.markThreadSpam=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").MARK_SPAM,{id:a,source:c})})};c.unmarkThreadSpam=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").UNMARK_SPAM,{id:a,source:c})})};c.deleteThread=function(a,b){this.deleteThreads([a],b)};c.deleteThreads=function(a,c){var d=this;b("promiseDone")(b("Promise").all(a.map(function(a){b("MercuryAssert").isThreadID(a);return new(b("Promise"))(function(b){return d.__threadIDMap.getServerIDFromClientID(a,b)})})).then(function(a){d.__sendRequest(b("MercuryServerURIs").DELETE_THREAD,{ids:a,source:c})}))};c.deleteMessages=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(c||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELETE_MESSAGES,{message_ids:a})}.bind(this))};c.sendDeliveryReceipts=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(a||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELIVERY_RECEIPTS,{message_ids:a,thread_ids:c})}.bind(this))};c.sendNewMessage=function(a,c){var d=this;c===void 0&&(c=l);a.offline_threading_id||b("ODS").bumpEntityKey(3303,"chat.web","missing_otid_on_send");if(a.client_state&&a.client_state!==b("MercuryMessageClientState").SEND_TO_SERVER)return;var e=b("MercuryIDs").tokenize(a.thread_id),f=e.type,g=babelHelpers["extends"]({},a);g.thread_id=null;f=="user"?(g.other_user_fbid=e.value,this.$14(g,c)):f=="thread"?(g.thread_fbid=e.value,this.$14(g,c)):f=="root"&&e.value==g.offline_threading_id?(g.client_thread_id=a.thread_id,this.$14(g,c)):(b("MercuryIDs").isLocalThread(a.thread_id)||h(0,5587,a.thread_id),this.__threadIDMap.getServerIDFromClientID(a.thread_id,function(a){g.thread_fbid=a,d.$14(g,c)}));this.$15("send_msg",a);b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerStart(c.SEND_MESSAGE,a.offline_threading_id)},"MercuryServerRequests")})};c.$15=function(a,c){try{var d=(i||(i=b("Env"))).isCQuick?"Comet Inbox":b("MessengerEnvironment").messengerdotcom?"messenger_dot_com":b("MessengerEnvironment").facebookdotcom?"Facebook Messenger (other)":"Other",e=b("MercuryTagHelper").get(c.tags||[],"entrypoint"),f=b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),g=b("PresenceStatus").get(f)===b("AvailableListConstants").ACTIVE;j({attachment_infos:void 0,client_timestamp:Date.now(),entry_point:e,event_name:a,first_attachment_type:void 0,"interface":d,mid:c.message_id,offline_threading_id:c.offline_threading_id,other_user_fbid:b("MercuryIDs").isGroupChat(c.thread_id)?void 0:f,thread_fbid:b("MercuryIDs").isGroupChat(c.thread_id)?f:void 0,extra_data:{pathName:b("ScriptPath").getScriptPath(),isActiveNow:g}})}catch(a){b("ODS").bumpEntityKey(3303,"chat.web","logging_error")}};c.$14=function(a,c){b("Arbiter").inform(b("ChannelConstants").ATTEMPT_RECONNECT),this.$4[a.message_id]=Date.now(),b("MercuryServerSendMessageQueueRouter").getForFBID(this.$1).enqueue(a.other_user_fbid||a.thread_fbid||a.client_thread_id,this.$7,c,a)};c.__getSendMessageQueueOptions=function(){return this.$7};c.markSeen=function(){var a=this.$2;this.__sendRequest(b("MercuryServerURIs").MARK_SEEN,{seen_timestamp:a})};c.$16=function(a,c,d,e){a=a.getData();var f=a.message_batch||[a];b("MercuryMessagingLightswitch").guard(function(){k.debug("handle_send_message_error_common",JSON.stringify({reliability_error_status:d,request_error_status:c,error_data:e,message_list:f}))});b("ChatReliabilityInstrumentation").logERROR("send_message_fail");var g=f.map(function(a){a={action_type:"ma-type:send-message",other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,client_message_id:a.message_id,message_id:a.message_id,client_thread_id:a.client_thread_id,status:c,error_data:e};return a});g.forEach(function(a){a.action_type==="ma-type:send-message"&&a.status===10&&this.__logMercurySendError(a)},this);a={actions:g,payload_source:"client_handle_error"};b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){g.map(function(c){a.markerEnd(b.SEND_MESSAGE,"FAIL",c.client_message_id)})},"MercuryServerRequests")});this.$6.handleUpdate(a)};c.handleSendMessageError=function(a){var c=a.getPayload(),d=null,e=null;c&&c.error_payload?(d=3,e="send_error"):(d=10,e="request_error"+n(a));c=a.error;c===1404102?b("AsyncResponse").verboseErrorHandler(a):(c===1545052||c===1409009||c===1409008||c===1409007||c===1409006||c===1545083||c===1545084)&&b("AsyncResponse").defaultErrorHandler(a);c=/<.*>/.test(a.getErrorDescription())?a.getErrorSummary():a.getErrorDescription();this.$16(a.getRequest(),d,e,{type:1,code:a.getError(),description:c,is_transient:a.isTransient()})};c.handleSendMessageTransportError=function(a){this.$16(a.getRequest(),10,"transport_error"+n(a),{type:2,code:a.getError(),is_transient:!0})};c.handleSendMessageTimeout=function(a){this.$16(a,10,"transport_timeout",{type:3,is_transient:!0})};c.getLastActionTimestamp=function(){return this.$2};c.__logMercurySendError=function(a){b("MercurySendErrorLogger").log(a)};c.updateLastActionTimestamp=function(a){var b=Date.now()-1e3*60*60*24;a&&a>b&&(this.$2=Math.max(this.$2,a))};c.markThreadFetched=function(a){delete this.$3[a]};c.$13=function(a){return{action_type:"ma-type:log-message",thread_id:a,message_id:a,timestamp:Date.now(),is_unread:!1,source:"source:unknown",log_message_body:"",log_message_type:"log:error-msg",log_message_data:{}}};c.__getForAsyncRequest=function(c){c=c.getData();c=c.request_user_id?c.request_user_id:b("CurrentUser").getID();return a.getForFBID(c)};c.__handleUpdate=function(a,c){a.payload_source==="server_send_message"&&b("MercuryMessagingLightswitch").guard(function(){b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){var d=a.actions&&a.actions[0]&&a.actions[0].client_message_id;d&&b.markerEnd(c.SEND_MESSAGE,"SUCCESS",d)},"MercuryServerRequests")}),this.__getForAsyncRequest(c).$6.handleUpdate(a)};c.$17=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a)};c.$18=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a,!0)};c.$9=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageError(a)};c.$10=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageTransportError(a)};c.$11=function(a){var b=this.__getForAsyncRequest(a);b.handleSendMessageTimeout(a)};c.$12=function(){var a=this,c,d=null;b("MercuryServerRequestsConfig").msgrRegion&&(d={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});c=(c={},c[b("MercuryServerURIs").THREAD_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,customHeader:d,batch_function:o,handler:function(b,c){return a.__handleUpdate(b,c)},error_handler:function(b){return a.$17(b.getRequest())},timeout_handler:function(b){return a.$18(b)},timeout:m},c[b("MercuryServerURIs").MARK_FOLDER_READ]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_READ_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(c,d){a.__handleUpdate(c,d);var e=(c.threads||[]).map(function(a){return a&&a.thread_id});b("MercuryMessagingLightswitch").guard(function(){k.log("response_change_read_status",JSON.stringify({threads:e}))})}},c[b("MercuryServerURIs").MARK_SEEN]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:r,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").THREADLIST_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:d,batch_function:q,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").MARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").UNMARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").UNREAD_THREADS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:d,batch_function:p,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:t,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_PINNED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:t,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:t,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELETE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:v,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELETE_MESSAGES]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELIVERY_RECEIPTS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").MOVE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_MUTE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c);var e=b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};e=b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};e=b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};b("MercuryServerDispatcher").registerEndpoints(c)};c.__sendRequest=function(a,c,d){if(this.$8)switch(a){case b("MercuryServerURIs").THREADLIST_INFO:case b("MercuryServerURIs").THREAD_INFO:c.cachius_min_seq_id=this.$8.getLastSeqID();break;default:break}b("MercuryServerDispatcher").trySend(a,c,d,this.$1)};c.__getFBID=function(){return this.$1};return a}();e.exports=a;var w=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryThreadIDMap",["KeyedCallbackManager","MercuryAssert","MercuryIDs","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var c=this;this.canLinkExternally=function(a){b("MercuryAssert").isThreadID(a);var d=b("MercuryIDs").tokenize(a);return d.type=="user"||!!c.getServerIDFromClientIDNow(a)};this.$1=a;this.$2=new(b("KeyedCallbackManager"))();this.$3=new(b("KeyedCallbackManager"))()}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.setServerIDToClientID=function(a,b){var c=this.getClientIDFromServerIDNow(a);if(c)return;this.forceSetServerIDToClientID(a,b)};c.forceSetServerIDToClientID=function(a,b){this.$2.setResource(a,b),this.$3.setResource(b,a)};c.setDeprecatedServerIDToClientID=function(a,b){a&&this.$2.setResource(a,b)};c.getClientIDFromServerIDNow=function(a){return this.$2.getResource(a)};c.getClientIDFromServerID=function(a,b){var c=this;this.$2.executeOrEnqueue(a,b);d(["MercuryServerRequests"],function(b){b.getForFBID(c.$1).ensureThreadIsFetched(a)})};c.getServerIDFromClientIDNow=function(a){return this.$3.getResource(a)};c.getServerIDFromClientID=function(a,c){var e=this;b("MercuryAssert").isThreadID(a);var f=this.$3.executeOrEnqueue(a,c);d(["MercuryServerRequests"],function(c){var d=e.$3.getUnavailableResources(f),g=b("MercuryIDs").tokenize(a);d.length&&g.type!="root"&&c.getForFBID(e.$1).fetchThreadData(d)})};c.hasClientIDForServerID=function(a){return!!this.getClientIDFromServerIDNow(a)};c.convertThreadIDIfAvailable=function(a){var b=this.getClientIDFromServerIDNow(a);return b||a};c.reset=function(){this.$3.reset(),this.$2.reset()};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryLoggingHelper",[],(function(a,b,c,d,e,f){a={obfuscateThread:function(a){var b=babelHelpers["extends"]({},a);a&&a.snippet&&a.snippet.length>0&&(b.snippet="*** [redacted] ***");return b},obfuscateMessage:function(a){var b=babelHelpers["extends"]({},a);a&&a.body&&a.body.length>0&&(b.body="*** [redacted] ***");return b}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueSimulatedError",["AsyncRequest","AsyncResponse"],(function(a,b,c,d,e,f){var g=9999;a={create:function(a){a=new(b("AsyncRequest"))(this.endpoint_uri).setData({message_batch:[a],client:this.client});var c=new(b("AsyncResponse"))(a,{});Object.assign(c,{error:g,silentError:!1,transientError:!0,request:a});return c}};e.exports=a}),null);
__d("XMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/send/",{privacy_mutation_token:{type:"String"}})}),null);
__d("MercuryServerSendMessageQueue",["fbt","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryIDs","MercuryLoggingHelper","MercuryMessagingLightswitch","MercuryServerDispatcher","MercuryServerRequestsConfig","MercuryServerSendMessageQueueSimulatedError","MercurySyncDeltaHandler","MessengerAttachmentTransformerForSend.bs","MessengerObjectAssociationType","MessengerState.bs","ODS","Run","XMessagingSendController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LogHistory").getInstance("mercury_server_send_message_queue");a=function(){function a(a,c,d,e){var f=this;this.pending_message=null;this.queue=[];this.$6=function(){return f.queue.length||f.pending_message?g._("Vous n\u2019avez pas encore envoy\u00e9 votre message. Voulez-vous quitter sans envoyer\u00a0?"):void 0};this.sender_id=a;this.queue_id=c;this.$2=d.success_handler;this.$1=d.error_handler;this.$4=d.transport_error_handler;this.$3=d.timeout_handler;this.$5=b("MercurySyncDeltaHandler").getForFBID(this.sender_id);this.client=e;b("Run").onBeforeUnload(this.$6,!1);a=null;b("MercuryServerRequestsConfig").msgrRegion&&(a={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});c=this.__getSendURI();c=(e={},e[c]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:a,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:d.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:d.connection_retries},e);b("MercuryServerDispatcher").registerEndpoints(c)}var c=a.prototype;c.__getSendURI=function(){return b("XMessagingSendController").getURIBuilder().getURI().toString()};c.__preparePayload=function(a){var c;c=(c=a)!=null?(c=c.replied_to_message)!=null?(c=c.message)!=null?c.message_id:c:c:c;var d=null,e=a.client_thread_id;if(b("MercuryIDs").isLocalThread(e)){e=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),e);if(e&&e.message_count===1&&e.object_association_type===b("MessengerObjectAssociationType").GENERAL_CHAT){d=(e=e)!=null?(e=e.associated_object)!=null?e.id:e:e}}e=c?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),c):null;return{client:this.client,action_type:a.action_type,app_id:a.app_id,audio_ids:a.audio_ids,body:a.body,client_thread_id:a.client_thread_id,ephemeral_ttl_mode:a.ephemeral_ttl_mode,file_ids:a.file_ids,gif_ids:a.gif_ids,has_attachment:a.has_attachment,image_ids:a.image_ids,location_attachment:a.location_attachment,lightweight_action_attachment:a.lightweight_action_attachment,log_message_data:a.log_message_data,log_message_type:a.log_message_type,message_id:a.message_id,message_source_data:a.message_source_data,montage_reply_data:a.montage_reply_data,offline_threading_id:a.offline_threading_id,other_user_fbid:a.other_user_fbid,photo_fbids:a.photo_fbids,shareable_attachment:a.shareable_attachment,signature_id:a.signatureID,source:a.source,specific_to_list:a.specific_to_list,sticker_id:a.sticker_id,tags:a.tags,thread_fbid:a.thread_fbid,timestamp:a.timestamp,ui_push_phase:a.ui_push_phase,video_ids:a.video_ids,platform_xmd:a.platform_xmd,profile_xmd:a.profile_xmd,replied_to_message_id:e,work_synced_group_id:d,to_list_md5:a.to_list_md5,mib_direct_message_data:a.mib_direct_message_data,secondary_language_body:a.secondary_language_body}};c.enqueue=function(a){this.queue.push(a),this.$7()};c.$7=function(){if(this.pending_message||!this.queue.length){this.pending_message&&this.$8();return}this.pending_message=this.queue.shift();var a=this.__preparePayload(this.pending_message);for(var c in a)(a[c]===void 0||a[c]===null)&&delete a[c];if(!a.action_type){var d=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller");b("MercuryMessagingLightswitch").guard(function(){h.debug("missing_action_type",JSON.stringify(d))})}if(!a.message_id){var e=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller"+JSON.stringify(e));b("MercuryMessagingLightswitch").guard(function(){h.debug("missing_message_id",JSON.stringify(e))})}this.$9();b("MercuryServerDispatcher").trySend(this.__getSendURI(),a,null,this.sender_id,this.queue_id)};c.$10=function(){while(this.queue.length)this.$11(this.queue.shift())};c.$11=function(a){var c=this;this.$1(b("MercuryServerSendMessageQueueSimulatedError").create(a));b("MercuryMessagingLightswitch").guard(function(){h.error("mark_as_failed",JSON.stringify({fbid:c.sender_id,queue_id:c.queue_id,message:b("MercuryLoggingHelper").obfuscateMessage(a)}))})};c.handleSuccess=function(a,c){var d=this;this.pending_message=null;var e=(a.actions||[]).map(function(a){var c=babelHelpers["extends"]({},a);if(a.graphql_payload&&a.graphql_payload.length>0){var e=b("MessengerAttachmentTransformerForSend.bs").transform(d.sender_id,a.graphql_payload,a.message_id,a.for_page);c=Object.assign(c,{attachments:e})}e=(e=a)!=null?(e=e.log_message_data)!=null?e.graphql_image:e:e;if(e){e=b("MessengerAttachmentTransformerForSend.bs").transform(d.sender_id,[e],a.message_id,a.for_page);c=Object.assign(c,{log_message_data:{image:e[0]}})}return c});a.actions=e;this.resumeAfterSuccess(a,c)};c.resumeAfterSuccess=function(a,b){this.$2(a,b),this.$12(),this.$7()};c.handleError=function(a){this.pending_message=null,this.$12(),this.$1(a),this.$10()};c.handleTransportError=function(a){this.pending_message=null,this.$12(),this.$4(a),this.$10()};c.handleTimeout=function(a){this.pending_message=null,this.$12(),this.$3(a),this.$10()};c.$9=function(){this.$5.pause()};c.$12=function(){this.$5.resume()};c.$8=function(){var a=this;b("MercuryMessagingLightswitch").guard(function(){h.debug("maybe_send_next_pending_message",JSON.stringify({fbid:a.sender_id,queue_id:a.queue_id,pending_message:b("MercuryLoggingHelper").obfuscateMessage(a.pending_message),queue:a.queue.map(function(a){return b("MercuryLoggingHelper").obfuscateMessage(a)})}))});var c="send_queue.delayed.queue_length."+this.queue.length.toString();b("ODS").bumpEntityKey(3303,"chat.web",c)};return a}();e.exports=a}),null);
__d("MercurySingletonMixin",["CurrentUser"],(function(a,b,c,d,e,f){a={_getInstances:function(){this._instances||(this._instances={});return this._instances},get:function(){return this.getForFBID(b("CurrentUser").getID())},getForFBID:function(a){var b=this._getInstances();b[a]||(b[a]=new this(a));return b[a]}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueRouter",["LogHistory","MercuryServerSendMessageQueue","MercurySingletonMixin","ODS"],(function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("mercury_server_send_message_queue_router"),h="chat.web.send_queue_router";b("ODS").setEntitySample(h,.1);a=function(){function a(a){this.queues=new Map(),this.fbid=a}var c=a.prototype;c.enqueue=function(a,c,d,e){var f=this.queues.get(a);f===void 0&&(f=new(b("MercuryServerSendMessageQueue"))(this.fbid,a,c,d),this.queues.set(a,f),g.debug("added queue",JSON.stringify({fbid:this.fbid,queue_id:a})),b("ODS").bumpEntityKey(3303,h,"new_queue"));f.enqueue(e)};return a}();e.exports=a;Object.assign(a,b("MercurySingletonMixin"))}),null);
__d("MercurySyncDataFetcherImpl",["invariant","AsyncResponse","Bootloader","CurrentUser","FBIDCheck","MercuryConfig","MercuryThreadlistConstants","MessagingConfig","Promise","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";f.fetchThreadlistFromGraphQL=a;f.fetchThreadFromGraphQL=c;f.fetchMessageFromGraphQL=d;var h=null,i=null,j=null,k={limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1,folder:"inbox",tags:["INBOX"],timestamp:null,filter:null,includeDeliveryReceipts:!1,includeSeqID:!0},l={};function a(a){return new(b("Promise"))(function(b,c){m(a,b,c,0)})}function m(a,c,d,e){if(!b("CurrentUser").isLoggedInNow()||e>b("MessagingConfig").syncFetchRetries){b("clearTimeout")(l[a]);d();return}var f=e===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,e);b("UserActivity").isOnTab()||(f+=b("MercuryConfig").DFFD*Math.random());b("clearTimeout")(l[a]);l[a]=b("setTimeoutAcrossTransitions")(function(){var f=!1,n=function(h){if(f)return;if(h.errors&&h.errors.length>0){var k=h.errors[0].message;if(k){var l=function(){j&&i||g(0,3650),new j().setErrorMessage(k).setEvent(i.DFF_FAILURE).setQueryParams(a).log()};j&&i?l():b("Bootloader").loadModules(["MessengerWebGraphQLTypedLogger","MessengerWebGraphQLEvent"],function(a,b){j=a,i=b,l()},"MercurySyncDataFetcherImpl")}}f=!0;m(a,c,d,e+1)},o=function(){if(!b("CurrentUser").isLoggedInNow())return;h||g(0,3651);h.fetchAll(a,[k],!b("FBIDCheck").isUser_deprecated(a),"dff").then(function(d){f=!0,c(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},d,{payload_source:"server_invalidate_global_state"}))),b("clearTimeout")(l[a])},n)};h?o():b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs"],function(a){h=a,o()},"MercurySyncDataFetcherImpl")},f)}function c(a,c,d){return new(b("Promise"))(function(b,e){n(a,c,d,b,e,0)})}function n(a,c,d,e,f,g){if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;n(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerThreadDFFFetcher.bs"],function(f){return f.fetch_(a,{id:c,limit:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a,{payload_source:"server_invalidate_thread_state"})))},i)},"MercurySyncDataFetcherImpl")},h)}function d(a,c,d){return new(b("Promise"))(function(b,e){o(a,c,d,b,e,0)})}function o(a,c,d,e,f,g){if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;o(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerMessageDFFFetcher.bs"],function(f){return f.fetch_(a,{thread_id:c,message_id:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a)))},i)},"MercurySyncDataFetcherImpl")},h)}}),null);
__d("MercurySyncDataFetcher",["LogHistory","MercurySyncDataFetcherImpl","MessagingConfig","Promise","WebGraphQLConfig","clearTimeout","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";f.getMaxTimeoutMs=a;f.fetchThreadlistFromGraphQL=c;f.fetchThreadFromGraphQL=d;f.fetchMessageFromGraphQL=e;var g=b("LogHistory").getInstance("mercury_sync_data_fetcher");function a(){var a=0;for(var c=0;c<b("MessagingConfig").syncFetchRetries;c++){var d=c===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,c);a+=d+b("MessagingConfig").syncFetchRequestTimeoutMs}return a}var h=a();function c(a){var c=null;return new(b("Promise"))(function(d,e){var f=function(a){g.error("fetch_threadlist_graphql_timeout",JSON.stringify({timeout:h})),b("clearTimeout")(c),e(a)};c=b("setTimeoutAcrossTransitions")(f,Math.max(h,b("WebGraphQLConfig").timeout*b("MessagingConfig").syncFetchRetries));b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadlistFromGraphQL(a),function(a){b("clearTimeout")(c),d(a)},f)})}function d(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_thread_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}function e(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_message_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchMessageFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}}),null);
__d("MercurySyncDFFDataFetcher",["CurrentUser","MercurySingletonProvider","MercurySyncDataFetcher","MercuryThreadIDMap","MessengerState.bs","Promise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1)}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.fetchInvalidateGlobalStateForGraphQL=function(){return this.$1&&this.$1!=="0"&&b("CurrentUser").isLoggedIn()?b("MercurySyncDataFetcher").fetchThreadlistFromGraphQL(this.$1):new(b("Promise"))(function(a,b){return b(!0)})};c.fetchInvalidateThreadState=function(a,c){var d=11,e=3;a=a||c;c=this.__threadIDMap.getClientIDFromServerIDNow(a);if(!c)return b("Promise").resolve({getPayload:function(){return{}}});e=e+b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,c).length;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchThreadFromGraphQL(this.$1,a,Math.max(e,d))};c.fetchInvalidateMessage=function(a,c,d){a=a||c;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchMessageFromGraphQL(this.$1,a,d)};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncTopicType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"});e.exports=a}),null);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return b("TimeSlice").guard(function(){return b("Run").onAfterLoad(function(){b("requestIdleCallback")(a)})},"delayed after load",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}}),null);
__d("MercurySyncDeltaHandler",["invariant","Arbiter","Bootloader","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryDelayedDispatcher","MercuryMessagingLightswitch","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MercurySyncConstants","MercurySyncDeltaHolder","MercurySyncDeltaTypes","MercurySyncEventsProxy","MercurySyncForcedFetchHandler","MercurySyncHolesTypedLogger","MercurySyncTopicType","MercuryThreadIDMap","MessengerDeltaTransformer.bs","gkx","onAfterLoadSafe","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("LogHistory").getInstance("mercury_sync_delta_handler"),j="app_id:219994525426954";a=function(){a.getForFBID=function(a){return k.getForFBID(a)};a.get=function(){return k.get()};function a(a){var c=this;this.$1=a;this.$2=b("MercurySyncForcedFetchHandler").getForFBID(this.$1);this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.__delayedDispatcher=b("MercuryDelayedDispatcher").getForFBID(this.$1);this.$3=b("MercurySyncDeltaHolder").getForFBID(this.$1);this.$4=0;this.$11=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=[];this.$10=b("MercurySyncEventsProxy").getForFBID(this.$1);b("MercuryMessagingLightswitch").guard(function(){i.debug("constructor",JSON.stringify({fbid:c.$1}))});b("Arbiter").subscribe(b("MercurySyncEventsProxy").Events.INIT,function(d,e){b("MercuryMessagingLightswitch").guard(function(){i.debug("initSeqID",JSON.stringify(e))});d=e&&e.seqID;var a=e&&e.fbid;if(!a)return;if(a!==c.$1)return;d?c.$3.updateLastSeqID(d):c.$3.updateLastSeqID(0);c.$12();b("gkx")("678667")&&b("onAfterLoadSafe")(function(){b("Bootloader").loadModules(["MessengerSyncSeqIDSanityCheck"],function(a){a.getForFBID(c.$1).init()},"MercurySyncDeltaHandler")})})}var c=a.prototype;c.$12=function(){var a=this;b("MercuryMessagingLightswitch").guard(function(){i.debug("setUpSubscriptionsToRealTimeUpdates",JSON.stringify({fbid:a.$1}))});this.$6=b("Arbiter").subscribe(this.$10.getArbiterType(b("MercurySyncEventsProxy").Events.DELTA),function(c,d){c=d&&d.obj&&d.obj.queue;if(c&&c.toString()!==a.$1)return;c=d&&d.obj&&d.obj.delta;d=d&&d.obj&&d.obj.iseq;if(!c||!d)return;a.$13(d,b("MercurySyncTopicType").DELTA);a.$14(d,c);a.$3.push(d,c);a.$15()});this.$8=b("Arbiter").subscribe(this.$10.getArbiterType(b("MercurySyncEventsProxy").Events.FLOW_REJECT),function(b,c){b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;a.$9&&a.$16()});this.$7=b("Arbiter").subscribe(this.$10.getArbiterType(b("MercurySyncEventsProxy").Events.FAKE_DFF),function(b,c){b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;b=c&&c.obj&&c.obj.delta;if(!b)return;if(a.$17(b))if(a.$5.some(function(b){return a.$17(b)}))return;else a.$5.push(b);else a.$5.push(b);a.$15()});this.$9=!0};c.$17=function(a){return a["class"]===b("MercurySyncDeltaTypes").ForcedFetch&&!a.threadKey&&!a.messageId};c.$15=function(){if(this.$4>0)return;if(this.$5.length>0){var a=this.$5.shift();this.$18(this.$3.getLastSeqID(),a);this.$15()}a=this.$3.peek();if(!a)return;a=a-this.$3.getLastSeqID();if(a===1){var b=this.$3.pop();if(!b)return;var c=b.seqID;b=b.delta;this.$18(c,b);this.$15()}else a>1?this.$19():(this.$3.pop(),this.$15())};c.$18=function(a,c){c.numNoOps&&c.numNoOps>1?this.$3.updateLastSeqID(a+c.numNoOps-1):this.$3.updateLastSeqID(a),c["class"]===b("MercurySyncDeltaTypes").ForcedFetch?(b("MercuryMessagingLightswitch").guard(function(){i.debug("DFF",JSON.stringify(c))}),c.threadKey!==void 0&&c.messageId===void 0?this.$20(a,c):c.threadKey!==void 0&&c.messageId!==void 0?this.$21(a,c):(b("ChatReliabilityInstrumentation").logDFF_DELTA_INIT(JSON.stringify(c)),this.$22(a))):b("MessengerDeltaTransformer.bs").transform(this.$1,c)};c.$19=function(){var a=JSON.stringify({$23:this.$3.getLastSeqID(),nextSeqID:this.$3.peek()});b("MercuryMessagingLightswitch").guard(function(){i.warn("hole",a)});var c=this.$3.peek();!c&&g(0,5132);c=c-1;b("ChatReliabilityInstrumentation").logDFF_HOLE_INIT(a);this.$22(c)};c.$24=function(a,c,d,e){var f=this;this.$4&&g(0,5134);this.$4++;b("MercuryMessagingLightswitch").guard(function(){i.debug("_scheduleDataFetch:start",JSON.stringify({seqID:a}))});b("promiseDone")(c(),function(c){b("MercuryMessagingLightswitch").guard(function(){i.debug("_scheduleDataFetch:success",JSON.stringify({seqID:a}))}),f.$4--,d(a,c),f.$15()},function(c){b("MercuryMessagingLightswitch").guard(function(){i.error("_scheduleDataFetch:failure",JSON.stringify({seqID:a}))}),f.$4--,e(a,c),f.$15()})};c.emergencyDFF=function(a,b){this.$22(0,a,b)};c.$22=function(a,c,d){var e=this;if(!b("CurrentUser").isLoggedInNow())return;this.$24(void 0,function(){return e.$2.processGlobalDFFForGraphQL()},function(a,d){b("gkx")("1199098")&&e.$11.reset();var f=d.getPayload();e.__payloadPreprocessor.handleUpdate(f);f.sequence_id&&(b("MercuryMessagingLightswitch").guard(function(){i.debug("_initiateGlobalDFF:success",JSON.stringify({seqID:f.sequence_id}))}),b("gkx")("678668")?e.$3.updateLastSeqIDAndClearHistory(f.sequence_id):e.$3.updateLastSeqID(f.sequence_id));b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER);c&&c(f.sequence_id)},function(f,g){b("MercuryMessagingLightswitch").guard(function(){i.error("_initiateGlobalDFF:failure","")}),g?(e.$9&&e.$16(),d&&d()):(b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY),b("MercuryMessagingLightswitch").guard(function(){i.debug("_initiateGlobalDFF:retry","")}),e.$22(a,c,d))})};c.$20=function(a,c){var d=this;this.$24(a,function(){return d.$2.processThreadDFF(a,c.threadKey,c.isLazy)},function(a,b){d.__payloadPreprocessor.handleUpdate(b.getPayload()),d.$3.updateLastSeqID(a)},function(){b("MercuryMessagingLightswitch").guard(function(){i.error("_initiateThreadDFF:failure",JSON.stringify(c))});var e=babelHelpers["extends"]({},c);delete e.threadKey;d.$3.updateLastSeqID(a-1);d.$3.push(a,e)})};c.$21=function(a,c){var d=this;this.$24(a,function(){return d.$2.processMessageDFF(a,c.threadKey,c.messageId,c.isLazy)},function(a,b){b=b.getPayload();var c=b.other_user_fbid?b.other_user_fbid:b.thread_fbid;b=[babelHelpers["extends"]({},b)];var e="client_channel_message";d.__delayedDispatcher.handleUpdateWaitForThread({actions:b,payload_source:e},c);d.$3.updateLastSeqID(a)},function(){b("MercuryMessagingLightswitch").guard(function(){i.error("_initiateMessageDFF:failure",JSON.stringify(c))});var e=babelHelpers["extends"]({},c);delete e.messageId;d.$3.updateLastSeqID(a-1);d.$3.push(a,e)})};c.$13=function(a,c){var d=a-this.$3.getLastSeqID();if(d!==1&&d!==0){if(!b("CurrentUser").isEmployee())return;new(b("MercurySyncHolesTypedLogger"))().setSeqID(a).setDifference(d).setTopicType(c).log()}};c.$14=function(a,c){switch(c["class"]){case b("MercurySyncDeltaTypes").NewMessage:var d=(h||(h=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,e){var f=c.messageMetadata.tags;Array.isArray(f)&&f.includes(j)&&b("MercuryMessagingLightswitch").guard(function(){a.markerEnd(e.SEND_MESSAGE,"SUCCESS",c.messageMetadata.offlineThreadingId,d)})},"MercurySyncDeltaHandler");b("MercuryMessagingLightswitch").guard(function(){i.debug("message_delta",JSON.stringify({seqID:a,threadKey:c.messageMetadata.threadKey,messageId:c.messageMetadata.messageId}))});break;case b("MercurySyncDeltaTypes").ReadReceipt:b("MercuryMessagingLightswitch").guard(function(){i.debug("read_receipt_delta",JSON.stringify({seqID:a,threadKey:c.threadKey,actionTimestampMs:c.actionTimestampMs,watermarkTimestampMs:c.watermarkTimestampMs}))});break;case b("MercurySyncDeltaTypes").DeliveryReceipt:b("MercuryMessagingLightswitch").guard(function(){i.debug("delivery_receipt_delta",JSON.stringify({seqID:a,deliveredWatermarkTimestampMs:c.deliveredWatermarkTimestampMs,messageIds:c.messageIds}))});break}};c.pause=function(){this.$4++};c.resume=function(){this.$4--,this.$15()};c.$16=function(a){a===void 0&&(a=!1),this.$9=!1,b("Arbiter").unsubscribe(this.$6),b("Arbiter").unsubscribe(this.$7),b("Arbiter").unsubscribe(this.$8),a||b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE)};return a}();e.exports=a;var k=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncForcedFetchHandler",["MercurySingletonProvider","MercurySyncDFFDataFetcher","MercuryThreadIDMap","MessengerState.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function g(a){return{getPayload:function(){return{sequence_id:a}}}}a=function(){a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};function a(a){this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercurySyncDFFDataFetcher").getForFBID(this.$1)}var c=a.prototype;c.processMessageDFF=function(a,c,d,e){if(e){e=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();e=this.$2.getClientIDFromServerIDNow(e);if(e===void 0)return b("Promise").resolve(g(a));e=b("MessengerState.bs").getMessagesFromIDs(this.$1,[d]);if(e.length===0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateMessage(c.otherUserFbId,c.threadFbId,d)};c.processThreadDFF=function(a,c,d){if(d){d=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();d=this.$2.getClientIDFromServerIDNow(d);if(d===void 0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateThreadState(c.otherUserFbId,c.threadFbId)};c.processGlobalDFFForGraphQL=function(){return this.$3.fetchInvalidateGlobalStateForGraphQL()};return a}();e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("MontageDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!1});e.exports=c}),null);
__d("MontageActions",["Bootloader","CurrentUser","MercuryServerPayloadPreprocessor","MontageDispatcher","WebGraphQL","keyMirror","promiseDone","uniqueID"],(function(a,b,c,d,e,f){"use strict";f.requestUpdate=a;f.montageThreadChanged=c;f.hasUpdated=d;f.loadMontageThreadForActor=e;f.deleteMontage=i;f.handleNewMontageDelta=j;f.updatePollStickerChoice=k;var g=b("keyMirror")({REQUEST_UPDATE:null,HAS_UPDATED:null,HANDLE_ACTION:null});f.Types=g;var h=new Set();function a(a){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})}function c(a,c){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})}function d(a){b("MontageDispatcher").dispatch({type:g.HAS_UPDATED,threadFBID:a})}function e(a){if(h.has(a))return;h.add(a);b("Bootloader").loadModules(["MessengerMontageThreadQueryWebGraphQLQuery"],function(c){c=b("WebGraphQL").exec(new c({id:a}));b("promiseDone")(c,function(c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({current_montage_thread:c}),h["delete"](a)})},"MontageActions")}function i(a,c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_delete_message_delta:c})}function j(a,c){b("Bootloader").loadModules(["MessengerNewMontageMessageWebGraphQLQuery"],function(a){a=b("WebGraphQL").exec(new a({id:c.message_fbid}));b("promiseDone")(a,function(a){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_new_message_delta:a.montage_message})})},"MontageActions")}function k(a){b("Bootloader").loadModules(["MessengerState.bs","MessengerMontagePollVoteMutationWebGraphQLMutation"],function(c,d){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_poll_sticker_vote:[a]});c=b("WebGraphQL").exec(new d({input:{client_mutation_id:b("uniqueID")(),story_card_poll_id:a.pollID,option:a.optionVotedIndex,actor_id:b("CurrentUser").getID()}}));b("promiseDone")(c,function(a){},function(a){})},"MontageActions")}}),null);
__d("RemovedMessageTombstoneContent",["fbt","CurrentUser","GenderConst","IntlVariations","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";f.getRemovedMessageTombstoneContent=a;f.getTombstoneContentForSnippet=c;f._getFbtForCurrentViewerAuthor=d;f._getFbtForOtherAuthor=e;f._getFbtForUnknownAuthor=h;function a(a,c){var d;d=((d=a.unsender)==null?void 0:d.id)||a.author;var e=b("MercuryIDs").getUserIDFromParticipantID(d),f=b("CurrentUser").getID();if(e===f)return this._getFbtForCurrentViewerAuthor();f=b("MessengerState.bs").getThreadMetaNow(f,a.thread_id);f=f==null?void 0:(f=f.custom_nickname)==null?void 0:f[e];f=f||((e=c.get(d))==null?void 0:e.short_name)||((f=a.unsender)==null?void 0:f.short_name)||((e=a.unsender)==null?void 0:e.name);e=(a=c.get(d))==null?void 0:a.gender;if(f)return this._getFbtForOtherAuthor(f,e);else return this._getFbtForUnknownAuthor()}function c(a){if(a==null)return this._getFbtForUnknownAuthor().toString();var c=b("MercuryIDs").getUserIDFromParticipantID(a);if(c===b("CurrentUser").getID())return this._getFbtForCurrentViewerAuthor().toString();c=b("MessengerParticipants.bs").getNow(a);a=c&&c.short_name;c=c&&c.gender;if(a)return this._getFbtForOtherAuthor(a,c).toString();else return this._getFbtForUnknownAuthor().toString()}function d(){return b("gkx")("1531920")?g._("Vous avez retir\u00e9 un message"):g._("Vous avez supprim\u00e9 un message")}function e(a,c){return b("gkx")("1531920")?g._({"*":"{name} a retir\u00e9 un message"},[g._param("name",a,[1,c===b("GenderConst").FEMALE_SINGULAR?b("IntlVariations").GENDER_FEMALE:b("IntlVariations").GENDER_MALE])]):g._({"*":"{name} a supprim\u00e9 un message"},[g._param("name",a,[1,c===b("GenderConst").FEMALE_SINGULAR?b("IntlVariations").GENDER_FEMALE:b("IntlVariations").GENDER_MALE])])}function h(){return b("gkx")("1531920")?g._("Un contact a retir\u00e9 un message"):g._("Un contact a supprim\u00e9 un message")}}),null);
__d("WorkForeignEntityInfo.bs",["CurrentUser","WorkForeignEntityType"],(function(a,b,c,d,e,f){"use strict";function g(a){if(!(a==null)&&a.type!==b("WorkForeignEntityType").NOT_FOREIGN)return a.type===b("WorkForeignEntityType").LIMITED;else return!0}function h(a){if(b("CurrentUser").isWorkUser())return g(a.work_foreign_entity_info);else return!1}function a(a){if(b("CurrentUser").isWorkUser())return g(a.workForeignEntityInfo);else return!1}function c(a){if(b("CurrentUser").isWorkUser())return a.every(function(a,b,c){if(a==null)return!0;else return h(a)});else return!1}f.isNotForeign=g;f.isCoworker=h;f.isContactCoworker=a;f.areAllCoworkers=c}),null);
__d("trackReferrer",["Cookie","Parent"],(function(a,b,c,d,e,f){var g=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;function h(a){return g.exec(a)[1]||""}function a(a,c){a=b("Parent").byAttribute(a,"data-referrer");if(a){c=h(c);if(!c)return;c=c+"|"+a.getAttribute("data-referrer");b("Cookie").set("x-src",c)}}e.exports=a}),null);
__d("LoadOnRender.react",["createCancelableFunction","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=null;d.$3=!0;d.$4=function(a){d.$2=a,d.$1&&d.forceUpdate()};d.state={cancelableOnComponentLoad:b("createCancelableFunction")(d.$4)};c.loader(d.state.cancelableOnComponentLoad);return d}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.$3&&this.$2!=null&&this.forceUpdate()};d.componentWillUnmount=function(){this.$1=!1,this.state.cancelableOnComponentLoad.cancel()};d.render=function(){var a=this.$2;this.$3=a==null;return!a||this.props.forcePlaceholder?this.props.placeholder:h.cloneElement(this.props.component,{LazyLoadedComponent:a})};return c}(h.Component);e.exports=a;a.defaultProps={forcePlaceholder:!1}}),null);
__d("BootloadOnRender.react",["JSResource","LoadOnRender.react","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("JSResource").loadAll([d.props.loader],a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("LoadOnRender.react"),{placeholder:this.props.placeholder,loader:this.$1,component:this.props.component})};return c}(h.Component);e.exports=a}),null);
__d("LazyComponent.react",["isReactClassComponent","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getComponent=function(){return this.$1};d.render=function(){var a=this,c=this.props,d=c.LazyLoadedComponent;c=babelHelpers.objectWithoutPropertiesLoose(c,["LazyLoadedComponent"]);var e=b("isReactClassComponent")(d)?function(b){return a.$1=b}:null;return h.jsx(d,babelHelpers["extends"]({ref:e},c))};return c}(h.Component);e.exports=a;a.defaultProps={LazyLoadedComponent:function(){return null}}}),null);
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={event:!0,platform:!0,thread_id:!0};e.exports=a}),null);
__d("useMessengerLocalRemoveMessageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageLocalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_local_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerLocalRemoveMessageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerLocalRemoveMessageMutation",selections:b},params:{id:"2417147458399603",metadata:{},name:"useMessengerLocalRemoveMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWChatMessageReactionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageReactionResponsePayload",kind:"LinkedField",name:"message_reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWChatMessageReactionMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWChatMessageReactionMutation",selections:b},params:{id:"2601556119890180",metadata:{},name:"useMWChatMessageReactionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMessengerGlobalRemoveMessageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerMessageGlobalRemoveResponsePayload",kind:"LinkedField",name:"messenger_message_global_remove",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerGlobalRemoveMessageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerGlobalRemoveMessageMutation",selections:b},params:{id:"2664779376886490",metadata:{},name:"useMessengerGlobalRemoveMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WorkplaceMSLeaveGroupMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerGroupThreadLeaveResponsePayload",kind:"LinkedField",name:"messenger_group_thread_leave",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkplaceMSLeaveGroupMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkplaceMSLeaveGroupMutation",selections:b},params:{id:"4869845539803412",metadata:{},name:"WorkplaceMSLeaveGroupMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WorkplaceMSDeleteThreadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageThreadDeleteResponsePayload",kind:"LinkedField",name:"message_thread_delete",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deleted_thread_timestamp",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkplaceMSDeleteThreadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkplaceMSDeleteThreadMutation",selections:b},params:{id:"2766169780174211",metadata:{},name:"WorkplaceMSDeleteThreadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WorkChatBulkUpdatePinnedThreadsMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ThreadBatchUpdatePinStatusResponsePayload",kind:"LinkedField",name:"thread_batch_update_pin_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkChatBulkUpdatePinnedThreadsMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkChatBulkUpdatePinnedThreadsMutation",selections:b},params:{id:"1320325544758295",metadata:{},name:"WorkChatBulkUpdatePinnedThreadsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatUploadingFilesStore.bs",["CometComposerViewState.bs","CometLocalVideoFileThumbnailSuspense.react","MWChatImage.bs","MercuryLocalIDs","bs_belt_Array","bs_caml_option","bs_curry","gkx","react","recoverableViolation","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(a.TAG===0)return{TAG:0,_0:a._0.map(b("bs_curry").__1(c)),_1:a._1};else return{TAG:1,_0:b("bs_curry")._1(c,a._0),_1:a._1}}c={map:i};var j=[];function k(a,c){c=b("bs_belt_Array").partition(c,function(a){return b("CometComposerViewState.bs").MediaAttachment.fileType(a)===0});var d=function(a,c,d,e){var f;switch(d){case 0:f={TAG:0,_0:URL.createObjectURL(c)};break;case 1:d=b("CometLocalVideoFileThumbnailSuspense.react").getFromCache(c,b("MWChatImage.bs").defaultMaxHeight,b("MWChatImage.bs").defaultMaxHeight);f=d!==void 0?{TAG:1,_0:d}:0;break;case 2:f=0;break}d=c.uploadID;if(d==null)return;c=c.name;a.push({name:c,uploadId:d,status:e,type_:f})},e=function(a,b){switch(b.TAG|0){case 0:case 1:break;case 2:return d(a,b._1,b._0,0);case 3:return d(a,b._1,b._0,{_0:b._2.id});case 4:return}return d(a,b._1,b._0,0)},f=[];c[0].forEach(function(a){return e(f,a)});if(f.length>0){var g=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);g=a.concat([{TAG:0,_0:f,_1:g}])}else g=a;var h=[];c[1].forEach(function(a){var c=[];e(c,a);a=b("bs_belt_Array").get(c,0);if(a===void 0)return;c=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);h.push({TAG:1,_0:a,_1:c})});if(h.length>0)return g.concat(h);else return g}function l(a,b){switch(b.TAG|0){case 0:return k(a,b._0);case 1:var c=b._0;return a.filter(function(a){return a!==c});case 2:var d=b._1,e=b._0,f=function(a){if(a.uploadId===e)return{name:a.name,uploadId:e,status:{_0:d},type_:a.type_};else return a},g=[];a.forEach(function(a){g.push(i(a,f))});return g}}function a(a,c){var d=h.useReducer(l,j),e=d[1],f=d[0],g=b("usePrevious")(f);h.useEffect(function(){var c=g==null?[]:g;b("gkx")("1268229")&&f.forEach(function(e){if(c.includes(e))return;if(e.TAG===0){var f=b("bs_belt_Array").keepMap(e._0,function(a){a=a.type_;if(typeof a==="number"){b("recoverableViolation")("Unsupported non-image file in a file batch!","messenger_comet");return}if(a.TAG===0)return a._0;b("recoverableViolation")("Unsupported non-image file in a file batch!","messenger_comet")});return a({NAME:"SendImages",VAL:{TAG:1,_0:{preview_urls:f,offline_threading_id:e._1}}})}f=e._1;e=e._0;var d=e.type_;if(typeof d==="number")return a({NAME:"SendFile",VAL:{TAG:2,_0:{filename:e.name,offline_threading_id:f}}});else return a({NAME:"SendVideo",VAL:{TAG:1,_0:{preview_urls:[d._0],offline_threading_id:f}}})})},[a,f,g]);h.useEffect(function(){f.forEach(function(f){if(f.TAG===0){var g=f._0,h=b("bs_belt_Array").keepMap(g,function(a){a=a.status;if(a)return b("bs_caml_option").some(a._0)});if(g.length===h.length){a({NAME:"SendImages",VAL:{TAG:0,_0:{media_attachment_ids:h,offline_threading_id:b("bs_caml_option").some(f._1)}}});b("bs_curry")._1(e,{TAG:1,_0:f});return b("bs_curry")._1(c,g)}else return}h=f._0;g=h.status;if(!g)return;g={TAG:0,_0:{media_attachment_ids:[g._0],offline_threading_id:b("bs_caml_option").some(f._1)}};var d=h.type_;typeof d==="number"?a({NAME:"SendFile",VAL:g}):d.TAG===0?a({NAME:"SendImages",VAL:g}):a({NAME:"SendVideo",VAL:g});b("bs_curry")._1(e,{TAG:1,_0:f});return b("bs_curry")._1(c,[h])})},[a,e,f]);return[f,e]}f.FileBatch=c;f.state=j;f.batchFiles=k;f.fileBatchReducer=l;f.useUploadingFiles=a}),null);
__d("useMessengerLocalRemoveMessageMutation",["fbt","CometRelay","LogHistory","recoverableViolation","useCometAlertDialog","useMessengerLocalRemoveMessageMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMessengerLocalRemoveMessageMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];return function(c){var e=c.messageID,f=c.onCompleted;b("LogHistory").getInstance("messenger-comet").log("local_remove_message_req");return b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a){b("LogHistory").getInstance("messenger-comet").log("local_remove_message_success"),f&&f(a)},onError:function(a){b("LogHistory").getInstance("messenger-comet").error("local_remove_message_error",a.toString()),b("recoverableViolation")("Local remove message failed","messenger_comet",{error:a}),d({body:g._("Impossible de supprimer le message. Veuillez r\u00e9essayer plus tard."),title:g._("Erreur")})},variables:{input:{message_id:e}}})}}}),null);
__d("MWChatParticipantsHook.bs",["CurrentUser","MWChatThreadId.bs","MessengerParticipants.bs","MessengerState.bs","bs_belt_Array","bs_belt_Map","bs_belt_Option","bs_caml_option","bs_curry","bs_js_dict","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=a.slice().sort(function(a,b){if(a>b)return-1;else if(a===b)return 0;else return 1});return a.join(",")}function j(a){if(a===void 0)return"";a=b("bs_caml_option").valFromOption(a);var c=i(a.participants);a=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.thread_type),0);return String(a)+c}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).participants:[],e=b("bs_belt_Array").keepMap(d,function(a){a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return b("bs_caml_option").some(a)});a=h.useState(function(){var a={};e.length===d.length&&e.forEach(function(b){a[b.id]=b});return a});var f=a[1];c=j(c);h.useEffect(function(){var a=b("MessengerParticipants.bs").getMulti(d,function(a){return b("bs_curry")._1(f,function(b){return a})});return function(c){if(!(a==null))return b("MessengerParticipants.bs").removeCallback(a)}},[c,f]);return a[0]}function c(a,c){var d=h.useState(function(){return{}}),e=d[1],f=d[0],g=[];c.forEach(function(c){if(!a.includes(c)&&b("bs_js_dict").get(f,c)===void 0){g.push(c);return}});if(g.length>0){d=b("MessengerParticipants.bs").getMulti(g,function(a){b("bs_js_dict").values(a).forEach(function(a){f[a.id]=a});return b("bs_curry")._1(e,function(a){return f})});d==null||b("MessengerParticipants.bs").removeCallback(d)}return b("bs_js_dict").values(f)}f.createHashForParticipantIds=i;f.useParticipantsPayloadHash=j;f.useParticipants=a;f.useMissedParticipants=c}),null);
__d("useMWChatMessageReactionMutation",["fbt","CometRelay","useCometAlertDialog","useMWChatMessageReactionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMWChatMessageReactionMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];c[1];return function(c,e,f){return b("CometRelay").commitMutation(a,{mutation:i,onError:function(a){d({body:g._("Impossible de modifier la r\u00e9action. Veuillez r\u00e9essayer plus tard."),title:g._("R\u00e9action non modifi\u00e9e")})},variables:{input:{action:f,message_id:c,reaction:e}}})}}}),null);
__d("useMessengerGlobalRemoveMessageMutation",["fbt","CometRelay","LogHistory","gkx","recoverableViolation","useCometAlertDialog","useMessengerGlobalRemoveMessageMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h!==void 0?h:h=b("useMessengerGlobalRemoveMessageMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometAlertDialog")(),d=c[0];return function(c){var e=c.messageID,f=c.onCompleted;b("LogHistory").getInstance("messenger-comet").log("global_remove_message_req");return b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(a){b("LogHistory").getInstance("messenger-comet").log("global_remove_message_success"),f&&f(a)},onError:function(a){b("LogHistory").getInstance("messenger-comet").error("global_remove_message_error",a.toString()),b("recoverableViolation")("Global remove message failed","messenger_comet",{error:a}),d({body:b("gkx")("1531920")?g._("Impossible de retirer le message. Veuillez r\u00e9essayer plus tard."):g._("Impossible de supprimer le message. Veuillez r\u00e9essayer plus tard."),title:g._("Erreur")})},variables:{input:{message_id:e}}})}}}),null);
__d("WorkplaceMSLeaveGroup",["CometRelay","WorkplaceMSLeaveGroupMutation.graphql","react"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g,h,i=h||b("react");function a(){var a=b("CometRelay").useMutation(g!==void 0?g:g=b("WorkplaceMSLeaveGroupMutation.graphql")),c=a[0];a[1];return i.useCallback(function(a,b){c({onCompleted:function(){},variables:{input:{can_be_added_back:b,thread_fbid:a}}})},[c])}}),null);
__d("WorkplaceMSLeaveGroup.bs",["WorkplaceMSLeaveGroup"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("WorkplaceMSLeaveGroup").useHook()}f.useHook=a}),null);
__d("WorkplaceMSParticipantDetails.bs",["MercuryIDs","MessengerParticipants.bs","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return a.name}function c(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))if(a.short_name!=="")return a.short_name;else return a.name}function d(a){}function e(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))if(a.short_name!=="")return[a.short_name,a.gender];else return[a.name,a.gender]}function g(a){return!0}function h(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.image_src)}f.useParticipantName=a;f.useParticipantShortName=c;f.useParticipantSecondaryName=d;f.useNameAndGender=e;f.useParticipantReachabilityStatus=g;f.useParticipantProfilePictureUrl=h}),null);
__d("WorkplaceMSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometMenuSeparator.react","CometPressable.react","JSResource","TetraText.react","WorkplaceMSParticipantDetails.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{paddingTop:"cxgpxx05",paddingEnd:"oj5qckz4",paddingBottom:"sj5x9vvc",paddingStart:"lb8aey2d"}};function a(a){var c=a.fbid;a=a.onDeleteConversation;var d=b("WorkplaceMSParticipantDetails.bs").useParticipantShortName(c),e=d!==void 0?d:g._("Utilisateur Facebook");return j.jsxs(j.Fragment,{children:[j.jsx(b("CometMenuSeparator.react"),{}),j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsxs(b("TetraText.react"),{color:"tertiary",type:"body4",children:[g._("Si vous r\u00e9pondez, {name} pourra vous appeler et voir des informations telles que votre statut En ligne et \u00e0 quel moment vous avez lu les messages.",[g._param("name",e)])," ",j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("WorkplaceMSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:a,otherUserFbid:c,otherUserShortName:e},children:function(a,c){return j.jsx(b("CometPressable.react"),{ref:c,onPress:function(c){return b("bs_curry")._1(a,void 0)},children:j.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:g._("Je ne veux pas \u00eatre en contact avec {name}",[g._param("name",e)])})})}})]})})]})}c=a;f.styles=k;f.make=c}),null);
__d("WorkplaceMSMessageSourceContext.bs",["MercurySourceType","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(b("MercurySourceType").CHAT_WEB);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:a};function c(a){return h.useContext(i)}f.context=i;f.Provider=d;f.useHook=c}),null);
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){a=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"});e.exports=a}),null);
__d("MercuryMessageObject",["MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercurySendMessageFields","MercurySingletonProvider","MessengerObjectAssociationType","MessengerState.bs","ODS","RepliedToMessageStatusForGraphQL","SiteData","md5"],(function(a,b,c,d,e,f){a=function(){a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.constructHotLikeObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructPhotoMessageObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d,a);d={has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructTextMessageObject=function(a,c,d,e,f,h,i,j,k,l){h=g(this.$1,"ma-type:user-generated-message",h,i,d);i=f.params&&f.type;d=c.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:i||d,raw_attachments:d?c:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,verse_group_role_xmd:l,mib_direct_message_data:null,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},h,a)};c.constructUserGeneratedMessageObject=function(a,b,c,d,e,f,h){b=g(this.$1,"ma-type:user-generated-message",b,c,h);c={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:d||[],participants_to_hash:[],creator_info:e,tags:f||[]};return babelHelpers["extends"]({},b,c)};c.constructStickerMessageObject=function(a,c,d,e,f,h){c=g(this.$1,"ma-type:user-generated-message",c,d,h);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],participants_to_hash:[],tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructAttachmentMessageObject=function(a,b,c){a=g(this.$1,"ma-type:user-generated-message",a,b,c);b={attachments:[],specific_to_list:[],participants_to_hash:[]};return babelHelpers["extends"]({},a,b,{tags:[]})};c.constructLogMessageObject=function(a,b,c,d){a=g(this.$1,"ma-type:log-message",a,b);b={log_message_type:c,log_message_data:d,ephemeral_ttl_mode:d&&d.untypedData&&d.untypedData.ttl};return babelHelpers["extends"]({},a,b)};c.constructCTAConfirmationMessageObject=function(a,b,c,d,e,f){a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e,null);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};f&&(b.postback_data=JSON.stringify(f));return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};c.normalizeNewMessage=function(a){a.status===void 0&&(a.status=0);a.offline_threading_id=a.offline_threading_id||b("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||b("ODS").bumpEntityKey(3303,"chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var c=b("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.participants_to_hash=a.participants_to_hash||[];a.specific_to_list.length&&a.specific_to_list.indexOf(c)===-1&&a.specific_to_list.push(c);a.participants_to_hash.length&&a.participants_to_hash.indexOf(c)===-1&&a.participants_to_hash.push(c);var d=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var e,f=b("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);f&&f.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=f.ephemeral_ttl_mode);((e=f)!=null?(e=e.associated_object)!=null?e.name:e:e)&&((e=f)!=null?e.object_association_type:e)===b("MessengerObjectAssociationType").GENERAL_CHAT&&(d=!0)}if(!d)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){f=a.specific_to_list[0]==c?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=b("MercuryIDs").getThreadIDFromParticipantID(f)}if(!a.specific_to_list.length){e=b("MercuryIDs").tokenize(a.thread_id);d=e.type;f=e.value;d=="user"&&(a.specific_to_list=["fbid:"+f,c])}a.to_list_md5=this.sortAndHash(a.participants_to_hash);a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};c.sortAndHash=function(a){if(!a||a.length===0)return null;a=a.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});return a.some(function(a){return a==null})?null:b("md5")(a.sort(function(a,b){if(a==null||b==null)throw new Error("invalid participant id in to_list_md5 creation");if(a.length<b.length)return-1;return a.length>b.length?1:a.localeCompare(b)}).join(":"))};c.normalizeResendMessage=function(a){a.status=7,a.timestamp=Date.now(),a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};c.normalizeAddAttachmentPlaceholder=function(a,c,d){d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=7,a.upload_id=c};return a}();e.exports=a;function g(a,c,d,e,f){var g=h(d)?["source:chat"]:[],i=Date.now();c={action_type:c,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:i,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:d,source_tags:g,replied_to_message:f?{message:f,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0};return c}function h(a){switch(a){case"source:chat:web":case"source:chat:jabber":case"source:chat:iphone":case"source:chat:meebo":case"source:chat:orca":case"source:chat:test":case"source:chat":return!0;default:return!1}}var i=new(b("MercurySingletonProvider"))(a)}),null);
__d("WorkplaceMSOptimisticUpdate.bs",["MWChatThreadId.bs","MercuryMessageObject","MercuryPayloadSource","MercurySourceType","MessengerState.bs","PhotosUploadID","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j=b("MercuryMessageObject").getForFBID(a);if(e!==void 0){var k=j.constructAttachmentMessageObject(b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),h),l="upload_"+b("PhotosUploadID").getNewID();e=e.map(function(a){if(a.TAG===0)return{name:void 0,preview_height:a.height,preview_width:a.width,preview_url:a.url,preview_uploading:!0};else return{name:a.name,preview_height:void 0,preview_width:void 0,preview_url:void 0,preview_uploading:!0}});j.normalizeAddAttachmentPlaceholder(k,l,{preview_attachments:e});l=k}else l=f!==void 0?j.constructCTAConfirmationMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),f.quickReply,void 0,f.postback):g!==void 0?j.constructTextMessageObject(c,[],h,g,{},b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),void 0,void 0,void 0):j.constructUserGeneratedMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),[],void 0,void 0,h);e=i!==void 0?Object.assign(Object.assign({},l),{offline_threading_id:b("bs_caml_option").valFromOption(i)}):l;j.normalizeNewMessage(e);k={actions:[e],from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_SEND_MESSAGE,delivery_receipts:null,global_actions:null,message_blocked_ids:null,message_unblocked_ids:null,message_ignored_ids:null,participants:null,pending_folder_unseen_count:null,roger:null,threads:null,current_montage_thread:null,pinned_thread_ids:null,montage_delete_message_delta:null,montage_new_message_delta:null,montage_poll_sticker_vote:null,ordered_threadlists:null,end_of_history:null,unread_thread_fbids:null,newlyAddedClientIDs:null,message_counts:null};b("MessengerState.bs").sendJS(a,b("MessengerState.bs").processJSActions(k));return e}f.make=a}),null);
__d("MessengerParticipantUtils.bs",["MercuryIDs","bs_belt_Set","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("OnlineUserIds.bs",["ParticipantId.bs","bs_belt_Set"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").make(b("ParticipantId.bs"))}function c(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}f.make=a;f.fromArray=c}),null);
__d("WorkplaceMSPresenceIsThreadActive.bs",["AvailableListConstants","CurrentUser","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MercuryIDs","MessengerParticipantUtils.bs","MessengerState.bs","OnlineUserIds.bs","PresenceStatusContext","bs_belt_Map","bs_caml_option","bs_curry","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MessengerMQTTPresence.bs").__setRef("WorkplaceMSPresenceIsThreadActive.bs");function a(a){var c=b("MWThread_DEPRECATED.bs").useId(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=h.useContext(b("PresenceStatusContext")),e;if(c!==void 0&&typeof c!=="string"){var f=c.NAME;e=f==="User"||f==="Page"||f==="Group"?b("bs_belt_Map").get(a.threads,b("MWChatThreadId.bs").getMercuryID(c)):void 0}else e=void 0;var g=h.useCallback(function(a){if(e!==void 0)return b("MessengerParticipantUtils.bs").findIntersection(b("CurrentUser").getID(),b("OnlineUserIds.bs").fromArray(b("bs_curry")._1(d.getOnlineIDs,void 0).map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)})),b("bs_caml_option").valFromOption(e)).length!==0;else return!1},[e,d]),j=h.useCallback(function(a){if(e!==void 0&&b("bs_curry")._1(d.getChatVisibility,void 0))return b("bs_caml_option").valFromOption(e).is_business_page_active;else return!1},[e,d]);f=h.useState(function(){if(c===void 0)return!1;if(typeof c==="string")return!1;var a=c.NAME;if(a==="Group")return b("bs_curry")._1(g,void 0);if(a==="Page")return b("bs_curry")._1(j,void 0);if(a!=="User")return!1;a=b("bs_curry")._1(d.get,c.VAL);if(a==null)return!1;else return a===b("AvailableListConstants").ACTIVE});var k=f[1];h.useEffect(function(){if(c!==void 0&&typeof c!=="string"&&c.NAME==="User"){var a=c.VAL,e=b("bs_curry")._1(d.get,a);e==null&&i.onReady(function(c){return b("bs_curry")._1(c.sendAdditionalBuddyRequest,a)})}},[c,d]);h.useEffect(function(){c!==void 0&&!(typeof c==="string"||c.NAME!=="Group")&&b("bs_curry")._1(k,function(a){return b("bs_curry")._1(g,void 0)})},[c,d,g]);h.useEffect(function(){var a=b("bs_curry")._1(d.addListener,function(a){if(c===void 0)return;if(typeof c==="string")return;a=c.NAME;if(a==="Group")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(g,void 0)});if(a==="Page")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(j,void 0)});if(a!=="User")return;var e=b("bs_curry")._1(d.get,c.VAL);if(e==null)return b("bs_curry")._1(k,function(a){return!1});else return b("bs_curry")._1(k,function(a){return e===b("AvailableListConstants").ACTIVE})});return function(c){return b("bs_curry")._1(a,void 0)}},[c,d,g]);return f[0]}f.useHook=a}),null);
__d("WorkplaceMSQPLLogSendMessage.bs",["MessengerWebQuickLogModule","QuickPerformanceLogger"],(function(a,b,c,d,e,f){"use strict";function a(a){b("QuickPerformanceLogger").markerStart(b("MessengerWebQuickLogModule").SEND_MESSAGE,a)}f.log=a}),null);
__d("WorkplaceMSLogMessageSend.bs",["MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","WorkplaceMSQPLLogSendMessage.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(!(a==null)){b("WorkplaceMSQPLLogSendMessage.bs").log(a);return b("MessengerWebEventsFalcoEvent.bs").log(function(){var e;if(typeof c==="string")e=null;else{var f=c.NAME;e=f==="User"||f==="Page"?c.VAL:null}return{event_name:b("MessengerWebEvent").SEND_MSG,offline_threading_id:a,other_user_fbid:e,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL,extra_data:d}})}}f.log=a}),null);
__d("WorkplaceMSSendFilesMessage.bs",["CurrentUser","FBMqttChannel","MWChatTabEntryPoints.bs","MercuryActionStatus","MercuryActionType","MercuryLocalIDs","MessengerState.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","Promise","WorkplaceMSLogMessageSend.bs","WorkplaceMSOptimisticUpdate.bs","bs_belt_Option","bs_caml_option","bs_js_dict","getTopMostRoute","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){i=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;var j=b("CurrentUser").getID();a=f==null?null:b("getTopMostRoute")(f).tracePolicy;f=e!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(e).message_id):void 0;var k=c.NAME;if(!(k==="User"||k==="Page"||k==="Group"))return b("unrecoverableViolation")("Not supported","work_web_messaging");k=c.VAL;var l=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,k),b("MessengerWebEntryPoint").UNKNOWN),m;switch(d.TAG|0){case 0:var n=d._0,o=n.offline_threading_id;o=o!==void 0?b("bs_caml_option").valFromOption(o):b("MercuryLocalIDs").generateOfflineThreadingID(void 0);m=[b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:j,to:k,msgid:o,generic_metadata:{platform_xmd:i},media:n.media_attachment_ids,client_tags:{web_source:h,"web:trigger":l,tracePolicy:a},repliedToMessageId:f}),o,void 0];break;case 1:if(b("gkx")("1268229")){k=d._0;i=k.offline_threading_id;n=b("WorkplaceMSOptimisticUpdate.bs").make(j,"",c,k.preview_urls.map(function(a){return{TAG:0,height:void 0,width:void 0,url:a}}),void 0,void 0,e,b("bs_caml_option").some(i));m=["",i,b("bs_caml_option").some(n)]}else m=["",null,void 0];break;case 2:if(b("gkx")("1268229")){h=d._0;l=h.offline_threading_id;f=b("WorkplaceMSOptimisticUpdate.bs").make(j,"",c,[{TAG:1,name:h.filename}],void 0,void 0,e,b("bs_caml_option").some(l));m=["",l,b("bs_caml_option").some(f)]}else m=["",null,void 0];break}var p=m[2];b("WorkplaceMSLogMessageSend.bs").log(m[1],c,{tracePolicy:a,isActiveNow:g});b("FBMqttChannel").publish("/send_message2",m[0]).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){if(p!==void 0){a=Object.assign(b("bs_caml_option").valFromOption(p),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(j,b("MessengerState.bs").processJSActions(a))}return b("Promise").resolve(void 0)})}f.send=a}),null);
__d("WorkplaceMSSendMessageUtils.bs",["CurrentUser","MWChatMessageId.bs","MWChatThreadId.bs","MessengerState.bs","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").flatMap(c,function(c){var d=b("MWChatThreadId.bs").getMercuryID(a),e=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),d);d=c.content;var f;switch(d.TAG|0){case 0:case 1:case 2:f=d._0.messageID;break}return b("bs_belt_Option").flatMap(b("MWChatMessageId.bs").getMessageId(f),function(a){return b("bs_caml_option").undefined_to_opt(e.find(function(b){return b.message_id===a}))})})}f.getOriginalRepliedToMessage=a}),null);
__d("WorkplaceMSSendTextMessage.bs",["CurrentUser","FBMqttChannel","MWChatBlockMessagesMutation","MWChatTabEntryPoints.bs","MercuryActionStatus","MercuryActionType","MercurySourceType","MessengerState.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","Promise","WorkplaceMSLogMessageSend.bs","WorkplaceMSMessageSourceContext.bs","WorkplaceMSOptimisticUpdate.bs","WorkplaceMSPresenceIsThreadActive.bs","WorkplaceMSSendMessageUtils.bs","bs_belt_Option","bs_caml_option","bs_js_dict","getTopMostRoute","react","unrecoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=b("useCometRouterState")(),g=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0),i=h.useContext(b("WorkplaceMSMessageSourceContext.bs").context);return h.useCallback(function(a){return function(c,d,e,h){var j=b("CurrentUser").getID();h=f==null?null:b("getTopMostRoute")(f).tracePolicy;e=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,e);var k=e!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(e).message_id):void 0,l=a.NAME;if(l==="User"||l==="Page"||l==="Group"){l=a.VAL;var m=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,l),b("MessengerWebEntryPoint").UNKNOWN),n=c.trim();e=b("WorkplaceMSOptimisticUpdate.bs").make(j,n,a,void 0,void 0,d,e,void 0);var o=e.offline_threading_id;d=d!==void 0?b("MessengerStatePrinter.bs").jsonPrettyStringify({body:n,sender_fbid:j,to:l,msgid:o,client_tags:{web_source:i,trigger:m,tracePolicy:h},generic_metadata:{prng:JSON.stringify(d.map(function(a){return{o:a.offset,l:a.length,i:a.id,t:a.type}}))},repliedToMessageId:k}):b("MessengerStatePrinter.bs").jsonPrettyStringify({body:n,sender_fbid:j,to:l,msgid:o,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":m,tracePolicy:h},repliedToMessageId:k});var p=b("bs_caml_option").some(e);b("WorkplaceMSLogMessageSend.bs").log(o,a,{tracePolicy:h,isActiveNow:g});b("FBMqttChannel").publish("/send_message2",d).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(p),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(j,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}else b("unrecoverableViolation")("Not supported","work_web_messaging");if(typeof a==="string")return;if(a.NAME!=="Page")return;n=c.trim();if(n.toLowerCase()==="unsubscribe"||n.toLowerCase()==="stop"){b("MWChatBlockMessagesMutation").commitBlock(a.VAL,function(a){},function(a){});return}}},[f,g])}f.useSendTextMessage=a}),null);
__d("WorkplaceMSSendAttachments.bs",["MWChatUploadingFilesStore.bs","MWThread_DEPRECATED.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS","WorkplaceMSMessageSourceContext.bs","WorkplaceMSPresenceIsThreadActive.bs","WorkplaceMSSendFilesMessage.bs","WorkplaceMSSendMessageUtils.bs","WorkplaceMSSendTextMessage.bs","bs_belt_Array","bs_caml_obj","bs_curry","react","recoverableViolation","unrecoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=h.useRef(void 0),g=b("MWThread_DEPRECATED.bs").useId(void 0),i=b("WorkplaceMSSendTextMessage.bs").useSendTextMessage(void 0,void 0,void 0,void 0),j=b("useCometRouterState")(),k=h.useContext(b("WorkplaceMSMessageSourceContext.bs").context),l=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0);d=function(d){var e=f.current;if(e!==void 0&&e.TAG===0){var g=d.NAME;e=e._0;if(g==="SendVideo"){b("ODS").bumpEntityKey(3185,"mwchat_send","video");var h=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(e,a);b("WorkplaceMSSendFilesMessage.bs").send(void 0,e,d.VAL,h,j,l,k,void 0);return b("bs_curry")._1(c,e)}if(g==="SendFile"){b("ODS").bumpEntityKey(3185,"mwchat_send","file");h=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(e,a);b("WorkplaceMSSendFilesMessage.bs").send(void 0,e,d.VAL,h,j,l,k,void 0);return b("bs_curry")._1(c,e)}b("ODS").bumpEntityKey(3185,"mwchat_send","images");g=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(e,a);b("WorkplaceMSSendFilesMessage.bs").send(void 0,e,d.VAL,g,j,l,k,void 0);return b("bs_curry")._1(c,e)}b("recoverableViolation")("Unexpected empty threadId","work_web_messaging");f.current={TAG:1,_0:"Unexpected state"}};e=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){if(g!==void 0&&typeof g!=="string"){var c=g.NAME;c=c==="User"||c==="Page"?g.VAL:null}else c=null;return{event_name:b("MessengerWebEvent").SEND_FILES,other_user_fbid:c,thread_fbid:g!==void 0&&!(typeof g==="string"||g.NAME!=="Group")?g.VAL:null,extra_data:{attachment_names:a.map(function(a){return a.name}),attachment_upload_ids:a.map(function(a){return a.uploadId}),attachment_fbids:b("bs_belt_Array").keepMap(a,function(a){a=a.status;if(a)return a._0})}}})};d=b("MWChatUploadingFilesStore.bs").useUploadingFiles(d,e);var m=d[1];e=function(a,c){return b("bs_curry")._1(m,{TAG:2,_0:a,_1:c})};d=function(a,d,e,g){d!==void 0&&(b("bs_curry")._5(i,a,d,e,void 0,void 0),b("bs_curry")._1(c,a));d=f.current;d!==void 0?d.TAG===0&&b("bs_caml_obj").caml_equal(d._0,a)||b("unrecoverableViolation")("Hook cannot be used to send to more than one recipient. It tracks send progress internally this state cannot be shared amongst recipients","work_web_messaging"):f.current={TAG:0,_0:a};return b("bs_curry")._1(m,{TAG:0,_0:g})};return[d,e]}f.useSendFileMessage=a}),null);
__d("WorkplaceMSSendAudioMessage.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return[function(a,c,d){return b("Promise").resolve(["",""])},function(a,b,c){}]}f.useMessage=a}),null);
__d("WorkplaceMSSendXMDMessage.bs",["CurrentUser","FBMqttChannel","MWChatTabEntryPoints.bs","MercuryActionStatus","MercuryActionType","MessengerState.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","Promise","WorkplaceMSLogMessageSend.bs","WorkplaceMSMessageSourceContext.bs","WorkplaceMSOptimisticUpdate.bs","WorkplaceMSPresenceIsThreadActive.bs","bs_belt_Option","bs_caml_option","bs_js_dict","getTopMostRoute","react","unrecoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometRouterState")(),d=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0),e=h.useContext(b("WorkplaceMSMessageSourceContext.bs").context);return function(a,f,g){var h=b("CurrentUser").getID(),i=c==null?null:b("getTopMostRoute")(c).tracePolicy,j=g!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(g).message_id):void 0,k=a.NAME;if(!(k==="User"||k==="Page"||k==="Group"))return b("unrecoverableViolation")("Not supported","work_web_messaging");k=a.VAL;var l=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,k),b("MessengerWebEntryPoint").UNKNOWN),m=f.body;f=b("WorkplaceMSOptimisticUpdate.bs").make(h,m,a,void 0,f,void 0,g,void 0);g=f.offline_threading_id;m=b("MessengerStatePrinter.bs").jsonPrettyStringify({body:m,sender_fbid:h,to:k,msgid:g,generic_metadata:{platform_xmd:f.platform_xmd},client_tags:{web_source:e,"web:trigger":l,tracePolicy:i},repliedToMessageId:j});var n=b("bs_caml_option").some(f);b("WorkplaceMSLogMessageSend.bs").log(g,a,{tracePolicy:i,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",m).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(n),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(h,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}}f.useSendXMDMessage=a}),null);
__d("WorkplaceMSSendCometPostback.bs",["MWThread_DEPRECATED.bs","WorkplaceMSSendXMDMessage.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0),d=b("WorkplaceMSSendXMDMessage.bs").useSendXMDMessage(void 0);return h.useCallback(function(a){return function(e){return b("bs_curry")._3(d,c,{body:a,quickReply:void 0,postback:b("bs_caml_option").some(e)},void 0)}},[d])}f.useSendCometPostback=a}),null);
__d("WorkplaceMSSendGIFMessage.bs",["CurrentUser","FBMqttChannel","MWChatTabEntryPoints.bs","MercuryActionStatus","MercuryActionType","MessengerState.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","Promise","WorkplaceMSLogMessageSend.bs","WorkplaceMSMessageSourceContext.bs","WorkplaceMSOptimisticUpdate.bs","WorkplaceMSPresenceIsThreadActive.bs","WorkplaceMSSendMessageUtils.bs","bs_belt_Option","bs_caml_option","bs_js_dict","getTopMostRoute","react","unrecoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useCometRouterState")(),f=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0),g=h.useContext(b("WorkplaceMSMessageSourceContext.bs").context);return h.useCallback(function(a){return function(c,d){var h=b("CurrentUser").getID(),i=e==null?null:b("getTopMostRoute")(e).tracePolicy;d=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,d);var j=d!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(d).message_id):void 0,k=a.NAME;if(!(k==="User"||k==="Page"||k==="Group"))return b("unrecoverableViolation")("Not supported","work_web_messaging");k=a.VAL;var l=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,k),b("MessengerWebEntryPoint").UNKNOWN),m=b("bs_belt_Option").flatMap(b("bs_js_dict").get(c.media,"preview"),function(a){return[{TAG:0,height:a.height,width:a.width,url:a.url}]});m=b("WorkplaceMSOptimisticUpdate.bs").make(h,"",a,m,void 0,void 0,d,void 0);d=m.offline_threading_id;k=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:h,to:k,msgid:d,externalAttachmentUrl:c.source.url,attribution_app_id:c.platformFBID,client_tags:{web_source:g,"web:trigger":l,tracePolicy:i},repliedToMessageId:j});var n=b("bs_caml_option").some(m);b("WorkplaceMSLogMessageSend.bs").log(d,a,{tracePolicy:i,isActiveNow:f});b("FBMqttChannel").publish("/send_message2",k).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(n),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(h,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(void 0)})}},[e,f])}f.useSendGifMessage=a}),null);
__d("WorkplaceMSSendMenuItem.bs",["WorkplaceMSPresenceIsThreadActive.bs","WorkplaceMSSendXMDMessage.bs","bs_curry","react","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){a=b("useCometRouterState")();c=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0);var e=b("WorkplaceMSSendXMDMessage.bs").useSendXMDMessage(void 0);return h.useCallback(function(a){return function(c,d){return b("bs_curry")._3(e,a,{body:c,quickReply:void 0,postback:{cta_id:d,prev_message_id:void 0,force_handle:!0,ref:void 0,postback_cta_ref_source:void 0}},void 0)}},[a,c])}f.useSendMenuItem=a}),null);
__d("WorkplaceMSSendStickerMessage.bs",["CurrentUser","FBMqttChannel","MWChatTabEntryPoints.bs","MercuryLocalIDs","MessengerState.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","Promise","WorkplaceMSLogMessageSend.bs","WorkplaceMSMessageSourceContext.bs","WorkplaceMSPresenceIsThreadActive.bs","WorkplaceMSSendMessageUtils.bs","bs_belt_Option","bs_caml_option","bs_js_dict","getTopMostRoute","react","unrecoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useCometRouterState")(),f=b("WorkplaceMSPresenceIsThreadActive.bs").useHook(void 0),g=h.useContext(b("WorkplaceMSMessageSourceContext.bs").context);return h.useCallback(function(a){return function(c,d,h){b("CurrentUser").getID();h=e==null?null:b("getTopMostRoute")(e).tracePolicy;d=b("WorkplaceMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,d);d=d!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(d).message_id):void 0;var i=a.NAME;if(!(i==="User"||i==="Page"||i==="Group"))return b("unrecoverableViolation")("Not supported","work_web_messaging");i=a.VAL;var j=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,i),b("MessengerWebEntryPoint").UNKNOWN),k=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);i=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:b("CurrentUser").getID(),to:i,msgid:k,object_attachment:c,client_tags:{web_source:g,"web:trigger":j,tracePolicy:h},repliedToMessageId:d});b("WorkplaceMSLogMessageSend.bs").log(k,a,{tracePolicy:h,isActiveNow:f});b("FBMqttChannel").publish("/send_message2",i).then(function(a){return b("Promise").resolve(void 0)})["catch"](function(a){return b("Promise").resolve(void 0)})}},[e,f])}f.useSendStickerMessage=a}),null);
__d("WorkplaceMSCreateThread.bs",["WorkplaceMSCreateThread"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("WorkplaceMSCreateThread").useHook(a)}f.useHook=a}),null);
__d("WorkplaceMSPostbackCtaHandler.bs",["gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(!b("gkx")("1463539")){b("recoverableViolation")("Unexpected Lightspeed CTA on non lightspeed chat","messenger_privacy_web");return}}f.usePostbackCtaHandler=a}),null);
__d("WorkplaceMSDeleteMessage.bs",["CurrentUser","MessengerState.bs","ODS","bs_curry","react","useMessengerLocalRemoveMessageMutation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useMessengerLocalRemoveMessageMutation")();return h.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","remove_loc");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);b("bs_curry")._1(c,{messageID:a})},[c])}f.useDeleteMessage=a}),null);
__d("WorkplaceMSDeleteThread",["CometRelay","WorkplaceMSDeleteThreadMutation.graphql","react"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g,h,i=h||b("react");function a(){var a=b("CometRelay").useMutation(g!==void 0?g:g=b("WorkplaceMSDeleteThreadMutation.graphql")),c=a[0];a[1];return i.useCallback(function(a){c({variables:{input:{thread_fbid:a}}})},[c])}}),null);
__d("WorkplaceMSDeleteThread.bs",["WorkplaceMSDeleteThread","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("WorkplaceMSDeleteThread").useHook();return h.useCallback(function(a){return b("bs_curry")._1(c,a.VAL)},[c])}f.useDeleteThread=a}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("XMessengerGroupPollingCreatePollController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/create_poll/",{})}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("WorkplaceMSPollsHooks.bs",["ix","AsyncRequest","FBID.bs","MWThread_DEPRECATED.bs","MercuryIDs","MessengerParticipants.bs","XMessagingGetPollOptionsController","XMessengerGroupPollingCreatePollController","XMessengerGroupPollingUpdateVoteController","bs_caml_format","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("XMessagingGetPollOptionsController"),k=b("XMessengerGroupPollingUpdateVoteController"),l=b("XMessengerGroupPollingCreatePollController");function a(a){var c=i.useState(function(){}),d=c[1];c=c[0];i.useEffect(function(){var c=j.getURIBuilder().setFBID("question_id",b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))).getURI();new(b("AsyncRequest"))(c).setHandler(function(a){var c=a.payload;return b("bs_curry")._1(d,function(a){return c.map(function(a){return{option_text:a.text,votes:a.voters.edges.map(function(a){a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a.node.id));var c;if(a==null)c=g("98939");else{a=a.image_src;c=a==null?g("98939"):a}return{profile_picture_url:c}}),voted:a.viewer_has_voted,option_id:b("bs_caml_format").caml_int64_of_string(a.id)}})})}).setErrorHandler(function(a){return b("bs_curry")._1(d,function(a){return[]})}).send()},[a,c,d]);return c}function c(a,c){a=b("MWThread_DEPRECATED.bs").toThreadKey(a);return i.useCallback(function(a){return function(d){var e=k.getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData({question_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),selected_options:d.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}),new_options:a.map(function(a){return a[0]}),selected_new_option_indexes:a.reduce(function(a,b,c){if(b[1])return a.concat([c]);else return a},[-1])}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"work_web_messaging");return}}).send()}},[a,c])}function d(a){return i.useCallback(function(a){return function(c,d){var e=b("MWThread_DEPRECATED.bs").toThreadKey(a),f=l.getURIBuilder().getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData({question_text:c,target_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),option_text_array:d,option_is_selected_array:d.map(function(a){return 0})}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"work_web_messaging");return}}).send()}})}f.usePollOptions=a;f.useUpdatePoll=c;f.useCreatePoll=d}),null);
__d("WorkplaceMSMediaSendManagerProvider.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}function b(a,b){return{children:a}}c=a;f.makeProps=b;f.make=c}),null);
__d("WorkplaceMSBlockedIds.bs",["CurrentUser","MercuryIDs","MessengerState.bs","bs_belt_Option","bs_belt_Set","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerState.bs").useHook(b("CurrentUser").getID());return new Set(b("bs_belt_Set").toArray(a.blockedIds).map(function(a){return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a)))}))}f.useHook=a}),null);
__d("WorkplaceMSBlockStatus.bs",["MWThread_DEPRECATED.bs","MercuryIDs","WorkplaceMSBlockedIds.bs","WorkplaceMSLoadParticipants.bs","bs_belt_Option","bs_caml_option","bs_js_dict","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("WorkplaceMSBlockedIds.bs").useHook(void 0);var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);if(typeof c==="string")return!1;var d=c.NAME;if(d==="User"||d==="Page")return a.has(c.VAL);else return!1}function c(a){var c=b("WorkplaceMSLoadParticipants.bs").useMercuryParticipants(a),d=b("WorkplaceMSBlockedIds.bs").useHook(void 0);if(typeof a==="string"||a.NAME!=="Group"){b("recoverableViolation")("Trying to get block status for non group thread","messenger_comet");return!1}else return b("bs_js_dict").entries(c[0]).some(function(a){return d.has(b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[1].id))))})}function d(a){var c=b("WorkplaceMSBlockedIds.bs").useHook(void 0);a=b("WorkplaceMSLoadParticipants.bs").useMercuryParticipants(a);return b("bs_js_dict").values(a[0]).filter(function(a){return c.has(b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a.id))))}).map(function(a){return a.fbid})}f.useIsThreadBlocked=a;f.useIsBlockedUserInGroup=c;f.useBlockeesInThread=d}),null);
__d("WorkplaceMSCurrentThreadParticipants.bs",["MWThread_DEPRECATED.bs","WorkplaceMSLoadParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("WorkplaceMSLoadParticipants.bs").useMercuryParticipants(b("MWThread_DEPRECATED.bs").useIdExn(void 0))}function c(a){return b("WorkplaceMSLoadParticipants.bs").useParticipants(b("MWThread_DEPRECATED.bs").useIdExn(void 0))}f.useMercuryParticipants=a;f.useParticipants=c}),null);
__d("WorkplaceMSGetParticipantFbids.bs",["CurrentUser","MWChatThreadId.bs","MWUIChatTabState.bs","MercuryIDs","MessengerState.bs","bs_belt_Array","bs_belt_Map","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWUIChatTabState.bs").useTab(void 0);var c=b("MWUIChatTabState.bs").useTokenProvider(void 0),d=b("MessengerState.bs").useHook(b("CurrentUser").getID());if(!a)return b("bs_curry")._1(c,void 0);c=b("bs_belt_Map").get(d.threads,b("MWChatThreadId.bs").getMercuryID(a._0));if(c!==void 0)return b("bs_belt_Array").keepMap(b("bs_caml_option").valFromOption(c).participants,function(a){return b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a))});else return[]}f.useHook=a}),null);
__d("WorkplaceMSLoadTypingParticipants.bs",["CurrentUser","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MessengerParticipants.bs","MessengerState.bs","bs_belt_Array","bs_belt_Map","bs_belt_MapString","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var c=b("MWChatThreadId.bs").getMercuryID(b("MWThread_DEPRECATED.bs").useIdExn(void 0)),d=a.typing;return h.useMemo(function(){var a=b("bs_belt_MapString").get(d,c);if(a!==void 0)return b("bs_belt_Array").keepMap(b("bs_belt_Map").keysToArray(b("bs_caml_option").valFromOption(a)),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(a))}).map(function(a){return{participantId:a.id,profileImage:b("bs_caml_option").nullable_to_opt(a.image_src),name:a.name,expirationTimestampMs:void 0}});else return[]},[d,c])}f.useHook=a}),null);
__d("WorkplaceMSThreadCapabilities.bs",["CurrentUser","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MercuryParticipantTypes","MessagingThreadType","MessengerParticipants.bs","MessengerState.bs","bs_belt_Map","bs_belt_Option","bs_caml_option","gkx"],(function(a,b,c,d,e,f){"use strict";function g(a){a=a.user_type;if(a==null)return!1;else return a===b("MercuryParticipantTypes").PARENT_APPROVED_USER}function a(a){var c;a=b("MWThread_DEPRECATED.bs").useId(void 0);var d=b("CurrentUser").getID(),e=b("MessengerState.bs").useHook(d),f=(c=b("bs_belt_Option")).getWithDefault(c.flatMap(a,function(a){return b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MessengerState.bs").getThreadMetaNow(d,b("MWChatThreadId.bs").getMercuryID(a))),function(a){return b("bs_caml_option").nullable_to_opt(a.thread_type)}),function(a){return a===b("MessagingThreadType").GROUP})}),!1);c=c.map(c.flatMap(a,function(a){return b("bs_belt_Map").get(e.threads,b("MWChatThreadId.bs").getMercuryID(a))}),function(a){return a.participants});a=c!==void 0?c.reduce(function(a,c){c=b("MessengerParticipants.bs").getNow(c);if(c==null)return a;else if(a)return!0;else return g(c)},!1):!1;return{canSendGif:!a,canSendPayment:!a,canCreatePoll:f&&!a,canDisplayActorTypeInThreadViewHeader:!1,canCustomizeEmoji:!0,canCustomizeNicknames:!0,canCustomizeTheme:!0,canCreateGroup:!0,canRtcVideoCall:!0,canRtcVoiceCall:!0,canSendFile:!0,canSendRoom:!1,canSendAudioClip:!1,canSendQuickCamAttachment:b("gkx")("1710025"),canDisableLinks:!1,canAddMember:f,canCustomizeThreadName:f,canIgnoreMessages:f}}function c(a){return a.canSendGif}function d(a){return a.canSendPayment}function e(a){return a.canCreatePoll}function h(a){return a.canDisplayActorTypeInThreadViewHeader}function i(a){return a.canCustomizeEmoji}function j(a){return a.canCustomizeTheme}function k(a){return a.canCustomizeNicknames}function l(a){return a.canCreateGroup}function m(a){return a.canRtcVideoCall}function n(a){return a.canRtcVoiceCall}function o(a){return a.canSendFile}function p(a){return a.canSendAudioClip}function q(a){return!1}function r(a){return a.canSendQuickCamAttachment}function s(a){return a.canDisableLinks}function t(a){return a.canAddMember}function u(a){return a.canCustomizeThreadName}function v(a){return a.canIgnoreMessages}f.isParentApprovedUser=g;f.useCapabilities=a;f.canSendGif=c;f.canSendPayment=d;f.canCreatePoll=e;f.canDisplayActorTypeInThreadViewHeader=h;f.canCustomizeEmoji=i;f.canCustomizeTheme=j;f.canCustomizeNicknames=k;f.canCreateGroup=l;f.canRtcVideoCall=m;f.canRtcVoiceCall=n;f.canSendFile=o;f.canSendAudioClip=p;f.canSendRoom=q;f.canSendQuickCamAttachment=r;f.canDisableLinks=s;f.canAddMember=t;f.canCustomizeThreadName=u;f.canIgnoreMessages=v}),null);
__d("WorkplaceMSThreadEmoji.bs",["CurrentUser","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MessengerState.bs","bs_belt_Map","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));if(c===void 0)return;a=b("bs_caml_option").valFromOption(c).custom_like_icon;if(!(a==null))return a.emoji}f.useEmoji=a}),null);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});e.exports=a}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DOM","DialogX","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject","react"],(function(a,b,c,d,e,f,g){var h,i,j=h||b("react"),k,l;function m(a){var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!k){var e=(a=b("DOM")).create("div",{className:"_57-x"});k=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},a.create("div",null,e));l=a.create("div");a.insertBefore(e,l);b("ReactDOM").render(j.jsx(b("XUISpinner.react"),{size:"large"}),e);k.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){q();return!1}})}d?b("ReactDOM").render(j.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:d}),l):b("DOM").empty(l);k.setWidth(c);return k}var n={},o=1,p=[];function q(){b("forEachObject")(n,function(a,b){a.abandon(),r(b)})}function r(a){delete n[a],Object.keys(n).length||m().hide()}function s(a,c){var d=o++;p[d]=c;n[d]=a;var e=r.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();c!=null&&c instanceof HTMLElement&&m(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&t.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var t={send:function(a,c){s(a,c||b("emptyFunction"))},bootstrap:function(a,c,d,e){if(!a)return;var f=b("Parent").byClass(c,"stat_elem")||c;if(f&&b("CSS").hasClass(f,"async_saving"))return!1;var g=new(i||(i=b("URI")))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(g).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(f);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));t.send(a,e)},respond:function(a,b){var c=p[a];c&&(c(b),delete p[a])},getLoadingDialog:function(){return m()}};e.exports=t}),null);
__d("MercuryMessageActions",["AsyncRequest","Bootloader","CurrentUser","MercuryDispatcher","MercuryMessageObject","MercuryMessagingLightswitch","MercuryServerRequests","MercurySingletonMixin","MessengerState.bs","WorkChatSavedMessagesOnHeaderMenuNux"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=b("MercuryMessageObject").getForFBID(this.$1),this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1)}var c=a.prototype;c.send=function(a,b,c){this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message")),this.__serverRequests.sendNewMessage(a,c),b!=null&&b(a.thread_id)};c.resend=function(a,b){a=babelHelpers["extends"]({},a);this.$2.normalizeResendMessage(a);this.send(a,void 0,b)};c.addAttachmentPlaceholder=function(a,b,c){this.$2.normalizeAddAttachmentPlaceholder(a,b,c),this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message"))};c.cancelAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:cancel-attachment-placeholder"},"client_send_message"))};c.confirmAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:confirm-attachment-placeholder"},"client_send_message"))};c["delete"]=function(a,b,c){this.__dispatcher.handleUpdate(this.$3(a,b,"ma-type:delete-messages",c||"client_delete_messages"))};c.changeSaveStatus=function(a,c,d){var e=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a.message_id);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:a.thread_id,messageId:e,tags_to_add:c?["message:save"]:[],tags_to_delete:c?[]:["message:save"],action_type:"ma-type:mutate_tags"},d||"client_update_saved_message_status"));b("Bootloader").loadModules(["XMessengerDotComSaveController","SavedStateActions","CollectionsDisplaySurface","CollectionCurationMechanisms","WorkChatSavedMessagesTypedLogger","SavedMessagesEvent","useWorkGalahadEventEmitter"],function(d,f,g,h,i,j,k){b("MercuryMessagingLightswitch").guard(function(){new(b("AsyncRequest"))().setURI(d.getURIBuilder().getURI()).setData({action:c?f.SAVE:f.UNSAVE,surface:g.MESSENGER_DOT_COM_MESSAGE,mechanism:h.RIGHT_CLICK,message_id:e}).setHandler(function(){if(c&&b("WorkChatSavedMessagesOnHeaderMenuNux").shouldShowNux){var d=k(["toggleNavHeaderMenu","showSavedMessageNux"]);d[0];d=d[1];d()}new i().setEvent(c?j.SAVE:j.UNSAVE).setThreadID(a.thread_id).setMessageID(e).log()}).send()})},"MercuryMessageActions")};c.__constructClientSingleMessagePayload=function(a,b){return{actions:[a],from_client:!0,payload_source:b}};c.$3=function(a,b,c,d){return{actions:[{action_type:c,thread_id:a,message_ids:b}],from_client:!0,payload_source:d}};return a}();c=Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});d=c;e.exports=d}),null);
__d("MessengerThreadThemeUpdateWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1727493033983591"};b.getQueryID=function(){return"643682629309288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("NFXContextFactory",["FBLogger","uuid"],(function(a,b,c,d,e,f){"use strict";f.withEntMessageThread=a;f.withPoliticalArchiveAds=c;f.withEntReportableOnPage=d;f.withEntReportable=e;function g(a){var c=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:b("uuid")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},c)}function a(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;a=a.responsible_id;return g({type:1,story_location:c,entry_point:d,reportable_ent_token:b,responsible_id:a})}function c(a){var b=a.reportable_id,c=a.page_id;a=a.storyLocation;return g({type:6,story_location:a,entry_point:"unknown",initial_action_name:"POLITICAL_ARCHIVE_REPORT_AD",reportable_id:b,page_id:c})}function d(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;var e=a.initial_action_name;a=a.page_id;return g({type:11,story_location:c,entry_point:d,reportable_ent_token:b,initial_action_name:e,page_id:a})}function e(a){var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;a=a.initial_action_name;c===null&&b("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return g({type:2,story_location:d,entry_point:e,reportable_ent_token:c,initial_action_name:a})}}),null);
__d("PeriodUnit",["invariant","DateConsts","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=b("keyMirror")({year:null,month:null,week:null,day:null,hour:null,minute:null,second:null}),i=babelHelpers["extends"]({},h,{canonicalDateUnits:[h.year,h.month,h.day],canonicalUnits:[h.year,h.month,h.day,h.hour,h.minute,h.second],getApproximateDuration:function(a){if(i.isForTime(a))return i.getDuration(a);else switch(a){case h.year:return b("DateConsts").SEC_PER_DAY*b("DateConsts").AVG_DAYS_PER_YEAR;case h.month:return b("DateConsts").SEC_PER_DAY*b("DateConsts").AVG_DAYS_PER_MONTH;case h.week:return b("DateConsts").SEC_PER_DAY*b("DateConsts").DAYS_PER_WEEK;case h.day:return b("DateConsts").SEC_PER_DAY;default:g(0,5509,a)}},getDuration:function(a){switch(a){case h.hour:return b("DateConsts").SEC_PER_HOUR;case h.minute:return b("DateConsts").SEC_PER_MIN;case h.second:return 1;default:g(0,1154,a)}},isForDate:function(a){switch(a){case h.year:case h.month:case h.week:case h.day:return!0;case h.hour:case h.minute:case h.second:return!1;default:g(0,5510,a)}},isForTime:function(a){return!i.isForDate(a)}});a=i;e.exports=a}),null);
__d("SharedDateUtils",[],(function(a,b,c,d,e,f){"use strict";f.divide=a;function a(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]}}),null);
__d("ISODateString",[],(function(a,b,c,d,e,f){f.parseDateComponents=g;f.parseTimeComponents=h;f.parseTimezone=i;f.parseComponents=a;function g(a){var b=a.replace(/-|\+/g,""),c=b.length===10?2:0;a=a.indexOf("-")===0?-1:1;return{year:a*Number(b.substring(0,4+c)),month:Number(b.substring(4+c,6+c))||1,day:Number(b.substring(6+c,8+c))||1}}function h(a){a=a.replace(":","").replace(":","");var b=+a.substring(0,2)||0,c=+a.substring(2,4)||0;a=parseFloat(a.substring(4))||0;var d=Math.floor(a);a=Math.floor(1e3*(a-d));return{hour:b,minute:c,second:d,millisecond:a}}function i(a){if(!a||a==="Z")return 0;else{a=a.replace(":","");var b=a[0]==="+"?1:-1,c=+a.substring(1,3)||0;a=+a.substring(3,5)||0;return b*(3600*c+60*a)}}function a(a){var b=a.indexOf("T"),c=b!==-1?Math.max(a.indexOf("+",b),a.indexOf("-",b)):-1,d=b!==-1?a.substring(0,b):a,e;c!==-1?e=a.substring(b+1,c):b!==-1?e=a.substring(b+1):e="";b=c!==-1?a.substring(c):"";return babelHelpers["extends"]({},g(d),h(e||""),{offset:i(b)})}}),null);
__d("parseISODate",["ISODateString"],(function(a,b,c,d,e,f){e.exports=a;function a(a){a=b("ISODateString").parseComponents(a);var c=a.year,d=a.month,e=a.day,f=a.hour,g=a.minute,h=a.second,i=a.millisecond;a=a.offset;return new Date(Date.UTC(c,d-1,e,f,g,h,i)-1e3*a)}}),null);
__d("DateTime",["invariant","DateConsts","Instant","PeriodUnit","SharedDateUtils","Timezone","memoizeWithArgs","monitorCodeUse","parseISODate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("Timezone").getEnvironmentTimezoneID,i=b("Timezone").UTC,j=function(){function a(a,b){this.instant=a,this.timezoneID=b}var c=a.prototype;c["function"]=function(b,c){return new a(b,c)};a.now=function(c){return a.create(b("Instant").now(),c)};a.localCreate=function(b){var c=h();c||g(0,6070);return a.create(b,c)};a.localNow=function(){return a.localCreate(b("Instant").now())};a.fromLegacyArgs=function(c,d){c=c;if(c&&typeof c==="object"){if(!(c instanceof Date)){var e;((e=c.constructor)==null?void 0:e.name)?e=c.constructor.name:c.constructor?e=c.constructor.toString():e=void 0;b("monitorCodeUse")("date_time_legacy_valueof_constructor",{className:e},{forceIncludeStackTrace:!0})}c=l.defaultValue(c)}if(typeof c==="number")return new a(c/b("DateConsts").MS_PER_SEC,d);else if(typeof c==="string"){b("monitorCodeUse")("date_time_legacy_string_constructor",{},{forceIncludeStackTrace:!0});return new a(new Date(c)/b("DateConsts").MS_PER_SEC,d)}else g(0,6071)};c.getRelative=function(b){return a.create(this.instant,b)};c.getRelativeInUTC=function(){return this.getRelative(i)};c.getParallel=function(c){var d=this.instant+this.getOffset();return c===i?a.create(d,i):a.create(b("Instant").getParallel(d,c),c)};c.getParallelInUTC=function(){return this.getParallel(i)};c.getEquivalentInTimezone=function(b){b=a.create(this.instant,b);return b.update(this.getYear(),this.getMonth(),this.getDayOfMonth(),this.getHours(),this.getMinutes(),this.getSeconds())};c.getEquivalentInUTC=function(){return this.getEquivalentInTimezone(0)};c.equals=function(a){return this.instant===a.instant&&this.timezoneID===a.timezoneID};c.isBefore=function(a){return this.instant<a.instant};c.isAfter=function(a){return this.instant>a.instant};c.isSameOrBefore=function(a){return this.isRelativeTo(a)||this.isBefore(a)};c.isSameOrAfter=function(a){return this.isRelativeTo(a)||this.isAfter(a)};c.isRelativeTo=function(a){return this.instant===a.instant};c.parallels=function(a){return this.getParallelInUTC().equals(a.getParallelInUTC())};c.getFields=function(){var a=this.toParallelDate();return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds()}};c.getTimezoneID=function(){return this.timezoneID};c.getTimezoneName=function(){return b("Timezone").getName(this.getTimezoneID())};c.getDayOfMonth=function(){return this.toParallelDate().getUTCDate()};c.getDayOfWeek=function(){return this.toParallelDate().getUTCDay()};c.getDayOfYear=function(){var a=this.startOfDay().instant-this.startOfYear().instant;return Math.round(a/b("DateConsts").SEC_PER_DAY)};c.getYear=function(){return this.toParallelDate().getUTCFullYear()};c.getHours=function(){return this.toParallelDate().getUTCHours()};c.getMinutes=function(){return this.toParallelDate().getUTCMinutes()};c.getMonth=function(){return this.toParallelDate().getUTCMonth()+1};c.getSeconds=function(){return this.toParallelDate().getUTCSeconds()};c.getWeekOfYear=function(){var a=this.startOfYear();a=a.equals(a.startOfWeek())?a.subtractDays(b("DateConsts").DAYS_PER_WEEK):a.startOfWeek();a=this.startOfWeek().instant-a.instant;return Math.round(a/(b("DateConsts").SEC_PER_DAY*b("DateConsts").DAYS_PER_WEEK))};c.getOffset=function(){return b("Instant").getOffset(this.instant,this.timezoneID)};c.$1=function(b){var c=this.toParallelDate();c.setUTCFullYear(b.year!=null?b.year:c.getUTCFullYear(),b.month!=null?b.month-1:c.getUTCMonth(),b.day!=null?b.day:c.getUTCDate());b.hour!=null&&c.setUTCHours(b.hour);b.minute!=null&&c.setUTCMinutes(b.minute);b.second!=null&&c.setUTCSeconds(b.second);return a.fromParallelDate(c,this.timezoneID)};c.set=function(a){a.year==null||b("Instant").wholeYearRangeInYears.since<=a.year&&a.year<b("Instant").wholeYearRangeInYears.until||g(0,1638);a.month==null||1<=a.month&&a.month<=12||g(0,1639);a.day==null||1<=a.day&&a.day<=31||g(0,1640);a.hour==null||a.hour>=0&&a.hour<=23||g(0,1151);a.minute==null||a.minute>=0&&a.minute<=59||g(0,1152);a.second==null||a.second>=0&&a.second<=59||g(0,1153);return this.$1(a)};c.update=function(a,b,c,d,e,f){return this.set({year:a,month:b,day:c,hour:d===null?void 0:d,minute:e===null?void 0:e,second:f===null?void 0:f})};c.add=function(c){var d=this;if(c.month||c.year){var e=d.getMonth()+(c.month||0)+(c.year||0)*12;d=d.$1({month:e});b("SharedDateUtils").divide(d.getMonth(),12)[1]!==b("SharedDateUtils").divide(e,12)[1]&&(d=d.$1({day:0}))}c.week&&(d=d.$1({day:d.getDayOfMonth()+7*c.week}));c.day&&(d=d.$1({day:d.getDayOfMonth()+c.day}));if(c.hour||c.minute||c.second){e=d.toDate();c.hour&&e.setUTCHours(e.getUTCHours()+c.hour);c.minute&&e.setUTCMinutes(e.getUTCMinutes()+c.minute);c.second&&e.setUTCSeconds(e.getUTCSeconds()+c.second);d=a.fromDate(e,this.timezoneID)}return d};c.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};c.addDuration=function(a){return this.add({second:a})};c.subtractDuration=function(a){return this.subtract({second:a})};c.addYears=function(a){return this.add({year:a})};c.addMonths=function(a){return this.add({month:a})};c.addWeeks=function(a){return this.add({week:a})};c.addDays=function(a){return this.add({day:a})};c.addHours=function(a){return this.add({hour:a})};c.addMinutes=function(a){return this.add({minute:a})};c.addSeconds=function(a){return this.add({second:a})};c.$2=function(a){var b=this.ceil(a);return b.isEqual(this)?this.addSeconds(1).ceil(a).subtractSeconds(1):b.subtractSeconds(1)};c.endOfYear=function(){return this.$2(b("PeriodUnit").year)};c.endOfMonth=function(){return this.$2(b("PeriodUnit").month)};c.endOfWeek=function(){return this.$2(b("PeriodUnit").week)};c.endOfDay=function(){return this.$2(b("PeriodUnit").day)};c.endOfHour=function(){return this.$2(b("PeriodUnit").hour)};c.endOfMinute=function(){return this.$2(b("PeriodUnit").minute)};c.subtractYears=function(a){return this.subtract({year:a})};c.subtractMonths=function(a){return this.subtract({month:a})};c.subtractWeeks=function(a){return this.subtract({week:a})};c.subtractDays=function(a){return this.subtract({day:a})};c.subtractHours=function(a){return this.subtract({hour:a})};c.subtractMinutes=function(a){return this.subtract({minute:a})};c.subtractSeconds=function(a){return this.subtract({second:a})};c.startOfYear=function(){return this.floor(b("PeriodUnit").year)};c.startOfMonth=function(){return this.floor(b("PeriodUnit").month)};c.startOfWeek=function(){return this.floor(b("PeriodUnit").week)};c.startOfDay=function(){return this.floor(b("PeriodUnit").day)};c.startOfHour=function(){return this.floor(b("PeriodUnit").hour)};c.startOfMinute=function(){return this.floor(b("PeriodUnit").minute)};c.setYear=function(a){return this.set({year:a})};c.setMonth=function(a){return this.set({month:a})};c.setDayOfMonth=function(a){return this.set({day:a})};c.setHours=function(a){return this.set({hour:a})};c.setMinutes=function(a){return this.set({minute:a})};c.setSeconds=function(a){return this.set({second:a})};c.setDayOfWeek=function(a){a>=0&&a<=6||g(0,6072);return this.addDays(a-this.getDayOfWeek())};c.setTimezoneID=function(b){return a.create(this.instant,b)};c.floor=function(a){var c={hour:0,minute:0,second:0};switch(a){case b("PeriodUnit").year:return this.set(babelHelpers["extends"]({},c,{month:1,day:1}));case b("PeriodUnit").month:return this.set(babelHelpers["extends"]({},c,{day:1}));case b("PeriodUnit").week:return this.set(c).subtractDays(this.getDayOfWeek());case b("PeriodUnit").day:return this.set(c);case b("PeriodUnit").hour:return this.set({minute:0,second:0});case b("PeriodUnit").minute:return this.set({second:0});case b("PeriodUnit").second:return this;default:g(0,5510,a)}};c.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};c.format=function(a,c){var d=this.getParallelInUTC();return b("Instant").format(d.instant,a,c)};c.getUnixTimestamp=function(){return this.instant*b("DateConsts").MS_PER_SEC};c.getUnixTimestampSeconds=function(){return this.instant};c.isEqual=function(a){return this.instant===a.instant};c.secondsUntil=function(a){return a.instant-this.instant};c.valueOf=function(){return this.instant};c.toString=function(){return this.toISOString()};c.toISOString=function(){var a=this.format("Y-m-dTH:i:s",{skipPatternLocalization:!0}),b=this.getOffset();b=(b>=0?"+":"-")+k(Math.floor(Math.abs(b)/3600))+k(Math.abs(b)%3600/60);return a+b};c.toRfc3339String=function(){var a=this.format("Y-m-dTH:i:s",{skipPatternLocalization:!0}),b=this.getOffset();b=(b>=0?"+":"-")+k(Math.floor(Math.abs(b)/3600))+":"+k(Math.abs(b)%3600/60);return a+b};a.createFromISOString=function(a,b){return this.fromISOString(a,b)};a.fromRfc3339String=function(c,d){return a.fromDate(b("parseISODate")(c),d)};c.toDate=function(){return new Date(b("DateConsts").MS_PER_SEC*this.instant)};a.fromDate=function(c,d){return a.create(Math.floor(c.getTime()/b("DateConsts").MS_PER_SEC),d)};a.localFromDate=function(c){return a.localCreate(Math.floor(c.getTime()/b("DateConsts").MS_PER_SEC))};c.toParallelDate=function(){return this.getParallelInUTC().toDate()};a.setupTimezone=function(a,c){c=c.map(function(a){return{start:a.ts,offset:-b("DateConsts").SEC_PER_MIN*a.offset}});c.push({start:b("Instant").range.until,offset:c[c.length-1].offset});b("Timezone").setupTimezone(a,c)};a.setupTimezoneFallback=function(a,c){b("Timezone").setFallbackOffset(a,c*b("DateConsts").SEC_PER_HOUR)};a.fromParallelDate=function(b,c){return a.fromDate(b,i).getParallel(c)};c.toFBDate=function(){return a.fromLegacyArgs(b("DateConsts").MS_PER_SEC*this.instant,this.timezoneID)};a.fromFBDate=function(b){return a.create(b.getUnixTimestampSeconds(),b.getTimezoneID())};c.toJSON=function(){return{instant:b("Instant").toISOString(this.instant),timezoneID:this.timezoneID}};c.fromJSON=function(c){return a.create(b("Instant").fromISOString(c.instant),c.timezoneID)};return a}();e.exports=j;j.create=b("memoizeWithArgs")(a,function(a,b){return a+"__"+b},"DateTime.create");j.fromISOString=b("memoizeWithArgs")(c,function(a,b){return a+"__"+b},"DateTime.fromISOString");function k(a){return("0"+a).substr(-2)}var l={isPrimitive:function(a){return a==null||typeof a==="boolean"||typeof a==="number"||typeof a==="string"},defaultValue:function(a){if(a instanceof Date){var b=a.toString();if(l.isPrimitive(b))return b}if(a.valueOf){b=a.valueOf();if(l.isPrimitive(b))return b}if(a.toString){b=a.toString();if(l.isPrimitive(b))return b}g(0,6073)}};function a(a,b){return new j(a,b)}function c(a,c){return j.fromDate(b("parseISODate")(a),c)}}),null);
__d("Instant",["invariant","BinarySearch","DateConsts","Timezone","formatDate","parseISODate"],(function(a,b,c,d,e,f,g){"use strict";f.now=a;f.getOffset=c;f.getOffsetUsingTransitions=h;f.getControllingTransition=i;f.getParallel=d;f.getParallelUsingTransitions=j;f.getControllingTransitionsOfParallel=k;f.toISOString=l;f.fromISOString=e;f.format=m;a=b("DateConsts")["private"].instantRange;f.range=a;c={since:-8639977881600,until:8639977881600};f.wholeYearRange=c;d={since:-271820,until:275760};f.wholeYearRangeInYears=d;function a(){return Math.floor(Date.now()/b("DateConsts").MS_PER_SEC)}function c(a,c){c=b("Timezone").getTransitions(c);return h(a,c)}function h(a,b){a=i(a,b);return a.offset}function i(a,c){var d=b("BinarySearch").greatestLowerBound(function(a){return c[a].start},a,0,c.length,function(a,b){return a-b});0<=d||g(0,13149,a,l(a));a<c[c.length-1].start||g(0,13150,a,l(a));return c[d]}function d(a,c){c=b("Timezone").getTransitions(c);return j(a,c)}function j(a,b){b=k(a,b);if(b.gapTransition!==void 0)return b.gapTransition.start;else if(b.overlapTransitions!==void 0)return a-b.overlapTransitions[0].offset;else{b.transition!==void 0||g(0,13153);return a-b.transition.offset}}function k(a,c){var d=b("BinarySearch").leastUpperBound(function(b){var d=a-c[b].offset;if(d<c[b].start)return 1;else if(c[b].start<=d&&d<c[b+1].start)return 0;else return-1},0,0,c.length-1,function(a,b){return a-b});d<c.length-1||g(0,13151,a,l(a));var e=c[d],f=c[d+1];1<=d||e.start<=a-e.offset||g(0,13152,a,l(a));if(a-e.offset<e.start)return{gapTransition:e};else if(f.start<=a-f.offset)return{overlapTransitions:[e,f]};else return{transition:e}}function l(a){return m(a,"Y-m-dTH:i:sZ",{skipPatternLocalization:!0})}function e(a){return Math.floor(b("parseISODate")(a).getTime()/b("DateConsts").MS_PER_SEC)}function m(c,a,d){return b("formatDate")(c,a,babelHelpers["extends"]({},d,{utc:!0}))}}),null);
__d("compareString",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}}),null);
__d("LazyTimezoneDatabase",["invariant","Instant","TimezoneRulesModuleParser","compareString","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.rulesModule={zones:[],ruleSets:[],version:"0",fromYear:b("Instant").wholeYearRangeInYears.until},this.zones=new Map(),this.ruleSets=new Map()}var c=a.prototype;c.registerRulesModule=function(a){if(a.fromYear<this.rulesModule.fromYear||b("compareString")(this.rulesModule.version,a.version)<0&&this.rulesModule.fromYear===a.fromYear){this.rulesModule=a;this.zones.clear();this.ruleSets.clear();return!0}else return!1};c.getZone=function(a){this.zones.has(a)||this.zones.set(a,this.$1(a));return b("nullthrows")(this.zones.get(a))};c.getRuleSet=function(a){this.ruleSets.has(a)||this.ruleSets.set(a,this.$2(a));return b("nullthrows")(this.ruleSets.get(a))};c.hasZone=function(a){return 0<=a&&a<this.rulesModule.zones.length};c.getTerminalZone=function(a){a=this.getZone(a);return typeof a.linkTo==="number"?this.getZone(a.linkTo):a};c.getZoneCount=function(){return this.rulesModule.zones.length};c.$1=function(a){0<=a&&a<this.rulesModule.zones.length||g(0,5776,a);a=b("TimezoneRulesModuleParser").parseZone(this.rulesModule.zones[a],a);if(a.records)for(var c=a.records,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.ruleSetID!=null&&f.ruleSetID!==0&&this.getRuleSet(f.ruleSetID)}else this.getZone(b("nullthrows")(a.linkTo));return a};c.$2=function(a){a<this.rulesModule.ruleSets.length||g(0,5777,a);return b("TimezoneRulesModuleParser").parseRuleSet(this.rulesModule.ruleSets[a],a)};return a}();e.exports=a}),null);
__d("LocalDate",["invariant","DateConsts","DateTime","Instant","PeriodUnit","SharedDateUtils","Timezone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.year=a,this.month=b,this.day=c}a.apply=function(b){return new a(b.year,b.month,b.day)};a.create=function(b,c,d){return new a(b,c,d)};a.today=function(c){return a.fromDateTime(b("DateTime").now(c))};var c=a.prototype;c.equals=function(a){return this.year===a.year&&this.month===a.month&&this.day===a.day};c.hashCode=function(){return(this.year*12+this.month)*30+this.day};c.compare=function(a){var b;b=this.year-a.year;if(b)return b;b=this.month-a.month;if(b)return b;b=this.day-a.day;return b};c.isBefore=function(a){return this.compare(a)<0};c.isAfter=function(a){return this.compare(a)>0};c.isBeforeOrEqual=function(a){return this.compare(a)<=0};c.isAfterOrEqual=function(a){return this.compare(a)>=0};c.min=function(a){return this.isBefore(a)?this:a};c.max=function(a){return this.isBefore(a)?a:this};c.getDayOfYear=function(){var a=this.toInstant(b("Timezone").UTC)-this.startOfYear().toInstant(b("Timezone").UTC);return Math.round(a/b("PeriodUnit").getApproximateDuration(b("PeriodUnit").day))};c.getDayOfMonth=function(){return this.day};c.getDayOfWeek=function(){return this.toUTCDate().getUTCDay()};c.getMonth=function(){return this.month};c.getYear=function(){return this.year};c.$1=function(b){var c=this.toUTCDate();c.setUTCFullYear(b.year!=null?b.year:c.getUTCFullYear(),b.month!=null?b.month-1:c.getUTCMonth(),b.day!=null?b.day:c.getUTCDate());return a.fromUTCDate(c)};c.set=function(a){a.year==null||b("Instant").wholeYearRangeInYears.since<=a.year&&a.year<b("Instant").wholeYearRangeInYears.until||g(0,1638);a.month==null||1<=a.month&&a.month<=12||g(0,1639);a.day==null||1<=a.day&&a.day<=31||g(0,1640);return this.$1(a)};c.add=function(a){var c=this;if(a.month||a.year){var d=c.month+(a.month||0)+(a.year||0)*12;c=c.$1({month:d});b("SharedDateUtils").divide(c.month,12)[1]!==b("SharedDateUtils").divide(d,12)[1]&&(c=c.$1({day:0}))}a.week&&(c=c.$1({day:c.getDayOfMonth()+7*a.week}));a.day&&(c=c.$1({day:c.day+a.day}));return c};c.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};c.daysBetween=function(a){var c=this;c=c.toInstant(b("Timezone").UTC)-a.toInstant(b("Timezone").UTC);return Math.abs(c/b("DateConsts").SEC_PER_DAY)};c.addYears=function(a){return this.add({year:a})};c.addMonths=function(a){return this.add({month:a})};c.addWeeks=function(a){return this.add({week:a})};c.addDays=function(a){return this.add({day:a})};c.subtractYears=function(a){return this.subtract({year:a})};c.subtractMonths=function(a){return this.subtract({month:a})};c.subtractWeeks=function(a){return this.subtract({week:a})};c.subtractDays=function(a){return this.subtract({day:a})};c.startOfYear=function(){return this.floor(b("PeriodUnit").year)};c.startOfMonth=function(){return this.floor(b("PeriodUnit").month)};c.startOfWeek=function(){return this.floor(b("PeriodUnit").week)};c.floor=function(a){var c={hour:0,minute:0,second:0};switch(a){case b("PeriodUnit").year:return this.set(babelHelpers["extends"]({},c,{month:1,day:1}));case b("PeriodUnit").month:return this.set(babelHelpers["extends"]({},c,{day:1}));case b("PeriodUnit").week:return this.set(c).subtractDays(this.getDayOfWeek());case b("PeriodUnit").day:return this.set(c);default:g(0,1641,a)}};c.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};c.format=function(a,c){return b("Instant").format(this.toInstant(b("Timezone").UTC),a,c)};c.toString=function(){return this.toISOString()};c.toISOString=function(){return this.format("Y-m-d",{skipPatternLocalization:!0})};a.fromISOString=function(b){var c=/^(\d+)-(\d+)-(\d+)/;c=c.exec(b);c!=null||g(0,38067,b,typeof b);c[0];b=c[1];var d=c[2];c=c[3];return a.create(+b,+d,+c)};c.toUTCDate=function(){return new Date(b("DateConsts").MS_PER_SEC*this.toInstant(b("Timezone").UTC))};a.fromUTCDate=function(b){return a.create(b.getUTCFullYear(),b.getUTCMonth()+1,b.getUTCDate())};c.toInstant=function(a){var c=Date.UTC(this.year,this.month-1,this.day)/b("DateConsts").MS_PER_SEC;return b("Instant").getParallel(c,a)};a.fromInstant=function(c,d){c=c+b("Instant").getOffset(c,d);return a.fromUTCDate(new Date(b("DateConsts").MS_PER_SEC*c))};c.toDateTime=function(a){return b("DateTime").create(this.toInstant(a),a)};a.fromDateTime=function(b){b=b.getFields();return a.create(b.year,b.month,b.day)};c.toFBDate=function(a){return b("DateTime").fromLegacyArgs(b("DateConsts").MS_PER_SEC*this.toInstant(a),a)};a.fromFBDate=function(b){return a.create(b.getYear(),b.getMonth(),b.getDayOfMonth())};c.toDaysSinceEpoch=function(){var a=this.toInstant(b("Timezone").UTC);return Math.floor(a/b("PeriodUnit").getApproximateDuration(b("PeriodUnit").day))};a.fromDaysSinceEpoch=function(c){return a.fromUTCDate(new Date(c*b("DateConsts").MS_PER_DAY))};c.toJSON=function(){return this.toISOString()};c.fromJSON=function(b){return a.fromISOString(b)};c.toTimestampInMilliseconds=function(a){return this.toInstant(a)*b("DateConsts").MS_PER_SEC};a.fromTimestampInMilliseconds=function(c,d){return a.fromInstant(c/b("DateConsts").MS_PER_SEC,d)};return a}();e.exports=a}),null);
__d("RulesTimezoneTransitionProvider",["DateConsts","LazyTimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f){"use strict";var g=[1860,2100];a=function(){function a(){this.tzDatabase=new(b("LazyTimezoneDatabase"))()}var c=a.prototype;c.generateTransitions=function(a){var c=this,d=[Math.max(this.tzDatabase.rulesModule.fromYear,g[0]),g[1]];d=[Date.UTC(d[0],1-1,1)/b("DateConsts").MS_PER_SEC,Date.UTC(d[1],1-1,1)/b("DateConsts").MS_PER_SEC];return b("TimezoneDatabaseUtil").generateTransitions(this.tzDatabase.getTerminalZone(a),function(a){return c.tzDatabase.getRuleSet(a)},d)};return a}();c=new a();e.exports=c}),null);
__d("EnvironmentTimezoneDecisionTree",["cr:1925340"],(function(a,b,c,d,e,f){e.exports=b("cr:1925340")}),null);
__d("TimezoneUtil",["BinarySearch","DateConsts"],(function(a,b,c,d,e,f){"use strict";f.constantOffsetTransitions=a;f.extractTimezoneTransitions=c;f.determineTimezoneID=g;f.getDefaultExtractionOptions=h;f.namesModuleIsSane=d;function a(a){return[{start:b("DateConsts")["private"].instantRange.since,offset:a},{start:b("DateConsts")["private"].instantRange.until,offset:NaN}]}function c(a,c){c===void 0&&(c=h());var d=[],e=a(c.start);d.push({start:c.start,offset:e});var f=function(f){var g=f+c.step,h=a(g);if(e!==h){f=b("BinarySearch").leastUpperBound(function(b){return a(b)===h},1,f,g,function(a,b){return a-b});f<c.end&&d.push({start:f,offset:h})}e=h};for(var g=c.start;g<c.end;g+=c.step)f(g);d.push({start:c.end,offset:NaN});return d}function g(a,b){if(a.timezone!=null)return a.timezone;else{var c=a.instant!=null&&b(a.instant);a=a[String(c)];return a?g(a,b):void 0}}function h(){return{start:new Date("2004-01-01").valueOf()/b("DateConsts").MS_PER_SEC,end:new Date("2107-01-01").valueOf()/b("DateConsts").MS_PER_SEC,step:30*b("DateConsts").SEC_PER_DAY}}function d(a){return a.zoneNames["1"]==="America/Los_Angeles"&&a.zoneNames["141"]==="Africa/Johannesburg"&&a.zoneNames["464"]==="WET"}}),null);
__d("FormatExtractionTimezoneTransitionProvider",["TimezoneUtil","memoize","requireWeak"],(function(a,b,c,d,e,f){"use strict";f._intlFormattedDateToUTC=k;f.extractOrNull=a;var g={extractionStatuses:{}},h=b("memoize")(function(){var a=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date("2004-01-01T00:00:00.000Z"));return a.includes("24")});function i(a){var c;b("requireWeak")("TimezoneNamesData",function(a){return c=a});try{var d=Object.prototype.hasOwnProperty.call(window,"Intl")&&typeof Intl==="object";d=d&&Object.prototype.hasOwnProperty.call(Intl,"DateTimeFormat")}catch(a){return null}if(!d||!c)return null;d=c.zoneNames[a];if(!d)return null;try{a={timeZone:d,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};h()?a=babelHelpers["extends"]({},a,{hourCycle:"h23"}):a=babelHelpers["extends"]({},a,{hour12:!1});return new Intl.DateTimeFormat("en-US",a)}catch(a){return null}}function j(a,b){a=a.format(new Date(b*1e3));return k(a)/1e3-b}function k(a){a=a.match(/\d+/g);if(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];return Date.UTC(+d,+b-1,+c,+e,+f,+a)}return NaN}function a(a){if(g.extractionStatuses[a]==="error")return null;var c=i(a);if(!c){g.extractionStatuses[a]="error";return null}try{c=b("TimezoneUtil").extractTimezoneTransitions(j.bind(null,c));g.extractionStatuses[a]="success";return c}catch(b){g.extractionStatuses[a]="error";return null}}}),null);
__d("TimezoneNamesData",["cr:1925341"],(function(a,b,c,d,e,f){e.exports=b("cr:1925341")}),null);
__d("TimezoneRulesFrom2009",["cr:1925344"],(function(a,b,c,d,e,f){e.exports=b("cr:1925344")}),null);
__d("Timezone",["invariant","DateConsts","EnvironmentTimezoneDecisionTree","FormatExtractionTimezoneTransitionProvider","RulesTimezoneTransitionProvider","TimezoneNamesData","TimezoneRulesFrom2009","TimezoneUtil","gkx","memoize","nullthrows","warning"],(function(a,b,c,d,e,f,g){"use strict";f.setupTimezone=l;f.overrideTransitions=m;f.setupTimezoneWithPHPTransitions=a;f.setFallbackOffset=c;f.registerRulesModule=n;f.registerNamesModule=o;f.registerDefaultNamesAndRulesModules=d;f.getTransitions=p;f.computeTransitions=q;f.toggleTransitionProvider=r;f.isTransitionProviderEnabled=e;f.getEnvironmentTimezoneIDFromTree=t;f.getName=u;f.getExactName=v;f.getByName=w;f.getByNameOrNull=x;f.getGeographicTimezoneCount=y;f.clampTimestamp=z;var h={constantOffsets:{},namesModule:void 0,overrideTransitions:{},providerEnabled:{override:!0,builtin:!0,rules:!1,formatExtraction:!0,environmentExtraction:!0,constantOffset:!0},rulesProvider:void 0,timezoneIDsByName:void 0,transitionsByTimezoneID:{}},i=1e4,j=function(a){return new Date(1e3*a).getTimezoneOffset()*-60},k=0;f.UTC=k;a=1;f.PST8PDT=a;function l(a,b){m(a,b)}function m(a,b){h.overrideTransitions[a]=b,delete h.transitionsByTimezoneID[a]}function a(a,c){c=c.map(function(a){return{start:typeof a.ts==="number"?a.ts:NaN,offset:typeof a.offset==="number"?a.offset:NaN}});c.push({start:b("DateConsts")["private"].instantRange.until,offset:NaN});l(a,c)}function c(a,b){h.constantOffsets[a]=b}function n(a,b){h.rulesProvider=a;a=a.tzDatabase.registerRulesModule(b);a&&(h.transitionsByTimezoneID={})}function o(a){(!h.namesModule||h.namesModule.version<a.version)&&(b("warning")(b("TimezoneUtil").namesModuleIsSane(a),"Attemping to register a names module that incorrectly enumerates existing timezones. Check that you are using the TimezoneNamesData module."),h.namesModule=a,h.timezoneIDsByName=void 0)}function d(){n(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009")),o(b("TimezoneNamesData")),r("rules",!0)}function p(a){h.transitionsByTimezoneID[a]||(h.transitionsByTimezoneID[a]=q(a));return h.transitionsByTimezoneID[a]}function q(a){if(h.overrideTransitions[a])return h.overrideTransitions[a];if(a===k)return b("TimezoneUtil").constantOffsetTransitions(0);var c=h.rulesProvider;if(h.providerEnabled.rules&&c&&c.tzDatabase.hasZone(a))return c.generateTransitions(a);if(h.providerEnabled.formatExtraction){c=b("FormatExtractionTimezoneTransitionProvider").extractOrNull(a);if(c)return c}if(h.providerEnabled.environmentExtraction&&(a==s()||a===i))return b("TimezoneUtil").extractTimezoneTransitions(j);if(h.providerEnabled.constantOffset&&Object.prototype.hasOwnProperty.call(h.constantOffsets,a)){b("warning")(!1,"Timezone %s is configured with a constant offset. This is error prone, and support for it will be removed in the near future.",a);return b("TimezoneUtil").constantOffsetTransitions(h.constantOffsets[a])}g(0,1059,a)}function r(a,b,c){c===void 0&&(c=!0),a==="rules"||a==="formatExtraction"||a==="environmentExtraction"||a==="constantOffset"||g(0,1060,a),h.providerEnabled[a]=b,c&&(h.transitionsByTimezoneID={})}function e(a){return h.providerEnabled[a]}var s=b("memoize")(function(){if(!b("gkx")("1111356"))return t();var a="";Intl!=null&&Intl.DateTimeFormat()!=null&&Intl.DateTimeFormat().resolvedOptions()!=null&&(a=Intl.DateTimeFormat().resolvedOptions().timeZone||"");var c;h.namesModule&&a!==""&&(c=x(a));c==null&&(c=t());return c});f.getEnvironmentTimezoneID=s;function t(){return b("TimezoneUtil").determineTimezoneID(b("EnvironmentTimezoneDecisionTree"),j)||i}function u(a){return a===i?"Environment/Local":v(a)}function v(a){var b=A.getNamesModule("Timezone.getName");return b.zoneNames[String(a)]}function w(a){return b("nullthrows")(x(a),"Did not find id for timezone "+a)}function x(a){if(!h.timezoneIDsByName){A.getNamesModule("Timezone.getByName");var b={};for(var c=A.computeTimezoneIDs(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=u(f);b[g]=f}h.timezoneIDsByName=b}return h.timezoneIDsByName[a]}function y(){var a=h.rulesProvider;a&&a.tzDatabase.getZoneCount()||h.namesModule||g(0,1061);return a&&a.tzDatabase.getZoneCount()||Object.keys(A.getNamesModule().zoneNames).length}function z(a,c){c=p(c);c=c[c.length-1];c=c.start;return Math.min(a,c-1,b("DateConsts")["private"].instantRange.until-1)}var A={state:h,localTimezoneID:i,computeTimezoneIDs:function(){var a=new Set(),b=y();for(var c=0;c<b;c++)a.add(c);a.add(i);return a},getNamesModule:function(a){a===void 0&&(a="Timezone.getNamesModule");h.namesModule||g(0,1062,a);return b("nullthrows")(h.namesModule)}};f["private"]=A;c(a,-7*b("DateConsts").SEC_PER_HOUR)}),null);
__d("TimezoneDatabaseUtil",["invariant","BinarySearch","Instant","LocalDate","Timezone","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";f.evalDayExpr=k;f.parseOffset=a;f.parseDayExpr=c;f.getPreviousActiveYear=l;f.getActiveRules=m;f.getParallelInStandardOffset=n;f.generateTransitionForRule=o;f.pushTransition=p;f.pushTransitionsForRules=q;f.generateRichTransitions=r;f.generateTransitions=d;f.restrictTransitions=s;f.compactifyTransitions=t;var h=/([+-]?)(\d+)(:(\d+))?(:(\d+))?/,i=function(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]},j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];f.dayOfWeekAbbrs=j;function k(a,c,d){var e=a.afterOrOn,f=a.beforeOrOn,h=a.dayOfMonth,j=a.dayOfWeek;a=a.lastDayOfWeek;if(h!=null)return h;else if(a!=null){h=b("LocalDate").create(c,d,1).addMonths(1);a=i(a-h.getDayOfWeek(),7);a[0];a=a[1];return h.addDays(a-7).getDayOfMonth()}else if(f!=null){h=b("LocalDate").create(c,d,f).addDays(1);a=i(b("nullthrows")(j)-h.getDayOfWeek(),7);a[0];f=a[1];return h.addDays(f-7).getDayOfMonth()}else if(e!=null){a=b("LocalDate").create(c,d,e);h=i(b("nullthrows")(j)-a.getDayOfWeek(),7);h[0];f=h[1];return a.addDays(f).getDayOfMonth()}else g(0,1538)}function a(a){var b=h.exec(a);b!=null||g(0,37289,a,typeof a);a=b[1]!=="-"?1:-1;var c=+b[2]||0,d=+b[4]||0;b=+b[6]||0;return a*(3600*c+60*d+b)}function c(a){var b;if(b=/^(\w\w\w)([><]=)(\d+)$/.exec(a)){var c=j.indexOf(b[1]),d=+b[3];if(b[2]===">=")return{afterOrOn:d,dayOfWeek:c};else return{beforeOrOn:d,dayOfWeek:c}}else if(b=/^last(\w\w\w)$/.exec(a))return{lastDayOfWeek:j.indexOf(b[1])};else if(b=/^\d+$/.exec(a))return{dayOfMonth:+b[0]};else g(0,2938,a)}function l(a,c){var d=b("Instant").wholeYearRangeInYears.since;for(var e=0;e<a.length;e++){var f=a[e];if(f.years[0]<c)if(c<=f.years[1])return c-1;else d=Math.max(d,f.years[1]-1)}return d}function m(a,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=[Math.max(f.years[0],c[0]),Math.min(f.years[1],c[1])];for(var h=g[0];h<g[1];h++){var i=k(f.day,h,f.month),j=f.month;f.day.afterOrOn!=null&&i<f.day.afterOrOn&&j++;j=b("LocalDate").create(h,j,i).toInstant(b("Timezone").UTC);d.push({rule:f,utcMidnight:j})}}d.sort(function(a,b){return a.utcMidnight-b.utcMidnight});return d}function n(a,c){var d=b("BinarySearch").leastUpperBound(function(b){var d=a-(c[b].offset-c[b].dstOffset);if(d<c[b].start)return 1;else if(c[b].start<=d&&d<c[b+1].start)return 0;else return-1},0,0,c.length-1,function(a,b){return a-b});0<=d&&d<c.length-1||g(0,2939,a);return a-(c[d].offset-c[d].dstOffset)}function o(a,c,d,e){var f;d.at.type==="wall"?f=b("Instant").getParallelUsingTransitions(e+d.at.time-1,a)+1:d.at.type==="standard"?f=n(e+d.at.time-1,a)+1:d.at.type==="utc"?f=e+d.at.time:g(0,797);return{start:f,offset:c+d.dstOffset,dstOffset:d.dstOffset}}function p(a,b){var c=a.pop(),d=a[a.length-1];d.start===b.start?(a.pop(),a.push(b)):d.start<b.start&&b.start<c.start&&a.push(b);a.push(c)}function q(a,c,d,e){var f=function(b){return o(a,c,b.rule,b.utcMidnight)},g=[l(d,b("LocalDate").fromInstant(e[0],b("Timezone").UTC).floor("year").year),b("LocalDate").fromInstant(e[1],b("Timezone").UTC).ceil("year").year];d=m(d,g);for(g=0;g<d.length;g++)if(e[0]<f(d[g]).start)break;g=g-1;var h=g!==-1?d[g].rule.dstOffset:0;h={start:e[0],offset:c+h,dstOffset:h};p(a,h);for(var h=g+1;h<d.length;h++){g=f(d[h]);if(e[1]<=g.start)break;p(a,g)}}function r(a,c,d,e){var f=b("nullthrows")(a.records);f[0].interval[0]<=d[0]&&d[1]<=f[f.length-1].interval[1]||g(0,2940);if(e==null){a=r(a,c,[d[0]-365*24*3600,d[0]],0);a=a[a.length-2].dstOffset}else a=e;e=f.filter(function(a){return d[0]<a.interval[1]&&a.interval[0]<d[1]});f=[{start:b("Instant").range.since,offset:e[0].offset,dstOffset:a},{start:b("Instant").range.until,offset:NaN,dstOffset:NaN}];for(var a=e,e=Array.isArray(a),h=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;i.ruleSetID!=null?q(f,i.offset,c(i.ruleSetID).rules,[Math.max(d[0],i.interval[0]),Math.min(d[1],i.interval[1])]):p(f,{start:i.interval[0],offset:i.offset+b("nullthrows")(i.dstOffset),dstOffset:b("nullthrows")(i.dstOffset)})}s(f,d);return f}function d(a,b,c){a=r(a,b,c,void 0);return t(a)}function s(a,c){var d=b("BinarySearch").greatestLowerBound(function(b){return a[b].start},c[0],0,a.length,function(a,b){return a-b});0<=d||g(0,2941,a[0].start,a[a.length-1].start,c[0],c[1]);a.splice(0,d+1,babelHelpers["extends"]({},a[d],{start:c[0]}));d=b("BinarySearch").leastUpperBound(function(b){return a[b].start},c[1],0,a.length,function(a,b){return a-b});d<a.length||g(0,2942,a[0].start,a[a.length-1].start,c[0],c[1]);a.splice(d,a.length-d,{start:c[1],offset:NaN,dstOffset:NaN})}function t(a){var b=[],c=a[0].offset;b.push(a[0]);for(var d=1;d<a.length-1;d++){var e=a[d];!isNaN(e.offset)&&e.offset!==c&&(c=e.offset,b.push(e))}b.push(a[a.length-1]);return b}}),null);
__d("TimezoneDatabase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){a===void 0&&(a=new Map()),b===void 0&&(b=new Map()),this.zones=a,this.ruleSets=b,this.version=c,this.years=d}var b=a.prototype;b.set=function(b){var c=b.version;return new a(b.zones||this.zones,b.ruleSets||this.ruleSets,c!=null&&c!=""?c:this.version,b.years||this.years)};return a}();e.exports=a}),null);
__d("TimezoneRulesModuleParser",["Instant","TimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f){"use strict";f.extractTimeType=h;f.parseRule=i;f.parseRuleSet=j;f.parseZoneRecord=k;f.parseZone=l;f.parse=a;var g=function(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c};function h(a){if(a.endsWith("u"))return{timeString:a.substring(0,a.length-1),timeType:"utc"};else if(a.endsWith("s"))return{timeString:a.substring(0,a.length-1),timeType:"standard"};else return{timeString:a,timeType:"wall"}}function i(a){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4];a=a[5];c=+c;g=h(g);var i=g.timeType;g=g.timeString;return{years:[c,d==="-"?b("Instant").wholeYearRangeInYears.until:c+ +d],month:+e,day:b("TimezoneDatabaseUtil").parseDayExpr(f),at:{type:i,time:b("TimezoneDatabaseUtil").parseOffset(g)},dstOffset:b("TimezoneDatabaseUtil").parseOffset(a)}}function j(a,b){a=a.split(" ");a=g(a,6).map(i);return{id:b,rules:a,name:void 0}}function k(a){var c=a[0],d=a[1];a=a[2];var e,f;d==="-"?(e=void 0,f=0):d.startsWith("dst:")?(e=void 0,f=b("TimezoneDatabaseUtil").parseOffset(d.substring(4))):(e=+d,f=void 0);d=[NaN,a!=="-"?+a:b("Instant").wholeYearRange.until];return{offset:b("TimezoneDatabaseUtil").parseOffset(c),ruleSetID:e,interval:d,dstOffset:f}}function l(a,c){if(typeof a==="string"){var d=a.split(" ");d=g(d,3).map(k);d[0].interval[0]=b("Instant").range.since;for(var e=1;e<d.length;e++)d[e].interval[0]=d[e-1].interval[1];return{id:c,linkTo:void 0,records:d,name:void 0}}else return{id:c,linkTo:a,records:null,name:void 0}}function a(a){var c=new Map();a.zones.forEach(function(a,b){a=l(a,+b);c.set(a.id,a)});var d=new Map();a.ruleSets.forEach(function(a,b){a=j(a,+b);d.set(a.id,a)});return new(b("TimezoneDatabase"))(c,d,a.version,[a.fromYear,b("Instant").wholeYearRangeInYears.until])}}),null);
__d("WorkChatBulkUpdatePinnedThreadsMutation",["ClientIDs","CurrentUser","MercuryIDs","RelayFBEnvironment","RelayModern","Timezone","TimezoneNamesData","WorkChatBulkUpdatePinnedThreadsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g;b("Timezone").registerNamesModule(b("TimezoneNamesData"));var h=g!==void 0?g:g=b("WorkChatBulkUpdatePinnedThreadsMutation.graphql");function a(a){var c=a.threadIDs,d=a.source,e=a.onCompleted;a=a.onError;c=c.map(function(a){return{thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),update_type:"MARK_PINNED"}});return b("RelayModern").commitMutation(b("RelayFBEnvironment"),{mutation:h,variables:{input:{client_mutation_id:b("ClientIDs").getNewClientID(),actor_id:b("CurrentUser").getID(),threads_pin_status:c,source:d}},onCompleted:e,onError:a})}}),null);
__d("XChatRemoveParticipantAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/remove_participants/",{elem_id:{type:"String"},uid:{type:"Int"},tid:{type:"String"}})}),null);
__d("XGroupsJoinChatController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/join_chat/",{link_hash:{type:"String"}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/block_messages/",{privacy_mutation_token:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughHashController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_hash/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughPrivateLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_invite/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinableAcceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_accept/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupJoinableRejectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_reject/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingJoinableLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_link_action/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_admins/",{thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingSaveGroupThreadDescriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_group_thread_description/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSetThreadNameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_name/",{})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/ignore_messages/",{thread_fbid:{type:"Int",required:!0},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/block_messages/",{thread_fbid:{type:"Int",required:!0},responsible_id:{type:"Int"},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},entry_point:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){h(0,2095)}a.withParams=function(a,b){h(0,2095)};a._=function(a,b,c,d){b=b(g);c=c(g,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};b=a;e.exports=b}),null);
__d("MercuryThreadActions",["codedError","cssVar","fbt","invariant","AsyncDialog","AsyncRequest","AsyncResponse","Bootloader","CurrentUser","EmojiLikeConstants","IgnoreMessagesTypedLogger","JSResource","MercuryAPIArgsSource","MercuryDispatcher","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryMessengerBlockingUtils","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadlistConstants","MercuryViewer","MessagingTag","MessengerConfig","MessengerEmojiTransitionMapping.bs","MessengerParticipants.bs","MessengerState.re","MessengerThreadThemeUpdateWebGraphQLMutation","NFXContextFactory","PageCommItemStatus","ReloadPage","URI","WebGraphQL","WorkChatBulkUpdatePinnedThreadsMutation","XChatRemoveParticipantAsyncController","XGroupsJoinChatController","XMessagingBlockMessagesController","XMessagingGroupJoinThroughHashController","XMessagingGroupJoinThroughPrivateLinkController","XMessagingGroupJoinableAcceptController","XMessagingGroupJoinableRejectController","XMessagingGroupSetApprovalController","XMessagingJoinableLinkController","XMessagingSaveAdminsController","XMessagingSaveGroupThreadDescriptionController","XMessagingSaveNicknameController","XMessagingSaveThreadColorController","XMessagingSaveThreadEmojiController","XMessagingSetThreadNameController","XMessagingUnblockMessagesController","XNFXIgnoreMessagesActionController","XNFXMessengerBlockActionController","err","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=k||b("react"),n=b("lazyLoadComponent")(b("JSResource")("MessengerSimpleDialogReact").__setRef("MercuryThreadActions"));a=function(){function a(a){var c=this;this.batchMarkRead=function(a,b){c.__dispatcher.handleUpdate(c.$2(a,!0,b))};this.batchMarkUnread=function(a,b){c.__dispatcher.handleUpdate(c.$2(a,!1,b))};this.batchArchive=function(a,b){a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!0,b)}),c.__dispatcher.handleUpdate(c.$3(a,!0))};this.batchUnarchive=function(a,b){a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!1,b)}),c.__dispatcher.handleUpdate(c.$3(a,!1))};this.batchMarkSpam=function(a,d){a.forEach(function(a){c.__serverRequests.markThreadSpam(a,d)}),c.__dispatcher.handleUpdate(c.$9(a,b("MessagingTag").SPAM))};this.batchUnmarkSpam=function(a,d){a.forEach(function(a){c.__serverRequests.unmarkThreadSpam(a,d)}),c.__dispatcher.handleUpdate(c.$9(a,b("MessagingTag").INBOX))};this.$1=a;this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1);this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1);this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.__mercuryThreadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1);this.__messageActions=b("MercuryMessageActions").getForFBID(this.$1);this.__messageObject=b("MercuryMessageObject").getForFBID(this.$1)}a.getForFBID=function(a){return o.getForFBID(a)};a.get=function(){return o.get()};var c=a.prototype;c.markRead=function(a,b){this.batchMarkRead([a],b)};c.markUnread=function(a,b){this.batchMarkUnread([a],b)};c.markSeen=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:mark_thread_seen","client_mark_thread_seen",{persistent:b}))};c.archive=function(a,b){this.batchArchive([a],b)};c.unarchive=function(a,b){this.batchUnarchive([a],b)};c.pin=function(a,c,d){var e=b("MessengerState.re").getPinnedThreadlist(b("CurrentUser").getID()),f=b("CurrentUser").isWorkUser(),h=f?b("MercuryThreadlistConstants").MAX_PINNED_THREADS:b("MessengerConfig").MPT;e=e.length>=h;if(e){e=g._(1545078,function(a){return a._("Impossible d\u2019\u00e9pingler la discussion")},function(a,b){return a._("Vous pouvez \u00e9pingler jusqu\u2019\u00e0 {max_threads} discussions. Pour \u00e9pingler cette discussion, d\u00e9tachez-en une autre et r\u00e9essayez.",[a._param("max_threads",b.max_threads)])},{max_threads:h});var j=f?i._("Vous ne pouvez plus \u00e9pingler de discussions"):e.summary,k=f?i._("Vous ne pouvez pas \u00e9pingler plus de 15 discussions sur Workplace. Pour \u00e9pingler celle-ci, essayez d\u2019en d\u00e9tacher une autre."):e.description;b("Bootloader").loadModules(["MessengerDialogs.bs"],function(a){a.showDialog(function(){return m.jsx(m.Suspense,{fallback:m.jsx("div",{}),children:m.jsx(n,{title:j,body:k})})})},"MercuryThreadActions")}else this.batchPin([a],d),this.$4(a,!0,c)};c.batchPin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$5(a,!0))};c.unpin=function(a,b,c){b===void 0&&(b=null),this.batchUnpin([a],c),this.$4(a,!1,b)};c.batchUnpin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$5(a,!1))};c.bulkPinThreadsUpdate=function(a,c){b("WorkChatBulkUpdatePinnedThreadsMutation").commit({threadIDs:a,source:c}),this.__dispatcher.handleUpdate(this.$5(a,!0))};c.pinMessage=function(a,b){this.__dispatcher.handleUpdate(this.$6(a,b))};c.unpinMessage=function(a,b){this.__dispatcher.handleUpdate(this.$7(a,b))};c.markPageFollowUp=function(a,b){this.batchMarkPageFollowUp([a],b)};c.batchMarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$8(a,!0))};c.unmarkPageFollowUp=function(a,b){this.batchUnmarkPageFollowUp([a],b)};c.batchUnmarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$8(a,!1))};c.markSpam=function(a,b){this.batchMarkSpam([a],b)};c.unmarkSpam=function(a,b){this.batchUnmarkSpam([a],b)};c.changeFolder=function(a,b){this.batchChangeFolder([a],b)};c.batchChangeFolder=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadFolder(a,b)});this.__dispatcher.handleUpdate(this.$9(a,b))};c["delete"]=function(a,b){this.batchDelete([a],b)};c.batchDelete=function(a,b){this.__serverRequests.deleteThreads(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload(a,"ma-type:delete-thread","client_delete_thread"))};c.unmute=function(a){this.updateMuteSetting(a,0)};c.updateMuteSetting=function(a,b){this.__serverRequests.changeMutingOnThread(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{mute_until:b}))};c.updateMentionsMuteSetting=function(a,b){b=b?1:0;this.__serverRequests.changeMentionsMutingOnThread(a,b);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{mentions_mute_mode:b}))};c.updateReactionsMuteSetting=function(a,b){b=b?1:0;this.__serverRequests.changeReactionsMutingOnThread(a,b);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{reactions_mute_mode:b}))};c.blockMessagesForGroupThread=function(a,c,d,e){var f=b("MercuryIDs").getUserIDFromParticipantID(c);this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a=b("XNFXMessengerBlockActionController").getURIBuilder().setEnum("entry_point",d).setEnum("location","www_chat_head").setInt("thread_fbid",a).setInt("responsible_id",f).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(e),function(a){a.subscribe("confirm",function(){a.hide()})})})};c.blockMessages=function(a,c,d){var e=this,f="",g=b("MercuryIDs").getUserIDFromThreadID(a);g!=null||j(0,400);var h=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(g));f=h&&h.short_name;h=b("XNFXMessengerBlockActionController").getURIBuilder().setInt("thread_fbid",g).setEnum("entry_point",c).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(h),function(c){c.subscribe("confirm",function(){c.hide(),d&&d(f),e.changeFolder(a,b("MessagingTag").OTHER)})})};c.unblockMessages=function(a,c){var d=this;c==null&&(c=b("MercuryIDs").getUserIDFromThreadID(a));if(c===null)throw b("err")("Expected user ID to unblock messages for, got null");c=b("NFXContextFactory").withEntReportable({reportable_ent_token:c,story_location:"messenger",initial_action_name:b("MercuryMessengerBlockingUtils").block_messages});new(b("AsyncRequest"))(new(l||(l=b("URI")))("/ajax/nfx/messenger_undo_block").addQueryData({context:c})).setHandler(function(){return d.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.ignoreMessages=function(a){a=b("XNFXIgnoreMessagesActionController").getURIBuilder().setInt("thread_fbid",a).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))};c.blockOnMessengerDotCom=function(a){var c=b("XMessagingBlockMessagesController").getURIBuilder().getURI();new(b("IgnoreMessagesTypedLogger"))().setEvent("block_confirmed").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform("messengerdotcom").log();new(b("AsyncRequest"))(c).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).send()};c.blockIgnoreOnMessengerDotCom=function(a,c,d){var e=this;b("Bootloader").loadModules(["MessengerActions"],function(b){a&&b.selectThread(c),e.blockOnMessengerDotCom(c),d&&d()},"MercuryThreadActions")};c.unblockOnMessengerDotCom=function(a){var c=this,d=b("XMessagingUnblockMessagesController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(){return c.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.leaveGroup=function(a){this.__messageActions.send(this.__messageObject.constructLogMessageObject("source:titan:web",a,"log:unsubscribe",{removed_participants:[b("MercuryViewer").getID()]}),null,b("MercuryAPIArgsSource").WEBMESSENGER)};c.removeFromGroup=function(a,c){var d=b("XChatRemoveParticipantAsyncController").getURIBuilder().getURI();a={request_user_id:this.$1,tid:a,uid:c};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).send()};c.changeThreadTheme=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){b("WebGraphQL").exec(new(b("MessengerThreadThemeUpdateWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:e.$1,thread_id:a,theme_id:c,source:d}}))})};c.changeThreadColor=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_or_other_fbid:a,color_choice:c!="#0084ff"?c:null};var f=b("XMessagingSaveThreadColorController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeThreadEmoji=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_or_other_fbid:a,emoji_choice:void 0};var f=String.fromCodePoint.apply(String,c);b("MessengerEmojiTransitionMapping.bs").hasGender(c)&&(f=String.fromCodePoint.apply(String,b("MessengerEmojiTransitionMapping.bs").removeAllModifiers(c)));f!==String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI)&&f!==String.fromCodePoint.apply(String,b("EmojiLikeConstants").THUMBS_UP_EMOJI_CODES)&&(a.emoji_choice=f);f=b("XMessagingSaveThreadEmojiController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeThreadNicknames=function(a,c,d,e){var f=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:f.$1,thread_or_other_fbid:a,participant_id:c,nickname:d};var g=b("XMessagingSaveNicknameController").getURIBuilder().setEnum("source",e).getURI();new(b("AsyncRequest"))(g).setMethod("POST").setData(a).send()})};c.changeGroupThreadDescription=function(a,c,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_fbid:a,description:c};var f=b("XMessagingSaveGroupThreadDescriptionController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeGroupThreadName=function(a,c){var d=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:d.$1,thread_id:a,thread_name:c};var e=b("XMessagingSetThreadNameController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).send()})};c.setApprovalMode=function(a,c){var d=b("XMessagingGroupSetApprovalController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({request_user_id:this.$1,set_mode:a,thread_fbid:c.thread_fbid}).send()};c.changeGroupAdmins=function(a,c,d){a={request_user_id:this.$1,thread_fbid:a,admin_ids:c,add:d};c=b("XMessagingSaveAdminsController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.joinThroughHash=function(a,c,d){a={request_user_id:this.$1,link_hash:a};var e=b("XMessagingGroupJoinThroughHashController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).setHandler(function(){return c()}).setErrorHandler(function(a){d()||b("AsyncResponse").defaultErrorHandler(a)}).setTransportErrorHandler(function(){d()}).send()};c.joinThroughPrivateLink=function(a){a={request_user_id:this.$1,link_hash:a};var c=b("XMessagingGroupJoinThroughPrivateLinkController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.chatJoinThroughHash=function(a,c){a={request_user_id:this.$1,link_hash:a};var d=b("XGroupsJoinChatController").getURIBuilder().getURI(),e=function(){return b("ReloadPage").now()};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).setHandler(c&&typeof c==="function"?c:e).send()};c.createJoinableLink=function(a,c){var d=this;if(b("MessengerState.re").isEmptyLocalThread(b("CurrentUser").getID(),a))return;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:d.$1,thread_fbid:a};var e=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action","create_link").getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).setHandler(function(a){a=a.getPayload();a&&c(a)}).send()})};c.revokeAndRegenerateJoinableLink=function(a,c){var d=this;if(b("MessengerState.re").isEmptyLocalThread(b("CurrentUser").getID(),a))return;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(e){e={request_user_id:d.$1,thread_fbid:e};var f=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action","revoke_link").getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(e).setHandler(function(b){return d.createJoinableLink(a,c)}).send()})};c.acceptToJoinableGroup=function(a,c){a={request_user_id:this.$1,thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableAcceptController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.rejectToJoinableGroup=function(a,c){a={request_user_id:this.$1,thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableRejectController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.addParticipants=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:add-participants","client_add_participants",{participants:b}))};c.movePendingToInbox=function(a){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:move_pending_to_inbox","client_move_pending_to_inbox"))};c.updateCommStatus=function(a,c){this.__dispatcher.handleUpdate(this.$10(a,c));c=c===b("PageCommItemStatus").DONE;this.__dispatcher.handleUpdate(this.$3(a,c))};c.updateCommItemOwner=function(a,b,c,d){this.__dispatcher.handleUpdate(this.$11(a,b,c,d))};c.$2=function(a,b,c){return this.__constructClientPayload(a,"ma-type:change_read_status","client_change_read_status",{mark_as_read:b,source:c,timestamp:0})};c.$11=function(a,b,c,d){return this.__constructClientPayload(a,"ma-type:update-comm-item-owner","client_update_comm_item_owner",{id:c,name:b,profile_pic_uri:d})};c.$3=function(a,b){return this.__constructClientPayload(a,"ma-type:change-archived-status","client_change-archived_status",{archived:b})};c.$5=function(a,b){return this.__constructClientPayload(a,"ma-type:change-pinned-status","client_change-pinned_status",{is_pinned:b,thread_pin_timestamp:Math.floor(Date.now()/1e3)})};c.$6=function(a,b){return this.__constructClientPayload([a],"ma-type:pin-message","server_change-pinned_messages",{pin_message_action:{message:b}})};c.$7=function(a,b){return this.__constructClientPayload([a],"ma-type:unpin-message","server_change-pinned_messages",{unpin_message_action:{message_id:b}})};c.$8=function(a,b){return this.__constructClientPayload(a,"ma-type:change-page-follow-up-status","client_change_page_follow_up_status",{is_page_follow_up:b})};c.$10=function(a,b){return this.__constructClientPayload(a,"ma-type:update-comm-status","client_update_comm_status",{comm_status:b})};c.$9=function(a,b){return this.__constructClientPayload(a,"ma-type:change-folder","client_change_folder",{new_folder:b})};c.__constructClientPayload=function(a,b,c,d){return{actions:a.map(function(a){return babelHelpers["extends"]({action_type:b,thread_id:a},d)}),from_client:!0,payload_source:c}};c.$4=function(a,c,d){b("Bootloader").loadModules(["ChatPinnedThreadsTypedLogger","ChatPinnedThreadsEvent"],function(e,f){new e().setEvent(c?f.PIN_THREAD:f.UNPIN_THREAD).setIsWorkplace(b("CurrentUser").isWorkUser()).setThreadID(a).setEntryPoint(d).log()},"MercuryThreadActions")};return a}();e.exports=a;var o=new(b("MercurySingletonProvider"))(a)}),null);
__d("WorkplaceMSSendOrRemoveReaction.bs",["CurrentUser","MWChatReactionsAction.bs","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MercuryThreadActions","MessengerState.bs","ODS","bs_curry","useMWChatMessageReactionMutation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useMWChatMessageReactionMutation")(),d=b("MWChatThreadId.bs").getMercuryID(b("MWThread_DEPRECATED.bs").useIdExn(void 0));return function(a,e,f){b("ODS").bumpEntityKey(3185,"mwchat_send","change_reaction");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);b("MercuryThreadActions").get().markRead(d);b("MercuryThreadActions").get().markSeen(d);return b("bs_curry")._3(c,a,e,f?b("MWChatReactionsAction.bs").Action.remove:b("MWChatReactionsAction.bs").Action.add)}}f.useSendOrRemoveReaction=a}),null);
__d("bs_js_null",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===null}function c(a){if(a!==null)return a;throw new Error("Js.Null.getExn")}function d(a,b){if(a!==null)return b(a);else return null}function e(a,b){if(a!==null)return b(a)}function g(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return null}var h=g;f.test=a;f.getExn=c;f.bind=d;f.iter=e;f.fromOption=g;f.from_opt=h}),null);
__d("WorkplaceMSStartPhoneCall.bs",["CurrentUser","MWChatThreadId.bs","MWThread_DEPRECATED.bs","MessagingThreadType","MessengerState.bs","bs_belt_Map","bs_caml_option","bs_js_null","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_js_null").fromOption(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(c).rtc_call_data)):null,e=b("useRTWebCometStartCallCallback")(),f=typeof a==="string"||a.NAME!=="Group"?b("MessagingThreadType").ONE_TO_ONE:b("MessagingThreadType").GROUP;c=h.useCallback(function(a){return function(b,c){return e({existingCall:d,mediaType:a?"video":"audio",thread:{id:b,type:f},trigger:c})}},[e,f,d]);var g;if(d!==null){a=d.call_state;if(a==null)g=void 0;else switch(a){case"AUDIO_GROUP_CALL":g=1;break;case"VIDEO_GROUP_CALL":g=0;break;default:g=void 0}}else g=void 0;return[c,g]}f.useMakeRTCCall=a}),null);
__d("WorkplaceMSOpenStaticLocationDialog.bs",["Actor.re","JSResource","MessengerState.bs","bs_caml_array","bs_caml_option","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("WorkplaceMSOpenStaticLocationDialog.bs"));var c=a[0];a=b("Actor.re").useActor();var d=a[0];return h.useCallback(function(a){a=b("MessengerState.bs").getMessageFromID(d,a);var e;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).attachments;if(a==null||a.length===0)e="";else{a=a[0];a=a.share;if(a==null)e="";else{a=a.media;if(a==null)e="";else{a=a.image;e=a==null?"":a}}}}else e="";a=b("bs_caml_array").get(e.split("markers="),1);e=b("bs_caml_array").get(a.split("%2C"),0);a=b("bs_caml_array").get(b("bs_caml_array").get(a.split("%2C"),1).split("&"),0);return c({latitude:e,longitude:a},function(a){})})}f.useHook=a}),null);
__d("WorkplaceMSUnsendMessage.bs",["CurrentUser","MessengerState.bs","ODS","bs_curry","react","useMessengerGlobalRemoveMessageMutation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useMessengerGlobalRemoveMessageMutation")();return h.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","remove_glo");a=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);b("bs_curry")._1(c,{messageID:a})},[c])}f.useUnsendMessage=a}),null);
__d("WorkPlatformTabContainerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4018282364882108",metadata:{},name:"WorkPlatformTabContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("WorkGalahadProfileTabContainerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4159372710762689",metadata:{},name:"WorkGalahadProfileTabContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("WorkGalahadVariantDisableMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DisableWorkGalahadVariantV2ResponsePayload",kind:"LinkedField",name:"disable_work_galahad_variant_v2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkGalahadVariantDisableMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkGalahadVariantDisableMutation",selections:b},params:{id:"3047532502009819",metadata:{},name:"WorkGalahadVariantDisableMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("WorkGalahadVariantEnableMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"EnableWorkGalahadVariantV2ResponsePayload",kind:"LinkedField",name:"enable_work_galahad_variant_v2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkGalahadVariantEnableMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkGalahadVariantEnableMutation",selections:b},params:{id:"1814266225364496",metadata:{},name:"WorkGalahadVariantEnableMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GeminiRouteContext",["ContextWithSelector"],(function(a,b,c,d,e,f){"use strict";a=b("ContextWithSelector").createContextWithSelector();e.exports=a}),null);
__d("GeminiRouterFocusRegion.react",["CometRouterFocusRegion.react","FocusRegion.react","WorkGalahadNotificationMatcherComet","focusScopeQueries","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=[b("focusScopeQueries").topLoadingScopeQuery].concat(b("focusScopeQueries").headerFirstTabbableSecondScopeQuery);function a(a){a=a.children;var c=b("WorkGalahadNotificationMatcherComet").useIsShowingNotification();c=b("gkx")("1756645")&&c;return h.jsx(b("CometRouterFocusRegion.react"),{autoFocusQuery:c?i:null,children:h.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:c?i:b("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:a})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadVariantDisableMutation",["CometRelay","WorkGalahadVariantDisableMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("WorkGalahadVariantDisableMutation.graphql");function a(a,c){var d=c.onCompleted,e=c.onError,f=c.optimisticUpdater;c=c.input;return b("CometRelay").commitMutation(a,{mutation:h,optimisticUpdater:f,onError:e,onCompleted:d,variables:{input:c}})}}),null);
__d("WorkGalahadVariantEnableMutation",["CometRelay","WorkGalahadVariantEnableMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("WorkGalahadVariantEnableMutation.graphql");function a(a,c){var d=c.onCompleted,e=c.onError,f=c.optimisticUpdater;c=c.input;return b("CometRelay").commitMutation(a,{mutation:h,optimisticUpdater:f,onError:e,onCompleted:d,variables:{input:c}})}}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){e.exports=b;function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}}),null);
__d("WorkGalahadVariantState.react",["CometRelay","SiteData","WorkGalahadVariantDisableMutation","WorkGalahadVariantEnableMutation","WorkGalahadVariantSetting","dispatchEvent","gkx","nullthrows","react","usePrevious"],(function(a,b,c,d,e,f){"use strict";f.Provider=a;f.useWorkGalahadVariant=c;f.useWorkGalahadVariantToggler=d;var g,h=g||b("react"),i=new Map([["hasSMB","SMB"],["hasChatFirst","CHAT_FIRST"],["hasSimplification","SIMPLIFICATION"],["hasRiverKnight","RIVER_KNIGHT"],["hasDenseThreadlist","DENSE_THREADLIST"],["hasGemini","GEMINI"],["hasChatBubbleless","CHAT_BUBBLELESS"],["hasChatless","CHATLESS"],["hasLightSpeed","LIGHTSPEED_ON_WEB"],["rhcFeedCollapsed","RHC_COLLAPSE_FEED"],["rhcGroupCollapsed","RHC_COLLAPSE_GROUP"],["rhcChatCollapsed","RHC_COLLAPSE_CHAT"],["rhcGroupChatLinkedCollapsed","RHC_COLLAPSE_GROUP_CHAT_LINKED"],["rhcProfileCollapsed","RHC_COLLAPSE_PROFILE"],["rhcNextCollapsed","RHC_COLLAPSE_NEXT"],["rhcKnowledgeCollapsed","RHC_COLLAPSE_KNOWLEDGE"],["rhcEventCollapsed","RHC_COLLAPSE_EVENT"],["rhcHelpdeskCollapsed","RHC_COLLAPSE_HELPDESK"],["rhcWhatsNewCollapsed","RHC_COLLAPSE_WHATS_NEW"],["rhcDeviceLoginCollapsed","RHC_COLLAPSE_DEVICE_LOGIN"],["rhcInterviewToolsMarketplaceCollapsed","RHC_COLLAPSE_INTERVIEW_MKTPLACE"],["rhcHashtagCollapsed","RHC_COLLAPSE_HASHTAG"],["rhcApprovalsCollapsed","RHC_COLLAPSE_APPROVALS"]]),j=h.createContext({hasChatFirst:!1,hasSMB:!1,hasSimplification:!1,hasRiverKnight:!1,hasSkinnyNav:!1,hasDenseThreadlist:!1,hasGemini:!1,hasChatBubbleless:!1,hasChatless:!1,hasLightSpeed:!1,rhcFeedCollapsed:!1,rhcGroupCollapsed:!1,rhcChatCollapsed:!1,rhcGroupChatLinkedCollapsed:!1,rhcProfileCollapsed:!1,rhcNextCollapsed:!1,rhcKnowledgeCollapsed:!1,rhcEventCollapsed:!1,rhcHelpdeskCollapsed:!1,rhcWhatsNewCollapsed:!1,rhcDeviceLoginCollapsed:!1,rhcHashtagCollapsed:!1,rhcInterviewToolsMarketplaceCollapsed:!1,rhcApprovalsCollapsed:!1});f.WorkGalahadVariantContext=j;var k=h.createContext(function(){}),l=["GEMINI","SMB","CHAT_FIRST","SIMPLIFICATION","CHAT_BUBBLELESS","CHATLESS","LIGHTSPEED_ON_WEB"],m={rhcFeedCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_feed==="ENABLED",rhcGroupCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_group==="ENABLED",rhcChatCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_chat==="ENABLED",rhcGroupChatLinkedCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_group_chat_linked==="ENABLED",rhcProfileCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_profile==="ENABLED",rhcNextCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_next==="ENABLED",rhcKnowledgeCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_knowledge==="ENABLED",rhcEventCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_event==="ENABLED",rhcHelpdeskCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_helpdesk==="ENABLED",rhcWhatsNewCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_whats_new==="ENABLED",rhcDeviceLoginCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_device_login==="ENABLED",rhcHashtagCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_hashtag==="ENABLED",rhcInterviewToolsMarketplaceCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_interview_mktplace==="ENABLED",rhcApprovalsCollapsed:b("WorkGalahadVariantSetting").rhc_collapse_approvals==="ENABLED"};function a(a){a=a.children;var c=h.useState(babelHelpers["extends"]({hasSMB:b("WorkGalahadVariantSetting").smb==="ENABLED",hasChatFirst:b("WorkGalahadVariantSetting").chat_first==="ENABLED",hasSimplification:b("WorkGalahadVariantSetting").simplification==="ENABLED",hasRiverKnight:b("WorkGalahadVariantSetting").river_knight==="ENABLED"||b("WorkGalahadVariantSetting").river_knight==="DEFAULT",hasSkinnyNav:b("gkx")("1088254"),hasDenseThreadlist:b("WorkGalahadVariantSetting").dense_threadlist==="ENABLED",hasGemini:b("WorkGalahadVariantSetting").gemini==="ENABLED"&&!b("SiteData").force_blue,hasChatBubbleless:b("WorkGalahadVariantSetting").chat_bubbleless==="ENABLED",hasChatless:b("WorkGalahadVariantSetting").chatless==="ENABLED",hasLightSpeed:b("WorkGalahadVariantSetting").lightspeed_on_web==="ENABLED"},m)),d=c[0],e=c[1];c=h.useState({});var f=c[0],g=c[1],n=b("CometRelay").useRelayEnvironment(),o=b("usePrevious")(d.hasRiverKnight);h.useEffect(function(){o!=null&&o!=d.hasRiverKnight&&b("dispatchEvent")(window.document,"resize")},[d.hasRiverKnight,o]);c=h.useCallback(function(a,c){if(i.has(a)&&f[a]!=!0){g(function(b){b[a]=!0;return b});var h=d[a]?b("WorkGalahadVariantDisableMutation"):b("WorkGalahadVariantEnableMutation");h=h.commit;h(n,{input:{variant:b("nullthrows")(i.get(a)),source:c},onCompleted:function(){g(function(b){b[a]=!1;return b}),l.includes(i.get(a))&&window.location.reload()}})}e(function(b){var c=babelHelpers["extends"]({},b);c[a]=!b[a];return c})},[d,n,f]);return h.jsx(j.Provider,{value:d,children:h.jsx(k.Provider,{value:c,children:a})})}a.displayName=a.name+" [from "+e.id+"]";function c(){return h.useContext(j)}function d(){return h.useContext(k)}}),null);
__d("GeminiLayoutFullWidthModeContext.react",["WorkGalahadVariantState.react"],(function(a,b,c,d,e,f){"use strict";f.useGeminiLayoutUserSettingsFullWidthMode=a;function a(){var a=b("WorkGalahadVariantState.react").useWorkGalahadVariant();a=a.hasRiverKnight;return a!==!0}}),null);
__d("WIGBaseGlimmer.react",["BaseGlimmer.react"],(function(a,b,c,d,e,f){"use strict";a=b("BaseGlimmer.react");e.exports=a}),null);
__d("GeminiLayoutRHCGlimmer.react",["WIGBaseGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a;return h.jsxs("div",{className:"dati1w0a hv4rvrfc pybr56ya",children:[h.jsxs("div",{className:"nzypyw8j",children:[h.jsx(a=b("WIGBaseGlimmer.react"),{className:"nf4m65g7 jnigpg78 ns4ygwem fykbt5ly hgaippwi fni8adji",index:0}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz etr7akla",index:0}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz k6hq67h2",index:0}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz qio8uep8",index:0}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz pnicyljo",index:0})]}),h.jsxs("div",{className:"nzypyw8j",children:[h.jsx(a,{className:"nf4m65g7 jnigpg78 ns4ygwem fykbt5ly hgaippwi fni8adji",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz etr7akla",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz qio8uep8",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz pnicyljo",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz qio8uep8",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz k6hq67h2",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz qio8uep8",index:1}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz pnicyljo",index:1})]}),h.jsxs("div",{className:"nzypyw8j",children:[h.jsx(a,{className:"nf4m65g7 jnigpg78 ns4ygwem fykbt5ly hgaippwi fni8adji",index:2}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz etr7akla",index:2}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz qio8uep8",index:2}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz k6hq67h2",index:2}),h.jsx(a,{className:"kv0toi1t j6sty90h jos75b7i t0qjyqq4 cyypbtt7 n1l5q3vz etr7akla",index:2})]})]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutTabTitleState.react",["emptyFunction","react"],(function(a,b,c,d,e,f){"use strict";f.Provider=a;var g,h=g||b("react");c={setActiveTabTitle:b("emptyFunction"),tabTitle:void 0};var i=h.createContext(c);i.displayName="GeminiLayoutTabTitleContext";function a(a){a=a.children;var b=h.useState(void 0),c=b[0],d=b[1];b=h.useMemo(function(){return{tabTitle:c,setActiveTabTitle:d}},[c,d]);return h.jsx(i.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+e.id+"]";d=function(){return h.useContext(i)};f.useGeminiLayoutTabTitleState=d}),null);
__d("WIGHeadingContextWrapper.react",["BaseHeadingContextWrapper.react"],(function(a,b,c,d,e,f){"use strict";a=b("BaseHeadingContextWrapper.react");e.exports=a}),null);
__d("WorkGalahadHoverHelper",["react"],(function(a,b,c,d,e,f){"use strict";f.useHover=a;var g,h=g||b("react");function a(a){var b=h.useState(!1),c=b[0],d=b[1];b=h.useCallback(function(){a&&a(),d(!0)},[a]);var e=h.useCallback(function(){return d(!1)},[]);return[c,{onMouseEnter:b,onMouseLeave:e}]}}),null);
__d("WorkGalahadColumnCollapseButton.react",["ix","Locale","WIGIcon.react","WIGPressable.react","WIGTooltip.react","WorkGalahadHoverHelper","fbicon","react","stylex","testID"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k={tooltip:{position:"hal92y33",borderTopStartRadius:"fviam4sw",borderTopEndRadius:"e3xoa9gt",borderBottomEndRadius:"c6boxllp",borderBottomStartRadius:"mukvf3dn"},hidden:{display:"kneyo41z"},button:{borderTopStartRadius:"fviam4sw",borderTopEndRadius:"e3xoa9gt",borderBottomEndRadius:"c6boxllp",borderBottomStartRadius:"mukvf3dn",boxSizing:"tdgv6ycz",height:"ik1wvm6v",width:"rdbp6ao3",display:"mu99tzkh",alignItems:"t36ehdhz",justifyContent:"lhmcu1i6"},bounceLeft:{animationDuration:"a47keark",animationIterationCount:"lvgn8dy0",animationName:"t7r9nscr",animationTimingFunction:"jq18mkrs"},bounceRight:{animationDuration:"a47keark",animationIterationCount:"lvgn8dy0",animationName:"ddk5u6qd",animationTimingFunction:"jq18mkrs"}};function a(a){var c=a.columnPosition,d=a.mode,e=a.onClick,f=a.tooltipMessage,g=a["aria-label"],h=a.visible;a=a.xstyle;var m=b("WorkGalahadHoverHelper").useHover(),n=m[0];m=m[1];var o=b("Locale").isRTL()===(c==="left");o=o===(d==="collapse");d=c==="left"!==(d==="collapse");return j.jsx("div",babelHelpers["extends"]({className:(i||(i=b("stylex")))(k.tooltip,!h&&k.hidden)},b("testID")("galahad-channel-toggle"),{children:j.jsx(b("WIGTooltip.react"),{align:c==="left"?"start":"end",tooltip:f,children:j.jsx(b("WIGPressable.react"),{onHoverIn:m.onMouseEnter,onHoverOut:m.onMouseLeave,xstyle:[k.button,a,n&&(d?k.bounceLeft:k.bounceRight)],onPress:e,"aria-label":g,role:"button",children:j.jsx(b("WIGIcon.react"),{icon:l(o,n),color:n?"secondary":"tertiary"})})})}))}a.displayName=a.name+" [from "+e.id+"]";function l(a,c){if(c)return a?b("fbicon")._(g("665119"),20):b("fbicon")._(g("641698"),20);else return a?b("fbicon")._(g("665122"),20):b("fbicon")._(g("641700"),20)}}),null);
__d("WorkGalahadEntitySidebarState",["emptyFunction","react"],(function(a,b,c,d,e,f){"use strict";f.Provider=a;f.useSidebarState=c;var g,h=g||b("react");d={collapsed:!1,setCollapsed:b("emptyFunction")};var i=h.createContext(d);function a(a){var b=a.children,c=a.collapsed,d=a.setCollapsed;a=h.useMemo(function(){return{collapsed:c,setCollapsed:d}},[c,d]);return h.jsx(i.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+e.id+"]";function c(){return h.useContext(i)}}),null);
__d("WorkGalahadEntitySideColumnToggle.react",["fbt","Locale","WorkGalahadColumnCollapseButton.react","WorkGalahadEntitySidebarState","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k={collapsed:{end:"hoftf8d4"},expanded:{end:"h2h9dzen"},transform:{transform:"mk348m5s"},transformRTL:{transform:"l1u0h1pd"},hidden:{display:"kneyo41z"},root:{position:"i8ovu4tj",top:"olugyfy0"},expandedButtonBackground:{backgroundColor:"po7knmyp"}};function a(a){a=a.hovered;var c=b("WorkGalahadEntitySidebarState").useSidebarState(),d=c.collapsed,e=c.setCollapsed;c=d?g._("Ouvrir le menu"):g._("Fermer le menu");return j.jsx("div",{className:(i||(i=b("stylex")))(k.root,d&&k.collapsed,!d&&k.expanded,!d&&!b("Locale").isRTL()&&k.transform,!d&&b("Locale").isRTL()&&k.transformRTL,!d&&!a&&k.hidden),children:j.jsx(b("WorkGalahadColumnCollapseButton.react"),{xstyle:d?null:k.expandedButtonBackground,columnPosition:"right",mode:d?"expand":"collapse",onClick:function(){return e(!d)},tooltipMessage:c,"aria-label":c,visible:!0},d)})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadNavUIState",["cr:1396015","react"],(function(a,b,c,d,e,f){"use strict";var g;g||b("react");e.exports=b("cr:1396015")}),null);
__d("WorkGalahadPlaceholder.react",["CometPlaceholder.react"],(function(a,b,c,d,e,f){"use strict";a=b("CometPlaceholder.react");e.exports=a}),null);
__d("supportsCSSSticky",[],(function(a,b,c,d,e,f){"use strict";b=((a=window.CSS)==null?void 0:a.supports)&&(window.CSS.supports("position","sticky")||window.CSS.supports("position","-webkit-sticky"));e.exports=b}),null);
__d("useGeminiLayoutChannelMeasureListenerForNonSticky",["ExecutionEnvironment","GeminiLayoutFullWidthModeContext.react","react","requestAnimationFrame","supportsCSSSticky"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("ExecutionEnvironment").canUseDOM?b("supportsCSSSticky"):!0;function a(a,c,d){var e=b("GeminiLayoutFullWidthModeContext.react").useGeminiLayoutUserSettingsFullWidthMode(),f=h.useRef(null),g=h.useRef(null),j=h.useState(function(){return{nav:a,entity:c}}),k=j[0],l=j[1];h.useEffect(function(){if(i)return;var a=function(){var a=f.current!=null?f.current.getBoundingClientRect().width:c,b=g.current!=null?g.current.getBoundingClientRect().width:c;l({nav:a,entity:b})};b("requestAnimationFrame")(a);var d={passive:!0};window.addEventListener("resize",a,d);return function(){window.removeEventListener("resize",a,d)}},[d,c,e,l]);j=d?95:k.nav;return[f,g,j,k.entity]}}),null);
__d("useGeminiLayoutHorizontalScrolling",["ExecutionEnvironment","Scroll","getDocumentScrollElement","react","supportsCSSSticky"],(function(a,b,c,d,e,f){"use strict";f.useGeminiLayoutHorizontalScrollingListener=a;f.useGeminiLayoutHorizontalScrolling=c;var g,h=g||b("react"),i=b("ExecutionEnvironment").canUseDOM?b("supportsCSSSticky"):!0,j=h.createContext(0);function a(){var a=h.useState(0),c=a[0],d=a[1];h.useEffect(function(){if(i)return;var a=function(){var a=b("getDocumentScrollElement")();a=b("Scroll").getLeft(a);d(a)},c={passive:!0};window.addEventListener("scroll",a,c);return function(){window.removeEventListener("scroll",a,c)}},[d]);return c}function c(){return h.useContext(j)}d=j.Provider;f.GeminiLayoutHorizontalScrollingContextProvider=d}),null);
__d("useGeminiLayoutIntersectionObserverForSticky",["BaseScrollableAreaContext","HiddenSubtreePassiveContext","intersectionObserverEntryIsIntersecting","react","useIntersectionObserver"],(function(a,b,c,d,e,f){"use strict";f.useGeminiLayoutIntersectionObserverForSticky=a;f.useGeminiLayoutIsSticky=c;var g,h=g||b("react"),i=h.createContext(!1);function a(a,c){c===void 0&&(c=!1);var d=h.useRef(!1),e=h.useContext(b("HiddenSubtreePassiveContext")),f=h.useContext(b("BaseScrollableAreaContext")),g=f[f.length-1];f=h.useState(c);var i=f[0],j=f[1];c=b("useIntersectionObserver")(h.useCallback(function(a){var c=e.getCurrentState();c=c.hiddenOrBackgrounded;if(c)return;c=!b("intersectionObserverEntryIsIntersecting")(a);d.current!==c&&(c!==i&&j(c),d.current=c)},[e,i]),h.useMemo(function(){return{root:function(){return g!=null?g.getDOMNode():null},rootMargin:{bottom:0,left:0,right:0,top:a-1},threshold:0}},[g,a]));return[c,i]}function c(){return h.useContext(i)}d=i.Provider;f.GeminiLayoutStickyContextProvider=d}),null);
__d("useGeminiLayoutIsFullWidth",["ExecutionEnvironment","GeminiLayoutFullWidthModeContext.react","react","supportsCSSSticky"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("ExecutionEnvironment").canUseDOM?b("supportsCSSSticky"):!0;function a(){var a=b("GeminiLayoutFullWidthModeContext.react").useGeminiLayoutUserSettingsFullWidthMode(),c=h.useState(function(){var a;return(a=window&&window.matchMedia&&window.matchMedia("(min-width: 1921px)").matches)!=null?a:!0}),d=c[0],e=c[1];h.useEffect(function(){if(i)return;var a=window.matchMedia("(min-width: 1921px)"),b=function(a){e(a.matches)};a.addListener(b);return function(){a.removeListener(b)}},[]);return a||!d}}),null);
__d("WorkGalahadSidebarType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["FEED","USER","GROUP","GROUP_CHAT_LINKED","CHAT","NEXT","KNOWLEDGE","EVENT","HELPDESK","WHATS_NEW","DEVICE_LOGIN","HASHTAG","INTERVIEW_TOOLS_MARKETPLACE","APPROVALS"]);c=a;e.exports=c}),null);
__d("useWorkGalahadIsRHCCollapsed",["WebStorage","WorkGalahadSidebarType","WorkGalahadVariantState.react","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j="galahadSidebarToggle",k="collapsed",l="expanded";function m(a){switch(a){case b("WorkGalahadSidebarType").FEED:return"rhcFeedCollapsed";case b("WorkGalahadSidebarType").CHAT:return"rhcChatCollapsed";case b("WorkGalahadSidebarType").GROUP:return"rhcGroupCollapsed";case b("WorkGalahadSidebarType").GROUP_CHAT_LINKED:return"rhcGroupChatLinkedCollapsed";case b("WorkGalahadSidebarType").USER:return"rhcProfileCollapsed";case b("WorkGalahadSidebarType").WHATS_NEW:return"rhcWhatsNewCollapsed";case b("WorkGalahadSidebarType").NEXT:return"rhcNextCollapsed";case b("WorkGalahadSidebarType").HELPDESK:return"rhcHelpdeskCollapsed";case b("WorkGalahadSidebarType").DEVICE_LOGIN:return"rhcDeviceLoginCollapsed";case b("WorkGalahadSidebarType").HASHTAG:return"rhcHashtagCollapsed";case b("WorkGalahadSidebarType").KNOWLEDGE:return"rhcKnowledgeCollapsed";case b("WorkGalahadSidebarType").EVENT:return"rhcEventCollapsed";case b("WorkGalahadSidebarType").INTERVIEW_TOOLS_MARKETPLACE:return"rhcInterviewToolsMarketplaceCollapsed";case b("WorkGalahadSidebarType").APPROVALS:return"rhcApprovalsCollapsed"}}function n(a){var c=b("WorkGalahadVariantState.react").useWorkGalahadVariant(),d=b("WorkGalahadVariantState.react").useWorkGalahadVariantToggler(),e=i.useState(!1),f=e[0],g=e[1];e=a!=null?c[m(a)]:f;c=i.useCallback(function(){a?d(m(a),"RHC"):g(function(a){return!a})},[a,d]);return[e,c]}function o(a){var b=i.useState(function(){return a?p(a):!1}),c=b[0],d=b[1];b=i.useCallback(function(){a&&q(a,!c),d(!c)},[c,a]);return[c,b]}function a(a){if(b("gkx")("1528712"))return n(a);else return o(a)}function p(a){var c=(h||(h=b("WebStorage"))).getSessionStorageForRead();return(c==null?void 0:c.getItem(r(a)))===k}function q(a,c){(h||(h=b("WebStorage"))).setItemGuarded(h.getSessionStorage(),r(a),c?k:l)}function r(a){return j+"/"+a}}),null);
__d("GeminiLayoutPage.react",["fbt","$InternalEnum","BaseViewportMarginsContext","CometBase.react","CometContentArea.react","CometErrorBoundary.react","CometSSRMultipassBoundary.react","CometScreenReaderHeading.react","CometVisualCompletionAttributes","ExecutionEnvironment","GeminiLayoutFullWidthModeContext.react","GeminiLayoutHeaderGlimmer.react","GeminiLayoutQuickchatContext.react","GeminiLayoutRHCGlimmer.react","GeminiLayoutTabTitleState.react","GeminiRouterFocusRegion.react","HiddenSubtreeContext","Locale","WIGHeadingContextWrapper.react","WIGScrollableArea.react","WorkGalahadEntitySideColumnToggle.react","WorkGalahadEntitySidebarState","WorkGalahadHoverHelper","WorkGalahadNavUIState","WorkGalahadPagelet.react","WorkGalahadPlaceholder.react","cr:1263377","cr:1829651","gkx","react","stylex","supportsCSSSticky","useCometScrollAnchor","useGeminiLayoutChannelMeasureListenerForNonSticky","useGeminiLayoutHorizontalScrolling","useGeminiLayoutIntersectionObserverForSticky","useGeminiLayoutIsFullWidth","useLayoutEffect_SAFE_FOR_SSR","useWorkGalahadIsRHCCollapsed"],(function(a,b,c,d,e,f,g){"use strict";f.GeminiLayoutContent=d;f.GeminiLayoutEntityContentColumn=U;f.GeminiLayoutEntityContentStretched=V;var h,i,j=h||b("react"),k=b("gkx")("1547426"),l=96,m=300,n=870,o=300,p=85,q=35,r=100,s=59,t=16;870-32*2;var u=b("$InternalEnum").Mirrored(["Default","Narrow"]);f.GeminiLayoutFixedBannerType=u;var v=50,w=22,x=b("Locale").isRTL()?"left":"right",y=b("Locale").isRTL()?"right":"left",z=b("Locale").isRTL()?"marginRight":"marginLeft",A=b("ExecutionEnvironment").canUseDOM?b("supportsCSSSticky"):!0,B={pageContainer:{width:"k4urcfbm",minWidth:"jwg9bzsv",minHeight:"h3gjbzrl",marginTop:"kvgmc6g5",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",display:"j83agx80",flexDirection:"btwxx1t3",backgroundColor:"qsy8amke","@media print":{minWidth:"qkuqir5f"}},pageContainerWithoutChannel:{minWidth:"byd65bd4"},pageContainerFixedWidth:{"@media (min-width: 1921px)":{width:"h5fglx5i"}},navigationWrapper:{flexBasis:"cu69yu53",flexGrow:"buofh1pr",minHeight:"h3gjbzrl",flexShrink:"pfnyh3mw",position:"l9j0dhe7",minWidth:"tda6walg",maxWidth:"cxoafu5u",zIndex:"ehxjyohh","@media print":{display:"d6gadh64"}},navigatioWrapperWithChannel:{flexBasis:"mgtt0syl",maxWidth:"px2n846u"},navigationSticky:{width:"k4urcfbm",position:"lpgh02oy",top:"kr520xx4"},navigationFixed:{position:"poy2od1o",minWidth:"tda6walg",top:"kr520xx4","@media (min-width: 1921px)":{marginStart:"aqstd52u"}},navigationInner:{top:"kr520xx4",height:"nznu9b0o",width:"k4urcfbm",maxWidth:"owwhemhu",flexDirection:"btwxx1t3",display:"j83agx80",boxSizing:"rq0escxv"},navigationInnerWithBannerBuffer:{paddingTop:"pvbba8z0"},navigationInnerWithBannerNarrowBuffer:{paddingTop:"i3j981x3"},navigationAppNavList:{width:"lelwyktv",minWidth:"tda6walg",height:"datstx6m",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",alignContent:"n5ue3fu6"},navigationBuffer:{width:"k4urcfbm",height:"datstx6m"},channelWrapper:{width:"k4urcfbm",minWidth:"afx2keie",maxWidth:"il6lwfse"},channelWrapperHidden:{display:"mkhogb32"},channelWrapperAutoHideButVisible:{position:"pmk7jnqg",start:"timu3f6w",width:"by2j5h3a",borderTopStartRadius:"monazrh9",borderTopEndRadius:"o3c63hce",borderBottomEndRadius:"hqlzco19",borderBottomStartRadius:"mrjvor2e",boxShadow:"dyw4mr85"},content:{display:"j83agx80",minWidth:"hpfvmrgz",minHeight:"h3gjbzrl",flexBasis:"rwi3wqmm",flexDirection:"cbu4d94t",flexGrow:"mxgym3tk",flexShrink:"g5gj957u",borderEnd:"bx63g037",boxSizing:"rq0escxv"},contentFullHeight:{alignSelf:"ns4p8fja",height:"idiwt2bm",flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"cbu4d94t"},contentWithTopBannerBuffer:{paddingTop:"pvbba8z0"},contentWithTopBannerNarrowBuffer:{paddingTop:"i3j981x3"},header:{zIndex:"kavbgo14",backgroundColor:"i2eieyeb"},headerSticky:{position:"lpgh02oy"},headerFixed:{top:"kr520xx4",width:"k4urcfbm",position:"poy2od1o",zIndex:"kavbgo14",backgroundColor:"i2eieyeb",borderEnd:"bx63g037",maxWidth:"e4vmrqy5",minWidth:"jwg9bzsv","@media (min-width: 1921px)":{maxWidth:"rlpjf1is"}},headerFixedFluid:{maxWidth:"e4vmrqy5",minWidth:"fvjhqema","@media (min-width: 1921px)":{maxWidth:"oaxuar85"}},coverPhoto:{height:"sgwjjusx",width:"k4urcfbm"},headerContents:{boxSizing:"rq0escxv",paddingTop:"pm75nu7o",paddingBottom:"g42f9juq",paddingStart:"rjmcfhil",paddingEnd:"apnqml69",borderBottom:"egoubs18"},headerContentsUnified:{boxSizing:"rq0escxv",paddingStart:"rjmcfhil",paddingEnd:"apnqml69"},headerInfo:{},headerInfoUnified:{height:"qzj7cv8z",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",borderBottom:"egoubs18"},headerInfoBuffer:{height:"qslrvcaw",width:"k4urcfbm"},headerInfoBufferUnified:{height:"qzj7cv8z",width:"k4urcfbm"},headerNavigation:{height:"afyhebng"},headerNavigationUnified:{height:"fofn0o9a",backgroundColor:"i2eieyeb",borderBottom:"egoubs18"},headerNavigationBuffer:{height:"afyhebng",width:"k4urcfbm"},headerNavigationBufferUnified:{height:"fofn0o9a",width:"k4urcfbm"},entityWrapper:{display:"j83agx80",flexDirection:"rl25f0pe",flexGrow:"buofh1pr"},entityContent:{display:"j83agx80",flexDirection:"cbu4d94t",width:"ttbfdpzt",minWidth:"hpfvmrgz",flexGrow:"buofh1pr"},entityContentUnified:{display:"j83agx80",flexDirection:"cbu4d94t",minHeight:"nkv82469",width:"ttbfdpzt",minWidth:"hpfvmrgz",flexGrow:"buofh1pr"},entityContentColumnBase:{marginTop:"jei6r52m"},entityContentColumnNarrow:{width:"oh7imozk"},entityContentColumnFeed:{width:"gzy3xfl0",maxWidth:"ji3y4fs9"},entityContentColumnFeedWider:{width:"gzy3xfl0",maxWidth:"fhuww2h9"},entityContentColumnWide:{width:"gzy3xfl0",maxWidth:"te3l0auj"},entityContentColumnFullWithMargins:{width:"gzy3xfl0"},entityContentColumnFull:{width:"k4urcfbm"},entityContentStretchedCenterContent:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},rhcWrapper:{position:"l9j0dhe7",width:"td829kxq",zIndex:"tkr6xdv7"},rhcInner:{borderStart:"rjbrufve",position:"lpgh02oy"},rhcInnerFixed:{width:"iyyx5f41",position:"poy2od1o"},rhcScrollableAreaWrapper:{height:"datstx6m"},rhcScrollableArea:{width:"k4urcfbm",height:"datstx6m"},quickChatBuffer:{height:"qu8okrzs",flexShrink:"pfnyh3mw"},fixedBannerContainer:{position:"poy2od1o",width:"k4urcfbm",zIndex:"s90hwng2",top:"kr520xx4",start:"j9ispegn",display:"j83agx80",flexDirection:"btwxx1t3",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",borderBottom:"egoubs18",backgroundColor:"i2eieyeb"},fixedBannerContainerDefault:{height:"lbh82i0l",minWidth:"byd65bd4"},fixedBannerContainerNarrow:{height:"p1ueia1e"},quickchatWrapper:{bottom:"i09qtzwb",height:"do00u71z",position:"poy2od1o",width:"ttbfdpzt",zIndex:"ehxjyohh",end:"n7fi1qx3","@media print":{display:"d6gadh64"}},quickchatWrapperFixedWidth:{"@media (min-width: 1921px)":{end:"r2gqttjj"}},quickchatInner:{position:"pmk7jnqg",height:"qu8okrzs",width:"j4230tf8",end:"n7fi1qx3"}},C=j.memo(j.forwardRef(function(a,c){var d=a.channelContent,e=a.fixedBannerType,f=a.isLayoutFullWidth,g=a.navContent,h=a.navContentAndChannelContainer,k=a.navWidthForIE11;a=b("WorkGalahadNavUIState").useNavUIState();var l=a.isAutoHideEnabled,m=a.isChannelVisible,n=a.onMouseEnter;a=a.onMouseLeave;var o=b("useGeminiLayoutHorizontalScrolling").useGeminiLayoutHorizontalScrolling(),p=h,q=j.useMemo(function(){var a;return A?{}:(a={},a[z]=f?-o:"auto",a.width="inherit",a)},[o,f]);h=j.useMemo(function(){return A?{}:{width:k}},[k]);var r=S(e,B.navigationInnerWithBannerBuffer,B.navigationInnerWithBannerNarrowBuffer);e=j.useMemo(function(){return j.jsx(p,{children:j.jsx("div",{className:(i||(i=b("stylex")))(A?B.navigationSticky:B.navigationFixed),style:q,children:j.jsxs("div",{className:i(B.navigationInner,r),children:[j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("WorkGalahadPagelet.react").Placeholder,{className:i(B.navigationAppNavList),fallback:null,name:"GeminiLayoutNavigationAppList",children:g})}),j.jsx("div",{className:i(B.channelWrapper,l&&(m?B.channelWrapperAutoHideButVisible:B.channelWrapperHidden)),children:j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("WorkGalahadPagelet.react").Placeholder,{fallback:null,name:"GeminiLayoutNavigationChannel",children:j.jsx(b("cr:1829651"),{name:"channel",children:d})})})})]})})})},[r,d,q,l,m,g]);return j.jsxs("div",{className:(i||(i=b("stylex")))(B.navigationWrapper,!l&&B.navigatioWrapperWithChannel),onMouseEnter:n,onMouseLeave:a,ref:c,style:h,children:[!A&&j.jsx("div",{className:(i||(i=b("stylex")))(B.navigationBuffer)}),e]})})),D=j.createContext({hasCoverPhoto:!1,hasHeaderExpanded:!1,hasHeaderTabs:!1,navWidthForIE11:m+l,intersectionObserverRef:null});f.GeminiLayoutHeaderContext=D;function a(a){var c=a.children,d=a.coverPhoto;a=a.footer;var e=j.useContext(D),f=e.hasCoverPhoto,g=e.hasHeaderExpanded,h=e.hasHeaderTabs,l=e.intersectionObserverRef,m=e.navWidthForIE11,n=b("useGeminiLayoutIsFullWidth")();e=b("GeminiLayoutFullWidthModeContext.react").useGeminiLayoutUserSettingsFullWidthMode();var o=b("useGeminiLayoutHorizontalScrolling").useGeminiLayoutHorizontalScrolling(),p=b("useGeminiLayoutIntersectionObserverForSticky").useGeminiLayoutIsSticky(),q=j.useContext(P),s=q.entity,t=N();q=f&&d!=null?j.jsx("div",{className:(i||(i=b("stylex")))(B.coverPhoto),children:d}):null;d=j.useMemo(function(){var a,b=E({hasCoverPhoto:f,hasHeaderExpanded:g,hasHeaderTabs:h});return A?{height:b}:(a={},a[z]=p!==!0?"auto":-o,a.maxWidth=p&&!n?"calc(1600px - "+m+"px)":void 0,a.minWidth=p&&!n?"auto":"0",a.width=s,a.height=b,a.top=t?k?R(t)-r:R(t):0,a)},[f,g,h,p,o,n,m,s,t]);var u=k?g||f:!0;return j.jsxs(j.Fragment,{children:[j.jsx(b("CometBase.react"),{ref:l}),q,!A&&p?j.jsx("div",{className:(i||(i=b("stylex")))(k?B.headerInfoBufferUnified:B.headerInfoBuffer)}):null,!A&&p?j.jsx("div",{className:(i||(i=b("stylex")))(k?B.headerNavigationBufferUnified:B.headerNavigationBuffer)}):null,j.jsxs("div",{className:(i||(i=b("stylex")))(k?B.headerContentsUnified:B.headerContents,!A&&p&&B.headerFixed,!A&&e&&p&&B.headerFixedFluid),style:d,children:[u?j.jsx("div",{className:(i||(i=b("stylex")))(k?B.headerInfoUnified:B.headerInfo),children:c}):null,a!=null?j.jsx("div",{className:(i||(i=b("stylex")))(k?B.headerNavigationUnified:B.headerNavigation),children:a}):null]})]})}function E(a){var b=a.hasCoverPhoto,c=a.hasHeaderExpanded;a=a.hasHeaderTabs;var d;k?(d=s,(c||b)&&(d+=r)):(d=p,a&&(d+=q));return d}function F(a){a=a.children;var c=j.useContext(D),d=c.hasCoverPhoto;c=c.hasHeaderTabs;var e=N();return j.jsx(b("CometSSRMultipassBoundary.react"),{id:"header",children:j.jsx(b("cr:1829651"),{name:"header",children:j.jsx("header",{"aria-label":g._("En-t\u00eate du contenu"),className:(i||(i=b("stylex")))(B.header,A&&B.headerSticky),role:"region",style:{top:G({hasCoverPhoto:d,fixedBannerType:e})},children:j.jsx(b("WorkGalahadPagelet.react").Placeholder,{fallback:j.jsx(b("GeminiLayoutHeaderGlimmer.react"),{hasCover:d,hasFooter:c,hasSubtitle:!0}),name:"GeminiLayoutHeader",children:a})})})})}F.displayName=F.name+" [from "+e.id+"]";function G(a){var b=a.fixedBannerType;a=a.hasCoverPhoto;var c=0;k?a&&(c-=o+r):a&&(c-=o);b!=null&&(c+=R(b));return c}function H(a){a=a.children;var c=b("GeminiLayoutFullWidthModeContext.react").useGeminiLayoutUserSettingsFullWidthMode();return j.jsx("div",{className:(i||(i=b("stylex")))(B.quickchatWrapper,!c&&B.quickchatWrapperFixedWidth),children:j.jsx("div",{className:i(B.quickchatInner),style:(c={},c[x]=t,c),children:j.jsx(b("WorkGalahadPagelet.react").Placeholder,{fallback:null,name:"WorkGalahadQuickChat",children:j.jsx(b("cr:1829651"),{name:"quickchat",children:j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("WIGHeadingContextWrapper.react"),{children:a})})})},"quickchat")})})}H.displayName=H.name+" [from "+e.id+"]";function I(a){var c=a.children,d=a.headerHasExpanded,e=d===void 0?!1:d;d=a.headerHasTabs;var f=d===void 0?!1:d,g=b("useGeminiLayoutIntersectionObserverForSticky").useGeminiLayoutIsSticky(),h=b("useGeminiLayoutHorizontalScrolling").useGeminiLayoutHorizontalScrolling();a=b("WorkGalahadEntitySidebarState").useSidebarState();d=a.collapsed;a=b("WorkGalahadHoverHelper").useHover();var k=a[0];a=a[1];var l=N(),m=j.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(!g){var a;a=(a=m.current)==null?void 0:a.getDOMNode();a!=null&&(a.scrollTop=0)}},[g]);var n=j.useMemo(function(){var a,b=J({headerHasExpanded:e,headerHasTabs:f,fixedBannerType:l});return a={top:b},a[z]=!A&&g?-h:void 0,a.height="calc(100vh - "+b+"px)",a},[l,e,f,h,g]);return j.jsx("div",{className:(i||(i=b("stylex")))(B.rhcWrapper),"data-testid":void 0,style:{width:d?0:void 0},children:j.jsx("section",babelHelpers["extends"]({className:i(B.rhcInner,!A&&g&&B.rhcInnerFixed),"data-testid":void 0,role:"complementary",style:n},a,{children:j.jsxs(b("WorkGalahadPagelet.react").Placeholder,{className:i(B.rhcScrollableAreaWrapper),fallback:j.jsx("div",{}),name:"GeminiLayoutRHC",children:[j.jsxs(b("WIGScrollableArea.react"),{horizontal:!1,ref:m,vertical:g,xstyle:B.rhcScrollableArea,children:[j.jsx(b("WorkGalahadPlaceholder.react"),{fallback:j.jsx(b("GeminiLayoutRHCGlimmer.react"),{}),children:c}),j.jsx("div",{className:i(B.quickChatBuffer)})]}),j.jsx(b("WorkGalahadEntitySideColumnToggle.react"),{hovered:k})]})}))})}I.displayName=I.name+" [from "+e.id+"]";function J(a){var b=a.fixedBannerType,c=a.headerHasExpanded;a=a.headerHasTabs;var d=0;k?(d+=s,c&&(d+=r)):(d+=p,a&&(d+=q));b!=null&&(d+=R(b));return d}function K(){var a=b("GeminiLayoutTabTitleState.react").useGeminiLayoutTabTitleState();a=a.tabTitle;return a==null?null:j.jsx(b("CometScreenReaderHeading.react"),{children:a})}K.displayName=K.name+" [from "+e.id+"]";function L(a){var c=a.children,d=a.contentPlaceholder;a=a.hasHeaderTabs;return j.jsxs(b("GeminiRouterFocusRegion.react"),{children:[a&&j.jsx("div",babelHelpers["extends"]({},b("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsx(K,{})})),j.jsx(b("WorkGalahadPagelet.react").Placeholder,{className:(i||(i=b("stylex")))(k?B.entityContentUnified:B.entityContent),fallback:d!=null?d:null,name:"GeminiLayoutEntity",children:c})]})}L.displayName=L.name+" [from "+e.id+"]";var M=j.createContext(null);function N(){return j.useContext(M)}function O(a){a=a.children;var c=b("useGeminiLayoutHorizontalScrolling").useGeminiLayoutHorizontalScrolling(),d=j.useContext(P),e=d.entity,f=d.leftNav;d=N();d=S(d,B.fixedBannerContainerDefault,B.fixedBannerContainerNarrow);var g=j.useMemo(function(){var a;return A?{}:(a={},a[y]=c*-1,a.minWidth=f+e,a)},[c,f,e]);return j.jsx("div",{className:(i||(i=b("stylex")))(B.fixedBannerContainer,d),style:g,children:a})}O.displayName=O.name+" [from "+e.id+"]";var P=j.createContext({entity:n,leftNav:m+l});function c(a){var c=a.channelContent,d=a.children,e=a.fixedBannerContent,f=a.fixedBannerType;f=f===void 0?u.Default:f;var g=a.mainNavContent;a=a.navContentAndChannelContainer;var h=b("WorkGalahadNavUIState").useNavUIState();h=h.isAutoHideEnabled;var k=b("GeminiLayoutFullWidthModeContext.react").useGeminiLayoutUserSettingsFullWidthMode(),o=b("useGeminiLayoutIsFullWidth")(),p=b("useGeminiLayoutHorizontalScrolling").useGeminiLayoutHorizontalScrollingListener(),q=b("useGeminiLayoutChannelMeasureListenerForNonSticky")(m+l,n,h),r=q[0],s=q[1],t=q[2],v=q[3];q=j.useMemo(function(){return{leftNav:t,entity:v-t}},[v,t]);f=e!=null?f:null;var w=T({fixedBannerType:f}),x=j.useMemo(function(){return{bottom:0,left:0,right:0,top:w}},[w]),y=S(f,B.contentWithTopBannerBuffer,B.contentWithTopBannerNarrowBuffer);return j.jsxs(j.Fragment,{children:[b("cr:1263377")&&j.jsx(b("cr:1263377"),{}),j.jsx("div",{className:(i||(i=b("stylex")))(B.pageContainer,h&&B.pageContainerWithoutChannel,!k&&B.pageContainerFixedWidth),ref:s,children:j.jsx(b("BaseViewportMarginsContext").Provider,{value:x,children:j.jsx(P.Provider,{value:q,children:j.jsx(M.Provider,{value:f,children:j.jsxs(b("useGeminiLayoutHorizontalScrolling").GeminiLayoutHorizontalScrollingContextProvider,{value:p,children:[e!=null?j.jsx(O,{children:e}):null,j.jsx(b("CometSSRMultipassBoundary.react"),{id:"top_nav",children:j.jsx(b("cr:1829651"),{name:"navigation",children:j.jsx(C,{channelContent:c,fixedBannerType:f,isLayoutFullWidth:o,navContent:g,navContentAndChannelContainer:(h=a)!=null?h:j.Fragment,navWidthForIE11:t,ref:r})})}),j.jsx("div",{className:i(B.content,y),children:d})]})})})})})]})}c.displayName=c.name+" [from "+e.id+"]";function d(a){var c=a.children,d=a.contentPlaceholder,e=a.forceFullHeight,f=e===void 0?!1:e,g=a.forceHeaderExpanded,h=a.hasHeaderCoverPhoto,l=a.hasHeaderTabs;e=a.headerContent;var m=a.sidebarCollapseKey,n=a.sidebarContent;a=b("useWorkGalahadIsRHCCollapsed")(m);var q=a[0],r=a[1];m=j.useContext(b("GeminiLayoutQuickchatContext.react"));var s=m.quickchat,t=m.showInbox;a=j.useContext(P);var u=a.leftNav;m=h?k?o+p:o:-1;a=N();m=b("useGeminiLayoutIntersectionObserverForSticky").useGeminiLayoutIntersectionObserverForSticky(m-(a!=null?R(a):0),!h);var v=m[0];m=m[1];var w=j.useMemo(function(){return{hasCoverPhoto:h,hasHeaderExpanded:g===!0,hasHeaderTabs:l,navWidthForIE11:u,intersectionObserverRef:v}},[h,g,l,u,v]),x=T({hasCoverPhoto:h||g===!0,hasHeaderTabs:l,hasHeaderContent:e!=null,fixedBannerType:a});a=j.useMemo(function(){return{bottom:0,left:0,right:0,top:x}},[x]);var y=j.useMemo(function(){return n!=null?j.jsx(b("CometSSRMultipassBoundary.react"),{id:"rhc",children:j.jsx(b("cr:1829651"),{name:"rhc",children:j.jsx(b("WorkGalahadEntitySidebarState").Provider,{collapsed:q,setCollapsed:r,children:j.jsx(I,{headerHasExpanded:g===!0,headerHasTabs:l,children:j.jsx(b("CometErrorBoundary.react"),{children:j.jsx(b("WIGHeadingContextWrapper.react"),{children:n})})})})})}):null},[g,l,n,r,q]),z=j.useMemo(function(){return j.jsx(b("WIGHeadingContextWrapper.react"),{children:j.jsx(b("cr:1829651"),{name:"entity",children:j.jsx(L,{contentPlaceholder:d,hasHeaderTabs:l,children:j.jsx(b("useCometScrollAnchor").CometScrollFixerRoot,{children:j.jsxs(j.Fragment,{children:[c,s!=null&&t===!0&&f!==!0&&j.jsx("div",{className:(i||(i=b("stylex")))(B.quickChatBuffer)})]})})})})})},[c,d,f,l,s,t]);return j.jsx(b("useGeminiLayoutIntersectionObserverForSticky").GeminiLayoutStickyContextProvider,{value:m,children:j.jsx(b("BaseViewportMarginsContext").Provider,{value:a,children:j.jsx("div",{className:(i||(i=b("stylex")))(f&&B.contentFullHeight),children:j.jsxs(b("GeminiRouterFocusRegion.react"),{children:[e!=null?j.jsx(D.Provider,{value:w,children:j.jsx(F,{children:j.jsx(b("CometErrorBoundary.react"),{children:e})})}):null,j.jsxs("div",{className:i(B.entityWrapper),children:[y,j.jsx(b("WorkGalahadPlaceholder.react"),{fallback:null,children:j.jsx(Q,{})}),z]})]})})})})}d.displayName=d.name+" [from "+e.id+"]";var Q=j.memo(function(){var a=j.useContext(b("GeminiLayoutQuickchatContext.react"));a=a.quickchat;var c=j.useContext(b("HiddenSubtreeContext")).hidden;return j.jsx("div",babelHelpers["extends"]({},b("gkx")("1914859")||b("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:a!=null&&!c?j.jsx(H,{children:a}):null}))});function R(a){switch(a){case u.Default:return v;case u.Narrow:return w}}function S(a,b,c){if(a==null)return null;switch(a){case u.Default:return b;case u.Narrow:return c}}function T(a){var b=a.fixedBannerType,c=a.hasCoverPhoto;c=c===void 0?!1:c;var d=a.hasHeaderContent;d=d===void 0?!1:d;a=a.hasHeaderTabs;a=a===void 0?!1:a;var e=0;b!=null&&(e+=R(b));if(!d)return e;k?(e=q,c&&(e+=p)):(e=p,a&&(e+=q));return e}function U(a){var c=a.children,d=a.testid;d=a.width;return j.jsx(b("CometContentArea.react"),{children:j.jsx("div",{className:(i||(i=b("stylex")))(B.entityContentColumnBase,d==="full"&&B.entityContentColumnFull,d==="narrow"&&B.entityContentColumnNarrow,d==="wide"&&B.entityContentColumnWide,d==="fullWithMargins"&&B.entityContentColumnFullWithMargins,d==="feed"&&!b("gkx")("1582926")&&B.entityContentColumnFeed,d==="feed"&&b("gkx")("1582926")&&B.entityContentColumnFeedWider),"data-testid":void 0,children:c})})}U.displayName=U.name+" [from "+e.id+"]";function V(a){var c=a.children,d=a.mode;a=a.testid;a=j.useContext(b("BaseViewportMarginsContext"));var e=a.top;a=j.useMemo(function(){return{height:"calc(100vh - "+e+"px)",width:"100%"}},[e]);return j.jsx(b("CometContentArea.react"),{children:j.jsx("div",{className:(i||(i=b("stylex")))(d==="center-content"&&B.entityContentStretchedCenterContent),"data-testid":void 0,style:a,children:c})})}V.displayName=V.name+" [from "+e.id+"]";d=j.memo(c);f.GeminiLayoutPage=d;U=j.memo(a);f.GeminiLayoutPageHeader=U}),null);
__d("GeminiLayoutHeaderContent.react",["Locale","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j=12;function a(a){var c=a.actions,d=a.picture,e=a.pictureWidth,f=a.showPicture;a=a.title;return i.jsxs("div",{className:"g42f9juq pi1r6xr4 l9j0dhe7 i1fnvgqd hpfvmrgz j83agx80 bp9cbjyn",children:[i.jsxs("div",{className:"d1544ag0 hpfvmrgz j83agx80 bp9cbjyn",children:[d!=null?i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"transition-property-1":"pnx7fd3z","transition-duration-1":"ms05siws","transition-timing-function-1":"ogy3fsii","margin-end-1":"tvfksri0","transform-0.1":"g3zh7qmp","opacity-1":"pedkr2u6"},f?null:{"transform-0.1":"qpbg1qsm"},f?null:{"opacity-1":"b5wmifdl"}),style:{width:e,minWidth:e},children:f&&d}):null,i.jsx("div",{className:"b7h9ocf4 ms05siws flx89l3n hpfvmrgz",style:{transform:e!=null&&!f?"translateX("+(e+j)*(b("Locale").isRTL()?1:-1)+"px)":void 0},children:a})]}),i.jsx("div",{className:"pfnyh3mw bp9cbjyn jifvfom9 j83agx80",children:c})]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderCoverPhoto.react",["Locale","WorkGalahadEntityHeaderCoverContext.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.backgroundImage,d=a.circleImage,e=a.height,f=a.isCompact;a=h.useMemo(function(){var a=f||d==null?[]:[h.jsx("div",{className:"cbu4d94t bp9cbjyn jifvfom9 j83agx80 pmk7jnqg kfkz5moi cc0ip0g7",style:{transform:b("Locale").isRTL()?"translateX(50%)":"translateX(-50%)"},children:d},"circle-image")];return{children:a,coverHeight:e,coverWidth:0}},[d,e,f]);return h.jsx("div",{className:"tkr6xdv7 l9j0dhe7 sgwjjusx",children:h.jsx(b("WorkGalahadEntityHeaderCoverContext.react").Provider,{value:a,children:c})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderFooter.react",["gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("gkx")("1547426");function a(a){var b=a.children,c=a.collapsedContent;a=a.isCompact;return!i?h.jsx("div",{className:"i1fnvgqd hpfvmrgz j83agx80 bp9cbjyn tv7at329",children:b}):h.jsxs("div",{className:"hpfvmrgz j83agx80 cb02d2ww",children:[c!=null&&a===!0?h.jsx("div",{className:"hpfvmrgz d2edcug0 wkznzc2l g5gj957u kb5gq1qc taijpn5t gi6qgna1 bp9cbjyn j83agx80",children:c}):null,h.jsx("div",{className:"i1fnvgqd hpfvmrgz j83agx80 bp9cbjyn pfnyh3mw buofh1pr",children:b})]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderFooterCompactInfo.react",["WIGLink.react","WIGTextPairing.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={root:{display:"j83agx80",flexDirection:"btwxx1t3",width:"k4urcfbm"},image:{marginEnd:"tvfksri0"},link:{":hover":{textDecoration:"p8dawk7l"}},content:{minWidth:"hpfvmrgz"},fallbackContent:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"}};function a(a){var c=a.body,d=a.headline,e=a.image,f=a.url;a=a.fallbackContent_DO_NOT_USE;f=f!=null?i.jsx(b("WIGLink.react"),{href:f,xstyle:j.link,children:d}):d;return c==null&&d==null&&a!=null?i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[e!=null?i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:e}):null,i.jsx("div",{className:h(j.content,j.fallbackContent),children:a})]}):i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[e!=null?i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:e}):null,i.jsx("div",{className:h(j.content),children:i.jsx(b("WIGTextPairing.react"),{body:c,bodyColor:"secondary",bodyLineLimit:1,headline:f,headlineColor:"primary",headlineLineLimit:1,isSemanticHeading:!0,level:3})})]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadEntityHeaderCoverGlimmer.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsx("div",{className:"lenub8rc cfk3jyev",children:h.jsx(b("BaseGlimmer.react"),{className:"lenub8rc cfk3jyev",index:1})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeader.react",["GeminiLayoutHeaderContent.react","GeminiLayoutHeaderCoverPhoto.react","GeminiLayoutHeaderFooter.react","GeminiLayoutHeaderFooterCompactInfo.react","GeminiLayoutPage.react","filterNulls","gkx","react","useGeminiLayoutIntersectionObserverForSticky"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("gkx")("1547426");function a(a){var c=a.actions,d=a.content,e=a.contentCompact,f=a.image,g=a.imageCircle,j=a.imageCover,k=a.tabs,l=a.isSearching;l=l===void 0?!1:l;var m=a.search;a=a.pictureWidth;a=a===void 0?36:a;var n=h.useContext(b("GeminiLayoutPage.react").GeminiLayoutHeaderContext);n=n.hasHeaderExpanded;var o=b("useGeminiLayoutIntersectionObserverForSticky").useGeminiLayoutIsSticky();j=j==null?null:h.jsx(b("GeminiLayoutHeaderCoverPhoto.react"),{backgroundImage:j,circleImage:g,height:300,isCompact:o});g=i?[k!=null?h.jsx(h.Fragment,{children:k},"tabs"):null,c!=null?h.jsx("div",{className:"btwxx1t3 j83agx80",children:c},"actions"):null]:[!l&&k!=null?h.jsx(h.Fragment,{children:k},"tabs"):null,m!=null?h.jsx("div",{className:"bp9cbjyn jifvfom9 j83agx80"+(l?" d2edcug0 buofh1pr":""),children:m},"search"):null];g=b("filterNulls")(g);k=i?h.jsxs("div",{className:"jifvfom9 n5ue3fu6 bp9cbjyn hpfvmrgz j83agx80",children:[f!=null?h.jsx("div",{className:"tvfksri0",children:f}):null,d]}):h.jsx(b("GeminiLayoutHeaderContent.react"),{actions:c,picture:f,pictureWidth:a,showPicture:o||!j,title:d});return i&&n!==!0&&e==null&&d!=null?h.jsx(b("GeminiLayoutPage.react").GeminiLayoutPageHeader,{coverPhoto:j,footer:h.jsx(b("GeminiLayoutHeaderFooter.react"),{collapsedContent:h.jsx(b("GeminiLayoutHeaderFooterCompactInfo.react"),{fallbackContent_DO_NOT_USE:d,image:f}),isCompact:o,children:g}),children:k}):h.jsx(b("GeminiLayoutPage.react").GeminiLayoutPageHeader,{coverPhoto:j,footer:i||g.length>0?h.jsx(b("GeminiLayoutHeaderFooter.react"),{collapsedContent:e,isCompact:o,children:g}):null,children:k})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderFooterCompactInfoGlimmer.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.hasBody,d=a.hasHeadline;a=a.hasImage;return h.jsxs("div",{className:"btwxx1t3 j83agx80",children:[a?h.jsx(b("BaseGlimmer.react"),{className:"tvfksri0 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 thwo4zme tv7at329",index:1}):null,d||c?h.jsxs("div",{className:"i1fnvgqd cbu4d94t j83agx80",children:[d?h.jsx(b("BaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 nf4m65g7 i4qgphn6",index:2}):null,c?h.jsx(b("BaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 f8ljpb73 i4qgphn6",index:2}):null]}):null]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderTitle.react",["WIGLink.react","WIGTextPairing.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i={link:{":hover":{textDecoration:"p8dawk7l"}}};function a(a){var c=a.body,d=a.headline,e=a.meta;a=a.url;a=a!=null?h.jsx(b("WIGLink.react"),{href:a.toString(),xstyle:i.link,children:d}):d;return h.jsx(b("WIGTextPairing.react"),{body:c,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineColor:"primary",headlineLineLimit:1,isSemanticHeading:!0,level:"entityHeader2",meta:e,metaColor:"negative",metaLocation:"above"})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderTitleGlimmer.react",["BaseGlimmer.react","GeminiLayoutHeaderTitle.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.hasBody,d=a.hasHeadline;a=a.hasMeta;return h.jsx(b("GeminiLayoutHeaderTitle.react"),{body:c&&h.jsx(b("BaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 e6erh6tl kmzbrmfl",index:1}),headline:d&&h.jsx(b("BaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 a9ndjppc kmzbrmfl",index:2}),meta:a&&h.jsx(b("BaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 gjzvkazv kmzbrmfl",index:3})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadUIEntityHeaderTitleGlimmer.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.hasSubtitle;return h.jsxs("div",{className:"foph6o47 etnmos6l lenub8rc ca4olrac tv52aht6 mu99tzkh tdgv6ycz",children:[h.jsx(b("BaseGlimmer.react"),{className:"ex16komz qd9vfp32 lbj7a7zq qcplsvq8 epgwdhkb evgjlmuu",index:2}),a===!0&&h.jsx(b("BaseGlimmer.react"),{className:"ex16komz qd9vfp32 lbj7a7zq qcplsvq8 qc02crg0 evgjlmuu",index:3})]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("GeminiLayoutHeaderGlimmer.react",["GeminiLayoutHeader.react","GeminiLayoutHeaderFooterCompactInfoGlimmer.react","GeminiLayoutHeaderTitleGlimmer.react","WIGBaseGlimmer.react","WIGTabsGlimmer.react","WorkGalahadEntityHeaderConstants","WorkGalahadEntityHeaderCoverGlimmer.react","WorkGalahadUIEntityHeaderTitleGlimmer.react","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("gkx")("1547426");function a(a){var c=a.hasCover;c=c===void 0?!1:c;var d=a.hasFooter;d=d===void 0?!1:d;var e=a.hasPicture;e=e===void 0?!0:e;var f=a.hasSubtitle;f=f===void 0?!1:f;a=a.preScrolling;a=a===void 0?0:a;if(i)return h.jsx(b("GeminiLayoutHeader.react"),{content:h.jsx(b("GeminiLayoutHeaderTitleGlimmer.react"),{hasBody:!0,hasHeadline:!0,hasMeta:!0}),contentCompact:h.jsx(b("GeminiLayoutHeaderFooterCompactInfoGlimmer.react"),{hasBody:!0,hasHeadline:!0,hasImage:!0}),imageCover:c?h.jsx(b("WorkGalahadEntityHeaderCoverGlimmer.react"),{}):void 0,tabs:h.jsx(b("WIGTabsGlimmer.react"),{tabsNumber:3})});else return h.jsx(b("GeminiLayoutHeader.react"),{content:h.jsx(b("WorkGalahadUIEntityHeaderTitleGlimmer.react"),{hasSubtitle:f}),image:e?h.jsx(b("WIGBaseGlimmer.react"),{className:"l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 pi1r6xr4 i8j84fko",index:1}):null,imageCover:c&&a<b("WorkGalahadEntityHeaderConstants").COVER_HEIGHT?h.jsx(b("WorkGalahadEntityHeaderCoverGlimmer.react"),{}):void 0,pictureWidth:52,tabs:d?h.jsx(b("WIGTabsGlimmer.react"),{tabsNumber:2}):void 0})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("geminiGetKeyCommandConfig",["cometGetKeyCommandConfig","cr:2011406"],(function(a,b,c,d,e,f){"use strict";f.getGeminiKeyCommandConfig=a;function a(a,c,d){return b("cometGetKeyCommandConfig").getKeyCommandConfig(a,c,d,b("cr:2011406"),"getGeminiKeyCommandConfig should only be used in Gemini")}}),null);
__d("useGeminiChatUnreadCount",["cr:1837956"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1837956");e.exports=a}),null);
__d("isNumberLike",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}}),null);
__d("WIGBaseLoadingStateElement.react",["BaseLoadingStateElement.react"],(function(a,b,c,d,e,f){"use strict";a=b("BaseLoadingStateElement.react");e.exports=a}),null);
__d("WIGDeferredPopoverTrigger.react",["CometDeferredPopoverTrigger.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometDeferredPopoverTrigger.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGInteractiveElementContext.react",["react"],(function(a,b,c,d,e,f){var g;a=g||b("react");c=a.createContext({hovered:!1,focused:!1,pressed:!1});e.exports=c}),null);
__d("WorkGalahadChannelFocusableTable.react",["FocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f){"use strict";var g;g||b("react");a=b("FocusTable.react").createFocusTable(b("focusScopeQueries").tabbableScopeQuery);c=a[0];d=a[1];e=a[2];f.WorkGalahadChannelFocusableTableCell=e;f.WorkGalahadChannelFocusableTableRow=d;f.WorkGalahadChannelFocusableTable=c;a=b("focusScopeQueries").tabbableScopeQuery;f.WorkGalahadChannelFocusableScopeQuery=a}),null);
__d("useFocusState",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,b){var c=h.useState(!1),d=c[0],e=c[1];c=h.useCallback(function(b){e(!0),a&&a(b)},[a]);var f=h.useCallback(function(a){e(!1),b&&b(a)},[b]);return[d,c,f]}}),null);
__d("useHoverAndFocusState",["WorkGalahadHoverHelper","useFocusState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("WorkGalahadHoverHelper").useHover(),c=a[0];a=a[1];var d=b("useFocusState")(),e=d[0],f=d[1];d=d[2];return{hovered:c,focused:e,onHoverIn:a.onMouseEnter,onHoverOut:a.onMouseLeave,onFocusIn:f,onFocusOut:d}}}),null);
__d("WorkGalahadUIChannelItem.react",["CometPressableOverlay.react","Locale","URI","WIGInteractiveElementContext.react","WIGPressable.react","WIGTextPairing.react","WorkGalahadChannelFocusableTable.react","gkx","react","stylex","useCometPreloader","useHoverAndFocusState"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=g||b("react"),k=b("gkx")("1919265"),l=b("gkx")("875"),m={root:{boxSizing:"tdgv6ycz",position:"hal92y33",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",minHeight:"eg3o40xf",minWidth:"f0w9ysip",display:"mu99tzkh",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",borderTop:"nplqc3z5",borderEnd:"llwpk7e4",borderBottom:"fqnkz0nq",borderStart:"jga1arsn",paddingEnd:"g1w82w5r"},tetraLikeRoot:{paddingEnd:"q8ag7aew",marginStart:"q877oug0",marginEnd:"ewe7nd7x",borderTopStartRadius:"qcplsvq8",borderTopEndRadius:"lbj7a7zq",borderBottomEndRadius:"qd9vfp32",borderBottomStartRadius:"ex16komz"},focused:{outline:"d3fls08n"},selected:{backgroundColor:"p9m48beo"},tetraLikeSelected:{backgroundColor:"gzqalh9h"},contentContainer:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a"},tetraLikeContentContainer:{position:"s7aa97hv"},content:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",justifyContent:"oitujibm",alignItems:"t36ehdhz",flexDirection:"sulwup3a",outline:"mvskt0vx",":hover":{textDecoration:"b69vs25w"}},textPairing:{flexGrow:"ftjbd6cl",flexBasis:"trztskah",minWidth:"f0w9ysip",paddingTop:"s9o98cno",paddingBottom:"sgyxnsb9",overflowX:"ib0kwflm",overflowY:"qbbcxcfp",textOverflow:"oecdyzpx"},addOnPrimary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",justifyContent:"akl1aaa0",marginStart:"mq32vg4l",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",alignItems:"t36ehdhz",flexGrow:"aeqptlwn",marginBottom:"kl295ud9",marginEnd:"oypfxdan",marginTop:"q7fxw9qh",position:"hal92y33"},addOnSecondary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",zIndex:"rpt3ley2",position:"i8ovu4tj",start:"qgbafi3f",top:"xdo5vwd7",bottom:"qf3vbteg",alignItems:"t36ehdhz",justifyContent:"lhmcu1i6",flexGrow:"aeqptlwn"},tetraLikeAddOnSecondary:{display:"mu99tzkh",justifyContent:"lhmcu1i6",alignItems:"t36ehdhz"},addOnSecondaryOffset:{transform:"s5apgkp2"},addOnSecondaryOffsetRTL:{transform:"xd99s5we"},indentationLevel1:{paddingStart:"hmw2pi96"},indentationLevel2:{paddingStart:"dxs9yoch"},indentationLevel3:{paddingStart:"den1hhl9"},tetraLikeIndentationLevel1:{paddingStart:"spg5mz9m"},tetraLikeIndentationLevel2:{paddingStart:"spg5mz9m"},tetraLikeIndentationLevel3:{paddingStart:"l2da8jwz"},addOnTertiary:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginTop:"kyu6y8np",minHeight:"eg3o40xf",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexGrow:"aeqptlwn",flexShrink:"o0foh442",minWidth:"eia6fg53",alignItems:"t36ehdhz",justifyContent:"gyidwt2h",flexDirection:"sulwup3a",marginStart:"se2r61z1"},tetraLikeFocusRing:{position:"s7aa97hv",":focus-visible::after":{borderTop:"rgpia63b",borderEnd:"huuw6m2v",borderBottom:"hqewcwm1",borderStart:"r5zcmuo9",borderTopStartRadius:"aan1z257",borderTopEndRadius:"rmkk0o94",borderBottomEndRadius:"bvcj7vt8",borderBottomStartRadius:"nws9alp2",bottom:"sncuyhja",content:"pxpirlfn",start:"p2xhvvah",position:"ic2s0i06",end:"pqnt06nn",top:"mtx6zocd"}}};function n(a){a=a.indentationLevel;if(k&&a===1)return m.tetraLikeIndentationLevel1;else if(k&&a===2)return m.tetraLikeIndentationLevel2;else if(k&&a===3)return m.tetraLikeIndentationLevel3;else if(a===1)return m.indentationLevel1;else if(a===2)return m.indentationLevel2;else if(a===3)return m.indentationLevel3}function a(a,c){var d=a.addOnPrimary,e=a.addOnSecondary,f=a.addOnTertiary,g=a.disabled;g=g===void 0?!1:g;var o=a.emphasized;o=o===void 0?!1:o;var p=a.selected;p=p===void 0?!1:p;var q=a.indentationLevel;q=q===void 0?2:q;var r=a.linkProps;r=r===void 0?{}:r;var s=r.url;r=babelHelpers.objectWithoutPropertiesLoose(r,["url"]);var t=a.body,u=a.bodyColor,v=a.bodyLineLimit;v=v===void 0?1:v;var w=a.headline,x=a.headlineAddOn,y=a.headlineColor,z=a.headlineLineLimit;z=z===void 0?1:z;var A=a.meta,B=a.metaColor,C=a.metaLineLimit,D=a.metaLocation,E=a.onPress,F=a.onPressIn,G=a.onHoverIn,H=a.onHoverOut,I=a.onFocusIn,J=a.onFocusOut,K=a.isSemanticListItem;K=K===void 0?!0:K;var L=a.testid;L=a.wrapperRef;var M=a.onPreload;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","addOnTertiary","disabled","emphasized","selected","indentationLevel","linkProps","body","bodyColor","bodyLineLimit","headline","headlineAddOn","headlineColor","headlineLineLimit","meta","metaColor","metaLineLimit","metaLocation","onPress","onPressIn","onHoverIn","onHoverOut","onFocusIn","onFocusOut","isSemanticListItem","testid","wrapperRef","onPreload"]);var N=j.useState(!1),O=N[0],P=N[1];N=b("useHoverAndFocusState")();var Q=N.focused,R=N.hovered,S=N.onFocusIn,T=N.onFocusOut,U=N.onHoverIn;N=N.onHoverOut;var V=j.useMemo(function(){return{hovered:R,focused:Q,pressed:O}},[R,Q,O]),W=j.useCallback(function(){M&&l&&M()},[M]);W=b("useCometPreloader")("button_aggressive",void 0,W);var X=W[0],Y=W[1];W=j.useCallback(function(a){X(a),G&&G(a)},[G,X]);var Z=j.useCallback(function(a){Y(),H&&H(a)},[H,Y]),$=j.useCallback(function(a){S(a),I&&I(a)},[I,S]),aa=j.useCallback(function(a){T(a),J&&J(a)},[J,T]),ba=j.useCallback(function(a){P(!0),F&&F(a)},[F]),ca=j.useCallback(function(){return P(!1)},[]);d=j.jsxs(j.Fragment,{children:[d!=null&&j.jsx("div",{className:(h||(h=b("stylex")))(m.addOnPrimary),children:d}),j.jsx("div",{"data-testid":void 0,className:(h||(h=b("stylex")))(m.textPairing),children:j.jsx(b("WIGTextPairing.react"),{body:t,bodyColor:u,bodyLineLimit:v,headline:w,headlineAddOn:x,headlineColor:y,headlineLineLimit:z,level:4,meta:A,metaColor:B,metaLineLimit:C,metaLocation:D,reduceEmphasis:o===!1})})]});t=K?"li":"div";u=E||s!=null;return j.jsx(b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableRow,{children:j.jsx(b("WIGInteractiveElementContext.react").Provider,{value:V,children:j.jsxs(t,{ref:L,role:u&&K?"row":void 0,onMouseEnter:U,onMouseLeave:N,className:h(m.root,k&&m.tetraLikeRoot,n({indentationLevel:q}),Q&&!k&&m.focused,p&&!k&&m.selected,p&&k&&m.tetraLikeSelected),children:[u&&j.jsx(b("CometPressableOverlay.react"),{focusVisible:Q,hovered:R,pressed:O}),u?j.jsx(b("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,{children:j.jsx("div",{className:(h||(h=b("stylex")))([m.contentContainer,k&&m.tetraLikeContentContainer]),role:K?"gridcell":void 0,children:j.jsx(b("WIGPressable.react"),babelHelpers["extends"]({},a,{display:"block",disabled:g,linkProps:s?babelHelpers["extends"]({},r,{url:(i||(i=b("URI"))).normalize(s),prefetchQueries:l}):void 0,onHoverIn:W,onHoverOut:Z,onFocusIn:$,onFocusOut:aa,onPress:E,onPressIn:ba,onPressOut:ca,overlayDisabled:!0,ref:c,xstyle:[m.content,k&&m.tetraLikeFocusRing],children:d}))})}):j.jsx("div",{className:(h||(h=b("stylex")))(m.content),children:d}),f!=null&&k&&j.jsx("div",{className:(h||(h=b("stylex")))(m.addOnTertiary),children:f}),e!=null&&j.jsx("div",{className:(h||(h=b("stylex")))(k?m.tetraLikeAddOnSecondary:m.addOnSecondary,k?null:b("Locale").isRTL()?m.addOnSecondaryOffsetRTL:m.addOnSecondaryOffset),children:e}),f!=null&&!k&&j.jsx("div",{className:(h||(h=b("stylex")))(m.addOnTertiary),children:f})]})})})}a.displayName=a.name+" [from "+e.id+"]";c=j.forwardRef(a);e.exports=c}),null);
__d("useWIGLazyDialog",["useCometLazyDialog"],(function(a,b,c,d,e,f){a=b("useCometLazyDialog");c=a;e.exports=c}),null);
__d("WorkGalahadBadgingDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("WorkGalahadBadgingActions",["WorkGalahadBadgingDispatcher","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){b("setImmediateAcrossTransitions")(function(){b("WorkGalahadBadgingDispatcher").dispatch({type:"update_badge_count",section:a,count:c})})};f.updateCount=a}),null);
__d("WorkGalahadChatChannelStore",["FluxReduceStore","MessagingTag","WorkGalahadDispatcher","WorkGalahadLocalUISettingsHelper"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){switch(c.type){case"galahad/chat_change_folder":return babelHelpers["extends"]({},a,{folder:c.folder});case"galahad/chat_change_filter":b("WorkGalahadLocalUISettingsHelper").saveChatsFilterToStorage(String(c.filter));return babelHelpers["extends"]({},a,{filter:c.filter});default:return a}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return{filter:b("WorkGalahadLocalUISettingsHelper").getChatsFilterFromStorage(),folder:b("MessagingTag").INBOX}};d.getFolder=function(){return this.getState().folder};d.getFilter=function(){return this.getState().filter};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadDispatcher"));e.exports=c}),null);
__d("WorkGalahadDirectDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("WorkGalahadDirectActions",["WorkGalahadDirectDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){b("WorkGalahadDirectDispatcher").dispatch({type:"initialise",unreadDirectStories:a})};f.initialise=a;c=function(a,c){b("WorkGalahadDirectDispatcher").dispatch({type:"updateStory",storyID:a,isUnread:c})};f.updateStory=c}),null);
__d("useInWorkFocusMode",["CurrentUser","gkx","useWorkUserStatus"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("useWorkUserStatus")(b("CurrentUser").getID());a=a.userStatus;a=a==="doNotDisturb";var c=b("gkx")("1450486");return a&&c}}),null);
__d("WorkGalahadSearchOverlayEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();c=a;e.exports=c}),null);
__d("WorkGalahadTopLevelKeyCommandListener.react",["fbt","BaseKeyCommandListener.react","CometComponentWithKeyCommands.react","CometGlobalKeyCommandWidget","CometKeys","CometLayerKeyCommandWrapper.react","WorkGalahadSearchOverlayEventEmitter","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=i.useMemo(function(){return b("gkx")("997564")?[{command:{command:!0,key:b("CometKeys").K},description:g._("Ouvrir la recherche globale"),handler:function(){b("WorkGalahadSearchOverlayEventEmitter").emit("show")},shouldStopPropagation:!1,triggerFromInputs:!0}]:[]},[]);return i.jsx(b("CometGlobalKeyCommandWidget").Wrapper,{debugName:"global",children:i.jsx(b("BaseKeyCommandListener.react"),{observersEnabled:!0,children:i.jsx(b("CometLayerKeyCommandWrapper.react"),{children:i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:c,isWrapperFocusable:!0,children:a.children})})})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadTabContext.react",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({show_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:!1});e.exports=c}),null);
__d("WorkAppTabSet",["cr:1276838","cr:1276839","cr:1703309","cr:1907513","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;g||b("react");f=(d=(c=(a=b("cr:1276838"))!=null?a:b("cr:1907513"))!=null?c:b("cr:1703309"))!=null?d:b("cr:1276839");if(f==null)throw b("unrecoverableViolation")("no app tab config were passed to the current version of Workplace","work_comet_core");a=f;e.exports=a}),null);
__d("WorkGalahadProfileTabContainer.entrypoint",["JSResource","WorkGalahadProfileTabContainerQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:b("WorkGalahadProfileTabContainerQuery$Parameters"),variables:{}}}}},root:b("JSResource")("WorkGalahadProfileTabContainer.react").__setRef("WorkGalahadProfileTabContainer.entrypoint")};c=a;e.exports=c}),null);
__d("WorkPlatformTabContainer.entrypoint",["JSResource","WebPixelRatio","WorkPlatformTabContainerQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:b("WorkPlatformTabContainerQuery$Parameters"),variables:{scale:b("WebPixelRatio").get()}}}}},root:b("JSResource")("WorkPlatformTabContainer.react").__setRef("WorkPlatformTabContainer.entrypoint")};c=a;e.exports=c}),null);
__d("WorkGalahadChannelContentContext.react",["FluxHooks","JSScheduler","RelayHooks","Run","WorkAppTabSet","WorkGalahadNavStore","WorkGalahadProfileTabContainer.entrypoint","WorkPlatformTabContainer.entrypoint","createCometRelayEntryPointEnvironmentProvider","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.init=a;f.WorkGalahadChannelContentContextProvider=c;var g,h=g||b("react"),i=h.createContext({preloadedEntryPoints:{},currentAppTabID:null,setPreloadedEntryPoint:function(a,b){}});f.WorkGalahadChannelContentContext=i;function j(){return{currentAppTabID:b("WorkGalahadNavStore").getSelectedAppTabID()}}var k=!1,l=null,m=null;function a(a){l=a;if(l==="profile"){a=b("gkx")("1531107")?b("WorkPlatformTabContainer.entrypoint"):b("WorkGalahadProfileTabContainer.entrypoint");m=b("RelayHooks").loadEntryPoint(b("createCometRelayEntryPointEnvironmentProvider")(),a,{});return}a=b("WorkAppTabSet").find(function(a){return a.id===l});if((a==null?void 0:a.channelEntryPoint)!=null)m=b("RelayHooks").loadEntryPoint(b("createCometRelayEntryPointEnvironmentProvider")(),a.channelEntryPoint,{});else throw b("unrecoverableViolation")("couldnt find an entrypoint for current channel","work_comet_core")}function c(a){a=a.children;var c=b("FluxHooks").useFluxStore(b("WorkGalahadNavStore"),j),d=c.currentAppTabID,e=b("RelayHooks").useRelayEnvironment(),f=h.useMemo(function(){return{getEnvironment:function(a){return e}}},[e]);c=h.useState((c={},c[l]=m,c));var g=c[0],n=c[1];h.useEffect(function(){var a=b("Run").onLoad(function(){b("JSScheduler").scheduleSpeculativeCallback(function(){if(k||l==null||!b("gkx")("1756551"))return;var a={};b("WorkAppTabSet").forEach(function(c){c.id!=l&&c.channelEntryPoint!=null&&c.skipPreload!==!0&&(a[c.id]=b("RelayHooks").loadEntryPoint(f,c.channelEntryPoint,{}))});n(function(b){return babelHelpers["extends"]({},b,a)});k=!0})});return function(){return a.remove()}},[f]);var o=h.useCallback(function(a,b){if(Object.prototype.hasOwnProperty.call(g,a))return;n(function(c){return babelHelpers["extends"]({},c,(c={},c[a]=b,c))})},[g]);c=h.useMemo(function(){return{preloadedEntryPoints:g,currentAppTabID:d,setPreloadedEntryPoint:o}},[g,d,o]);return h.jsx(i.Provider,{value:c,children:a})}c.displayName=c.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadChannelItemChromeList.react",["WIGBaseGlimmer.react","WIGBaseLoadingStateElement.react","WorkGalahadUIChannelItem.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function j(a){var c=a.index,d=a.isIndented;d=d===void 0?!1:d;var e=a.isNested;e=e===void 0?!1:e;var f=a.roundIcon;f=f===void 0?!1:f;var g=a.size;g=g===void 0?"medium":g;a=a.textType;a=a===void 0?"single":a;return i.jsx("div",{children:i.jsx(b("WorkGalahadUIChannelItem.react"),{isSemanticListItem:!1,headline:i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:"100%"},className:"tv52aht6 foph6o47 oitujibm mu99tzkh",children:i.jsx(b("WIGBaseGlimmer.react"),{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"tc9e0ywr"},g==="small"?{"height-1":"qxlu86f3"}:null),index:c})}),a==="multi"?i.jsxs(i.Fragment,{children:[i.jsx(b("WIGBaseGlimmer.react"),{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"byl60bsq"},g==="small"?{"height-1":"qxlu86f3"}:null),index:c}),i.jsx(b("WIGBaseGlimmer.react"),{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"pbwg1s8d"},g==="small"?{"height-1":"qxlu86f3"}:null),index:c})]}):null]}),meta:a==="subtitled"?i.jsx(b("WIGBaseGlimmer.react"),{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"byl60bsq"},g==="small"?{"height-1":"qxlu86f3"}:null),index:c}):void 0,addOnPrimary:e?void 0:i.jsx(b("WIGBaseGlimmer.react"),{className:(h||(h=b("stylex"))).dedupe(g==="medium"?{"height-1":"ddmrlm6u","width-1":"oyfvlk2a"}:{},g==="small"?{"height-1":"mhmrsd19","width-1":"ez34a2ks"}:null,g==="large"?{"height-1":"gxaa0u11","width-1":"runnr3yg"}:null,f?{"border-top-start-radius-1":"fviam4sw","border-top-end-radius-1":"e3xoa9gt","border-bottom-end-radius-1":"c6boxllp","border-bottom-start-radius-1":"mukvf3dn"}:null,f?null:{"border-top-start-radius-1":"qcplsvq8","border-top-end-radius-1":"lbj7a7zq","border-bottom-end-radius-1":"qd9vfp32","border-bottom-start-radius-1":"ex16komz"}),index:c}),indentationLevel:d?2:1})})}j.displayName=j.name+" [from "+e.id+"]";function k(a){a=a.initialIndex;a=a===void 0?0:a;return i.jsx("div",{className:"t36ehdhz akl1aaa0 mu99tzkh kykouyfj p8o7x76n bv6y7xb9 tgxds0u3",children:i.jsx(b("WIGBaseGlimmer.react"),{className:"mq32vg4l pc5scjqj ouhd256r prqhm3cj h2bzcsm2 nfce3akt y0l0x72j d1e651vp oz48ar1p lf6jz1fy byl60bsq",index:a})})}k.displayName=k.name+" [from "+e.id+"]";function a(a){var c=a.amount,d=a.type,e=a.withHeader;e=e===void 0?!1:e;a=a.initialIndex;a=a===void 0?0:a;var f;switch(d){case"groups":case"teams":f={isIndented:!0};break;case"people":f={roundIcon:!0,isIndented:!0};break;case"notifications":f={textType:"multi",roundIcon:!0,size:"large",isIndented:!0};break;case"minimall":f={textType:"multi",roundIcon:!0,isIndented:!0};break;case"inlineMinimall":f={textType:"multi",roundIcon:!0,isNested:!0,isIndented:!0};break;case"search":f={textType:"subtitled"};break;case"chats":f={roundIcon:!0,size:"large",isIndented:!0};break;case"quick-chat":f={roundIcon:!0,size:"small"};break;case"dense-chats":f={roundIcon:!0,size:"small",isIndented:!0};break;case"message-search":f={textType:"subtitled",roundIcon:!0};break;default:d}d=[];for(var g=0;g<c;g++)d.push(i.jsx(j,babelHelpers["extends"]({index:g+a},f),g));return i.jsxs(b("WIGBaseLoadingStateElement.react"),{children:[e?i.jsx(k,{initialIndex:a}):null,d]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadUIChannelScrollableArea.react",["cr:1450021"],(function(a,b,c,d,e,f){e.exports=b("cr:1450021")}),null);
__d("useWorkGalahadChannelEntryPoint",["RelayHooks","WorkGalahadChannelContentContext.react","react","recoverableViolation","useCometPrerenderer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useRef(null),e=h.useCallback(function(){d.current=null},[]),f=b("RelayHooks").useRelayEnvironment(),g=h.useContext(b("WorkGalahadChannelContentContext.react").WorkGalahadChannelContentContext),i=g.setPreloadedEntryPoint;g=g.preloadedEntryPoints;var j=h.useMemo(function(){return{getEnvironment:function(a){return f}}},[f]),k=h.useCallback(function(){var e;(d.current==null||d.current[c]==null||d.current[c].channelEntryPoint!==a)&&(d.current==null&&(d.current={}),d.current[c]={channelEntryPoint:a,preloadedEntryPoint:b("RelayHooks").loadEntryPoint(j,a,{})});return(e=d.current[c])==null?void 0:e.preloadedEntryPoint},[c,a,j]);e=b("useCometPrerenderer")("button",!1,a==null?void 0:a.root,k,e);e[0];var l=e[1],m=e[2];e=e[3];var n=h.useCallback(function(){var a=k();if(a==null){b("recoverableViolation")("Unable to present Galahad Channel EntryPoint","work_comet_core");return}i(c,a)},[c,k,i]);g=Object.prototype.hasOwnProperty.call(g,c);return[n,l,m,e,g]}}),null);
__d("WorkGalahadCenteredProgressIndicator.react",["WIGProgressIndicator.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={root:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"mu99tzkh",flexDirection:"tv52aht6",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",alignItems:"t36ehdhz",justifyContent:"lhmcu1i6",width:"lenub8rc"}};function a(a){return i.jsx("div",{className:(h||(h=b("stylex")))([j.root,a.xstyle]),children:i.jsx(b("WIGProgressIndicator.react"),{})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadUIBaseAppTabBadge.react",["fbt","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react");function a(a){var c=a.count,d=a.hovered,e=a.selected;a=a.useGreyBadging;return!c?null:j.jsx("span",{className:(i||(i=b("stylex"))).dedupe({"border-top-start-radius-1":"jp8o2j3k","border-top-end-radius-1":"q1nbkmyk","border-bottom-end-radius-1":"mhhz7anb","border-bottom-start-radius-1":"sp55aj51","color-1":"hk9qcz1a","height-1":"if5z21mn","min-width-1":"e7hkp77a","padding-top-1":"zfmvpfxx","padding-end-1":"oezj9sof","padding-bottom-1":"a3m408la","padding-start-1":"byy4hl57","position-1":"i8ovu4tj","border-top-0.3":"rri08el0","border-end-0.3":"jqzf0nym","border-bottom-0.3":"t1cy9j8n","border-start-0.3":"irs5dfsv","right-1":"kryyc1jv","text-align-1":"an5vjm4i","top-1":"l8mf7bn8"},a?null:{"background-color-1":"mbh1gjd7"},d&&!e?{"border-top-0.3":"b8xc93dc","border-end-0.3":"dl98p274","border-bottom-0.3":"toxe1i4w","border-start-0.3":"chslo2dz"}:null,a?{"background-color-1":"sj9vf7vj"}:null,e?{"border-top-0.3":"shjxirp0","border-end-0.3":"ng8tb2iu","border-bottom-0.3":"o73vflcm","border-start-0.3":"h5eei1do"}:null),"aria-label":g._("Nombre de {notifications or messages} non lus",[g._param("notifications or messages",c)]),children:j.jsx("span",{className:"tootvral q23b8dvj s1fzsces","aria-hidden":"true",children:c>99?"99+":c})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadAppTabChatBadgeRenderer.react",["WorkGalahadUIBaseAppTabBadge.react","react","useGeminiChatUnreadCount"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("useGeminiChatUnreadCount")();return h.jsx(b("WorkGalahadUIBaseAppTabBadge.react"),babelHelpers["extends"]({},a,{count:c}))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadSkeletonState",["Event","Locale","SubscriptionsHandler","WIGTransientDialogProvider.react","WorkGalahadNavUIState","WorkGalahadScrollState","WorkGalahadTopLevelKeyCommandListener.react","WorkGalahadTopbar","emptyFunction","getViewportDimensions","queryThenMutateDOM","react","shallowEqual","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h=g||(g=b("react"));c=g;var i=c.useCallback,j=c.useContext,k=c.useRef,l=c.useState,m=b("WorkGalahadScrollState").useIsFixedModalOpenAndScrolled,n={navColumnWidth:void 0,navColumnXOffset:void 0,entityColumnWidth:void 0,viewportHeight:void 0,viewportWidth:void 0,handleResize:b("emptyFunction")},o=h.createContext(n);function a(a){a=a.renderChildren;var c=l(n),d=c[0],e=c[1],f=k(d);f.current=d;var g=k(null),j=k(null),q=i(function(){var a=g.current,c=j.current;if(a==null||c==null)return;var d=b("getViewportDimensions")(),h;b("queryThenMutateDOM")(function(){h={navColumnXOffset:p(a),navColumnWidth:a.offsetWidth,entityColumnWidth:c.clientWidth,viewportHeight:d.height,viewportWidth:d.width,handleResize:q}},function(){b("shallowEqual")(f.current,h)||e(h)})},[j,g]),r=m(),s=i(function(){var a=g.current;if(!a)return;var c;if(r())return;b("queryThenMutateDOM")(function(){c=p(a)},function(){c!==f.current.navColumnXOffset&&e(function(a){return babelHelpers["extends"]({},a,{navColumnXOffset:c})})})},[r,g]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){q();s();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(window,"resize",q),b("Event").listen(window,"scroll",s));return function(){return a.release()}},[q,s]);return h.jsx(o.Provider,{value:d,children:h.jsx(b("WorkGalahadScrollState").Provider,{children:h.jsx(b("WorkGalahadNavUIState").Provider,{children:h.jsx(b("WorkGalahadTopbar").LeaderProvider,{children:h.jsx(b("WorkGalahadTopLevelKeyCommandListener.react"),{children:h.jsx(b("WIGTransientDialogProvider.react"),{children:h.jsx("div",{className:"rpt3ley2 hal92y33",children:a({navColumnRef:g,entityColumnRef:j})})})})})})})})}a.displayName=a.name+" [from "+e.id+"]";function p(a){a=a.getBoundingClientRect();return b("Locale").isRTL()?b("getViewportDimensions").withoutScrollbars().width-a.right:a.left}d=function(){return j(o)};e.exports={Provider:a,useViewportState:d}}),null);
__d("useWorkInviteModal.react",["JSResource","useWIGLazyDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("JSResource")("WorkInviteDialog.react").__setRef("useWorkInviteModal.react");function a(a){var c=a.source,d=a.creationSourceAdmin;a=b("useWIGLazyDialog")(g);var e=a[0],f=function(){e({source:c,creationSourceAdmin:d},function(){})};return function(a){return f()}}}),null);
__d("WorkGalahadNotificationsTabContainerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4083339891689193",metadata:{},name:"WorkGalahadNotificationsTabContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("WorkGalahadNotificationsBadgeQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"},{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"seen_state",value:"UNSEEN_AND_UNREAD"}],concreteType:"NotificationsConnection",kind:"LinkedField",name:"notifications",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkGalahadNotificationsBadgeQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkGalahadNotificationsBadgeQuery",selections:b},params:{id:"3649014028540537",metadata:{},name:"WorkGalahadNotificationsBadgeQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("isClickWithModifierKey",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){return a&&(a.ctrlKey||a.metaKey||a.shiftKey)}}),null);
__d("WorkGalahadDirectStore",["FluxReduceStore","WorkGalahadDirectDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"initialise":return babelHelpers["extends"]({},a,{unreadDirectStories:new Set(b.unreadDirectStories)});case"updateStory":if(b.isUnread)return babelHelpers["extends"]({},a,{unreadDirectStories:a.unreadDirectStories.add(b.storyID)});else{var c=new Set(a.unreadDirectStories);c["delete"](b.storyID);return babelHelpers["extends"]({},a,{unreadDirectStories:c})}default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{unreadDirectStories:new Set()}};c.getUnreadCount=function(){return this.getState().unreadDirectStories.size};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadDirectDispatcher"));e.exports=c}),null);
__d("WorkGalahadAppTabID",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE:"profile",HOME:"home",NOTIFICATIONS:"notifications",CHATS:"chats",ADMIN_PANEL:"admin_panel",ESSENTIAL_MIGRATION:"essential_migration",DIRECT:"direct",VC:"vc",CALL:"call",GARDENS:"gardens",MEETING:"meeting",FILES:"files",FEED:"feed",SEARCH:"search",EXPLORE:"explore",TOOLS:"tools",ACCOUNTS_ONLY:"accounts_only"});e.exports=a}),null);
__d("WorkGalahadAppTabIDUtil",["WorkGalahadAppTabID","getJSEnumSafe","gkx"],(function(a,b,c,d,e,f){"use strict";f.getTabID=a;f.getChatTabID=c;f.getProductSpecificHomeTabID=d;function a(a){return b("getJSEnumSafe")(b("WorkGalahadAppTabID"),a)}function c(){return b("gkx")("1328707")?"home":"chats"}function d(){return b("gkx")("1703310")?"gardens":"home"}}),null);
__d("WorkGalahadNavStore",["FluxReduceStore","WorkGalahadAppTabIDUtil","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=function(){return{lastNavigationIntentTimestamp:Date.now()}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){var d;switch(b.type){case"nav/markPendingTransition":return babelHelpers["extends"]({},a,g(),{pendingTransitionState:{appTabID:b.appTabID,entityKeys:b.entityKeys,uri:b.uri}});case"nav/setActiveEntityKeys":return c.$WorkGalahadNavStore1(a,b.entityKeys);case"nav/selectAppTabID":return c.$WorkGalahadNavStore2(a,b.appTabID);case"nav/pushStackedChannel":return babelHelpers["extends"]({},a,g(),{stackedChannelData:[].concat(a.stackedChannelData,[b.stackedChannelData])});case"nav/replaceStackedChannel":return babelHelpers["extends"]({},a,{stackedChannelData:[].concat(a.stackedChannelData.slice(0,-1),[b.stackedChannelData])});case"nav/dismissStackedChannel":return babelHelpers["extends"]({},a,g(),{stackedChannelData:a.stackedChannelData.slice(0,-1)});case"nav/dismissAllStackedChannels":return babelHelpers["extends"]({},a,g(),{stackedChannelData:[]});case"nav/startLoading":var e=babelHelpers["extends"]({},a,{loading:!0});if(b.uri===((d=e)==null?void 0:(d=d.pendingTransitionState)==null?void 0:d.uri)){e=c.$WorkGalahadNavStore1(e,((d=e.pendingTransitionState)==null?void 0:d.entityKeys)||e.activeEntityKeys);e=c.$WorkGalahadNavStore2(e,((d=e.pendingTransitionState)==null?void 0:d.appTabID)||e.selectedAppTabID)}return babelHelpers["extends"]({},e,{pendingTransitionState:void 0});case"nav/stopLoading":return babelHelpers["extends"]({},a,{loading:!1});case"nav/showPublicContentBanner":return babelHelpers["extends"]({},a,{publicContentBanner:b.html});case"nav/hidePublicContentBanner":return babelHelpers["extends"]({},a,{publicContentBanner:void 0});default:return a}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return{activeEntityKeys:[],loading:!1,selectedAppTabID:b("WorkGalahadAppTabIDUtil").getProductSpecificHomeTabID(),lastNavigationIntentTimestamp:0,publicContentBanner:void 0,stackedChannelData:[],pendingTransitionState:void 0}};d.getActiveEntityKeys=function(){return[].concat(this.getState().activeEntityKeys)};d.getSelectedAppTabID=function(){return this.getState().selectedAppTabID};d.getNavigationKey=function(){return"navigation-key-"+this.getState().lastNavigationIntentTimestamp};d.getStackedChannelData=function(){var a=this.getState().stackedChannelData;return a[a.length-1]};d.isLoading=function(){return this.getState().loading};d.getPublicContentBanner=function(){return this.getState().publicContentBanner};d.$WorkGalahadNavStore1=function(a,b){return a.activeEntityKeys.length===b.length&&a.activeEntityKeys.every(function(a,c){return a===b[c]})?a:babelHelpers["extends"]({},a,{activeEntityKeys:[].concat(b)})};d.$WorkGalahadNavStore2=function(a,b){return a.selectedAppTabID!==b?babelHelpers["extends"]({},a,g(),{selectedAppTabID:b,stackedChannelData:[]}):babelHelpers["extends"]({},a,g())};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadDispatcher"));e.exports=c}),null);
__d("WorkGalahadBadging",["SubscriptionsHandler","WorkGalahadBadgingActions","WorkGalahadDirectActions","WorkGalahadDirectStore","WorkGalahadNavStore"],(function(a,b,c,d,e,f){"use strict";f.initDirect=a;var g=new(b("SubscriptionsHandler"))();function a(a){b("WorkGalahadDirectActions").initialise(a);a=function(){if(b("WorkGalahadNavStore").getSelectedAppTabID()=="direct")return;b("WorkGalahadBadgingActions").updateCount("direct",b("WorkGalahadDirectStore").getUnreadCount())};a();g.addSubscriptions(b("WorkGalahadDirectStore").addListener(a))}}),null);
__d("WIGCircleButton.react",["TetraCircleButton.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){return h.jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({ref:c},a))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("WIGDropdownMenuItemIcon",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c={article:{normal:(a=b("fbicon"))._(g("555276"),16),large:a._(g("555278"),20)},badge:{normal:a._(g("496911"),16),large:a._(g("496914"),20)},badge_empty:{normal:a._(g("1147792"),16),large:a._(g("1241355"),20)},badge_star:{normal:a._(g("949986"),16),large:a._(g("949987"),20)},bar_chart:{normal:a._(g("489803"),16),large:a._(g("489804"),20)},building_city:{normal:a._(g("497092"),16),large:a._(g("497094"),20)},checkmark:{normal:a._(g("477813"),16),large:a._(g("477814"),20)},checkmark_circle:{normal:a._(g("498148"),16),large:a._(g("498149"),20)},checkmark_selected:{normal:a._(g("498145"),16),large:a._(g("498146"),20)},checkmark_unselected:{normal:a._(g("545515"),16),large:a._(g("545517"),20)},cross_circle:{normal:a._(g("491583"),16),large:a._(g("491584"),20)},cross_circle_dark:{normal:a._(g("491583"),16),large:a._(g("491584"),20)},edit_history:{normal:a._(g("486485"),16),large:a._(g("649685"),20)},envelope:{normal:a._(g("495081"),16),large:a._(g("495082"),20)},envelope_open:{normal:a._(g("615630"),16),large:a._(g("1163975"),20)},feedback:{normal:a._(g("555451"),16),large:a._(g("555452"),20)},settings:{normal:a._(g("497569"),16),large:a._(g("497570"),20)},bell_null:{normal:a._(g("532355"),16),large:a._(g("532356"),20)},bell_null_ring:{normal:a._(g("1086073"),16),large:a._(g("1086775"),20)},settings_filled:{normal:a._(g("497569"),16),large:a._(g("497570"),20)},bell:{normal:a._(g("532355"),16),large:a._(g("532356"),20)},bell_null_cross:{normal:a._(g("549627"),16),large:a._(g("652791"),20)},news_feed:{normal:a._(g("607152"),16),large:a._(g("607154"),20)},tag:{normal:a._(g("502477"),16),large:a._(g("502479"),20)},pushpin:{normal:a._(g("511757"),16),large:a._(g("511758"),20)},pushpin_slash:{normal:a._(g("832465"),16),large:a._(g("832467"),20)},report:{normal:a._(g("490582"),16),large:a._(g("490583"),20)},leave:{normal:a._(g("538182"),16),large:a._(g("538183"),20)},leave_door:{normal:a._(g("951890"),16),large:a._(g("951891"),20)},list_gear:{normal:a._(g("495775"),16),large:a._(g("495776"),20)},badge_admin:{normal:a._(g("534296"),16),large:a._(g("530477"),20)},badge_moderator:{normal:a._(g("507493"),16),large:a._(g("487606"),20)},line_chart:{normal:a._(g("487672"),16),large:a._(g("487673"),20)},box:{normal:a._(g("485304"),16),large:a._(g("485305"),20)},cross:{normal:a._(g("478237"),16),large:a._(g("478238"),20)},friend_add:{normal:a._(g("497889"),16),large:a._(g("497891"),20)},friend_confirm:{normal:a._(g("538343"),16),large:a._(g("538346"),20)},friend_list:{normal:a._(g("949992"),16),large:a._(g("949993"),20)},friends:{normal:a._(g("487561"),16),large:a._(g("487562"),20)},friends_plus:{normal:a._(g("861525"),16),large:a._(g("861526"),20)},friends_circle:{normal:a._(g("506670"),16),large:a._(g("546483"),20)},follow:{normal:a._(g("618355"),16),large:a._(g("618356"),20)},unfollow:{normal:a._(g("578905"),16),large:a._(g("578906"),20)},customize:{normal:a._(g("868371"),16),large:a._(g("868372"),20)},text:{normal:a._(g("480549"),16),large:a._(g("657786"),20)},photo:{normal:a._(g("496945"),16),large:a._(g("540023"),20)},emoji:{normal:a._(g("509925"),16),large:a._(g("509927"),20)},pencil:{normal:a._(g("477830"),16),large:a._(g("477831"),20)},pencil_underline:{normal:a._(g("987427"),16),large:a._(g("987429"),20)},color:{normal:a._(g("785871"),16),large:a._(g("785872"),20)},trash:{normal:a._(g("483828"),16),large:a._(g("483829"),20)},privacy:{normal:a._(g("497247"),16),large:a._(g("497248"),20)},caution_octagon:{normal:a._(g("599483"),16),large:a._(g("599484"),20)},hide:{normal:a._(g("577042"),16),large:a._(g("577043"),20)},undo:{normal:a._(g("477835"),16),large:a._(g("725928"),20)},confirmation:{normal:a._(g("479179"),16),large:a._(g("479180"),20)},claim:{normal:a._(g("652513"),16),large:a._(g("652514"),20)},download:{normal:a._(g("489717"),16),large:a._(g("489719"),20)},friend_request:{normal:a._(g("502673"),16),large:a._(g("502674"),20)},minus_circle:{normal:a._(g("494415"),16),large:a._(g("518013"),20)},megaphone:{normal:a._(g("534264"),16),large:a._(g("534265"),20)},envelope_send:{normal:a._(g("488896"),16),large:a._(g("488897"),20)},status:{normal:a._(g("642536"),16),large:a._(g("642537"),20)},upload:{normal:a._(g("568448"),16),large:a._(g("568449"),20)},arrow_move:{normal:a._(g("697184"),16),large:a._(g("697185"),20)},bookmark:{normal:a._(g("495616"),16),large:a._(g("495628"),20)},list_bullet:{normal:a._(g("486362"),16),large:a._(g("486366"),20)},language:{normal:a._(g("578329"),16),large:a._(g("578330"),20)},moon:{normal:a._(g("832947"),16),large:a._(g("832949"),20)},moon_filled:{normal:a._(g("832939"),16),large:a._(g("832941"),20)},friend_block:{normal:a._(g("482897"),16),large:a._(g("482898"),20)},square_corner_bottom_right_box:{normal:a._(g("1147794"),16),large:a._(g("1147795"),20)},resize_down:{normal:a._(g("517760"),16),large:a._(g("528442"),20)},resize_up:{normal:a._(g("517765"),16),large:a._(g("595830"),20)},broom:{normal:a._(g("657222"),16),large:a._(g("673056"),20)},group:{normal:a._(g("485100"),16),large:a._(g("485103"),20)},group_checkmark:{normal:a._(g("1009565"),16),large:a._(g("1146086"),20)},group_arrow_right:{normal:a._(g("1009557"),16),large:a._(g("1919303"),20)},group_plus:{normal:a._(g("943401"),16),large:a._(g("943402"),20)},play_circle:{normal:a._(g("656364"),16),large:a._(g("656366"),20)},stop:{normal:a._(g("538078"),16),large:a._(g("538079"),20)},info_cursive:{normal:a._(g("721632"),16),large:a._(g("721633"),20)},copy:{normal:a._(g("500198"),16),large:a._(g("500199"),20)},workplace:{normal:a._(g("587156"),16),large:a._(g("587157"),20)},workplace_chat:{normal:a._(g("484753"),16),large:a._(g("484755"),20)},magic_wand:{normal:a._(g("688907"),16),large:a._(g("688908"),20)},slash_circle:{normal:a._(g("812005"),16),large:a._(g("1166721"),20)},document:{normal:a._(g("728247"),16),large:a._(g("728248"),20)},documents:{normal:a._(g("620424"),16),large:a._(g("620426"),20)},direct:{normal:a._(g("587475"),16),large:a._(g("583729"),20)},friend_edit:{normal:a._(g("584466"),16),large:a._(g("584467"),20)},friend_remove:{normal:a._(g("664706"),16),large:a._(g("664707"),20)},friend_book_appointment:{normal:a._(g("705379"),16),large:a._(g("705380"),20)},import_export:{normal:a._(g("514769"),16),large:a._(g("789007"),20)},link:{normal:a._(g("481765"),16),large:a._(g("481767"),20)},privacy_unlocked:{normal:a._(g("551188"),16),large:a._(g("551189"),20)},briefcase:{normal:a._(g("481907"),16),large:a._(g("481908"),20)},folder:{normal:a._(g("709654"),16),large:a._(g("793545"),20)},caution:{normal:a._(g("1071941"),16),large:a._(g("1071942"),20)},post:{normal:a._(g("729678"),16),large:a._(g("729679"),20)},life_preserver:{normal:a._(g("822483"),16),large:a._(g("822484"),20)},bug:{normal:a._(g("530511"),16),large:a._(g("530512"),20)},bulb:{normal:a._(g("492706"),16),large:a._(g("492708"),20)},star:{normal:a._(g("479360"),16),large:a._(g("479363"),20)},star_slash:{normal:a._(g("1209583"),16),large:a._(g("1498943"),20)},plus:{normal:a._(g("483771"),16),large:a._(g("483772"),20)},plus_circle:{normal:a._(g("487089"),16),large:a._(g("487090"),20)},arrow_left:{normal:a._(g("512649"),16),large:a._(g("512652"),20)},arrow_left_circle:{normal:a._(g("693885"),16),large:a._(g("641700"),20)},arrow_right:{normal:a._(g("514458"),16),large:a._(g("514460"),20)},desktop_feed:{normal:a._(g("584519"),16),large:a._(g("560113"),20)},phone:{normal:a._(g("558163"),16),large:a._(g("558164"),20)},camcorder:{normal:a._(g("493175"),16),large:a._(g("493176"),20)},camcorder_plus:{normal:a._(g("662995"),16),large:a._(g("663001"),20)},calendar:{normal:a._(g("481124"),16),large:a._(g("481127"),20)},calendar_add:{normal:a._(g("640915"),16),large:a._(g("640916"),20)},messages:{normal:a._(g("542885"),16),large:a._(g("610742"),20)},messages_compose:{normal:a._(g("518663"),16),large:a._(g("1570728"),20)},account_switch:{normal:a._(g("681066"),16),large:a._(g("681067"),20)},org_chart:{normal:a._(g("483874"),16),large:a._(g("483877"),20)},high_five_hands:{normal:a._(g("879279"),16),large:a._(g("879280"),20)},profile_facebook:{normal:a._(g("549870"),16),large:a._(g("549871"),20)},text_align_left:{normal:a._(g("567264"),16),large:a._(g("653208"),20)},comment:{normal:a._(g("508557"),16),large:a._(g("508559"),20)},comment_slash:{normal:a._(g("995803"),16),large:a._(g("995804"),20)},eye:{normal:a._(g("491230"),16),large:a._(g("491231"),20)},eye_cross:{normal:a._(g("491224"),16),large:a._(g("570537"),20)},share_external:{normal:a._(g("509932"),16),large:a._(g("509934"),20)},code:{normal:a._(g("498853"),16),large:a._(g("498857"),20)},keyFilled:{normal:a._(g("679301"),16),large:a._(g("679302"),20)},shareFilled:{normal:a._(g("484394"),16),large:a._(g("484396"),20)},copyFilled:{normal:a._(g("500196"),16),large:a._(g("500197"),20)},leaveDoorFilled:{normal:a._(g("951887"),16),large:a._(g("951888"),20)},refreshLeftFilled:{normal:a._(g("534218"),16),large:a._(g("534219"),20)},friendBlockFilled:{normal:a._(g("482896"),16),large:a._(g("565762"),20)},question_circle:{normal:a._(g("496957"),16),large:a._(g("496959"),20)},desktop_install:{normal:a._(g("788438"),16),large:a._(g("1816563"),20)},alarm_clock:{normal:a._(g("763177"),16),large:a._(g("874648"),20)},following:{normal:a._(g("602179"),16),large:a._(g("602180"),20)},outlook:{normal:a._(g("1704945"),16),large:a._(g("787568"),20)},profile:{normal:a._(g("558622"),16),large:a._(g("558623"),20)},google:{normal:a._(g("857328"),16),large:a._(g("931625"),20)},tv:{normal:a._(g("530297"),16),large:a._(g("530299"),20)},note:{normal:a._(g("497067"),16),large:a._(g("497068"),20)},creative_formats:{normal:a._(g("506254"),16),large:a._(g("506255"),20)}};d=c;e.exports=d}),null);
__d("WIGDropdownMenuPageDataContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({pushPage:function(){},returnToPreviousPage:function(){},width:0,moveFocus:function(){},onClose:function(){}});d=c;e.exports=d}),null);
__d("WIGScrollableArea.react",["CometScrollableArea.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){return h.jsx(b("CometScrollableArea.react"),babelHelpers["extends"]({ref:c},a))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("WIGDropdownMenuPage.react",["BaseContextualLayerAvailableHeightContext","WIGDropdownMenuPageDataContext","WIGScrollableArea.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=15,j=145;function a(a){var c=a.label,d=a.items,e=a.width,f=a.pushPage,g=a.returnToPreviousPage,k=a.onClose;a=a.truncate;a=a===void 0?!1:a;var l=h.useRef(null),m=h.useCallback(function(a){var b=l.current;if(b!=null){b=Array.prototype.slice.call(b.querySelectorAll("li > div > div:not([aria-disabled=true]), li > div > a:not([aria-disabled=true])"));var c=b.indexOf(document.activeElement);c=c+(a?-1:1);b[(c+b.length)%b.length].focus()}},[]),n=h.useMemo(function(){return{pushPage:f,returnToPreviousPage:g,width:e,moveFocus:m,onClose:k}},[f,g,e,m,k]),o=h.useContext(b("BaseContextualLayerAvailableHeightContext"));o!=null&&(o-=i);o=a?Math.max(j,(a=o)!=null?a:0):null;return h.jsx(b("WIGScrollableArea.react"),{testid:void 0,horizontal:!1,style:o!=null?{maxHeight:o}:void 0,vertical:!0,children:h.jsx("ul",{ref:l,className:"sgyxnsb9 s9o98cno o4ucoh2i","data-testid":void 0,style:{width:e},role:"menu","aria-orientation":"vertical","aria-label":c,children:h.jsx(b("WIGDropdownMenuPageDataContext").Provider,{value:n,children:d})})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGDropdownMenuSeparator.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsx("li",{role:"separator","aria-orientation":"horizontal",className:"lenub8rc hmw2pi96 sgyxnsb9 ffozemys s9o98cno tdgv6ycz","data-testid":void 0,children:h.jsx("div",{className:"lenub8rc l07gckn7"})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGPressable.react",["CometPressable.react","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");function a(a,c){return h.jsx(b("CometPressable.react"),babelHelpers["extends"]({},a,{ref:c}))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("WIGProgressIndicator.react",["CometProgressIndicator.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometProgressIndicator.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGText.react",["TetraText.react","react"],(function(a,b,c,d,e,f){e.exports=a;var g,h=g||b("react");function a(a){return h.createElement(b("TetraText.react"),a)}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGTextPairing.react",["TetraTextPairing.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("TetraTextPairing.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGToggle.react",["CometToggle.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["label"]);return h.jsx(b("CometToggle.react"),babelHelpers["extends"]({},a,{children:c}))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGTooltip.react",["CometTooltip.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometTooltip.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGDropdownMenuItem.react",["fbt","ix","CometComponentWithKeyCommands.react","CometKeys","CometMenuContext","CometMenuItemHighlightContext","Locale","URI","WIGDropdownMenuItemIcon","WIGDropdownMenuPage.react","WIGDropdownMenuPageDataContext","WIGDropdownMenuSeparator.react","WIGIcon.react","WIGPressable.react","WIGProgressIndicator.react","WIGText.react","WIGTextPairing.react","WIGToggle.react","WIGTooltip.react","fbicon","isClickWithModifierKey","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=o;var i,j,k,l=i||b("react"),m={chevron:{position:"i8ovu4tj",end:"oiqzm2td",top:"ijq9shbx",transform:"q8s3lw0m"},listItemWithMenu:{paddingEnd:"a8ojd0w5"},headerPadding:{paddingTop:"qtqska47",paddingEnd:"ffozemys",paddingBottom:"frd5t9lq",paddingStart:"hmw2pi96"},content:{alignItems:"t36ehdhz",display:"mu99tzkh",flexDirection:"sulwup3a",flexGrow:"ftjbd6cl",justifyContent:"akl1aaa0",minWidth:"f0w9ysip"},ie11Fix:{width:"lenub8rc"},disabled:{cursor:"suox7tme"},"static":{cursor:"lh9u6eu3",paddingTop:"s9o98cno",paddingEnd:"q8ag7aew",paddingBottom:"sgyxnsb9",paddingStart:"spg5mz9m"},highlighted:{cursor:"q32uoppu"},icon:{display:"mu99tzkh",marginEnd:"oypfxdan",minWidth:"j8x8gz3x"},listItem:{appearance:"q6hehfbq",backgroundColor:"gn4v5x10",borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",cursor:"q32uoppu",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",borderTopStartRadius:"qmeogzn2",borderTopEndRadius:"u6iefp1u",borderBottomEndRadius:"e1xo9hdk",borderBottomStartRadius:"q9gqyozj",display:"mu99tzkh",flexDirection:"sulwup3a",marginTop:"kyu6y8np",marginEnd:"ewe7nd7x",marginBottom:"jgcuv4po",marginStart:"q877oug0",textAlign:"p0sx10uy"},listItemWithContent:{paddingTop:"qtqska47",paddingEnd:"q8ag7aew",paddingBottom:"frd5t9lq",paddingStart:"spg5mz9m"},listItemWithoutContent:{alignItems:"t36ehdhz"},listItemWithIcon:{paddingTop:"s9o98cno",paddingEnd:"q8ag7aew",paddingBottom:"sgyxnsb9",paddingStart:"spg5mz9m"},loading:{marginStart:"ao5u0itg",marginEnd:"hubl8unh",minWidth:"ecfnmvjv"},root:{alignItems:"qzq7978s",display:"mu99tzkh",flexDirection:"tv52aht6"},toggleContainer:{borderStyle:"olwqhsk7",borderWidth:"j6ngj7h7",boxSizing:"tdgv6ycz",display:"fnknxenh",flexGrow:"ftjbd6cl",flexShrink:"kqlegusg",marginBottom:"jgcuv4po",marginEnd:"ouhd256r",marginStart:"mq32vg4l",marginTop:"kyu6y8np",minHeight:"eg3o40xf",minWidth:"f0w9ysip",paddingBottom:"a3m408la",paddingEnd:"m3p3afjb",paddingStart:"eimatuwp",paddingTop:"zfmvpfxx",position:"hal92y33",zIndex:"rpt3ley2",flexDirection:"sulwup3a",alignItems:"t36ehdhz",width:"lenub8rc",justifyContent:"akl1aaa0",color:"rbhr0lfg"},toggleItem:{width:"sdnbq6uj"},toggleContainerWithoutIcon:{marginTop:"bv6y7xb9",marginEnd:"ewe7nd7x",marginBottom:"tgxds0u3",marginStart:"q877oug0"}},n=function(a){a=a.children;return a};function o(a){return l.jsx(p,babelHelpers["extends"]({},a))}o.displayName=o.name+" [from "+e.id+"]";function p(a){var c=a.label,d=a.onClick,e=a.wigIcon_DEPRECATED,f=a.icon,i=a.desc,p=a.isStatic,q=p===void 0?!1:p;p=a.href;var r=a.hideOnClick;r=r===void 0?!0:r;var s=a.navigateBackOnClick,t=s===void 0?!1:s;s=a.items;s=s===void 0?[]:s;var u=a.isLoading,v=u===void 0?!1:u;u=a.download;u=u===void 0?!1:u;var w=a.LinkRenderer,x=a.testid;x=x===void 0?"wig-dropdown-menu-item":x;x=a.isDisabled;var y=x===void 0?!1:x,z=a.children;x=a.target;var A=a.role,B=a.isChecked;B=B===void 0?!1:B;a=a.truncate;var C=a===void 0?!1:a;a=l.useState(!1);var D=a[0],E=a[1];a=l.useState(!1);var F=a[0],G=a[1],H=v||q,I=s!=null&&s.length>0,J=f;if(!J&&e!=null){J=(a=b("WIGDropdownMenuItemIcon")[e])==null?void 0:a.large}e=(f=w)!=null?f:n;a=l.useContext(b("CometMenuContext"));var K=r===!0&&s.length===0?a&&a.onClose:null,L=b("Locale").isRTL()?b("fbicon")._(h("492485"),16):b("fbicon")._(h("492533"),16);w=l.useContext(b("WIGDropdownMenuPageDataContext"));var M=w.moveFocus,N=w.pushPage,O=w.returnToPreviousPage,P=w.width,Q=l.useRef(s);Q.current=s;var R=l.useCallback(function(){if(I){var a=l.jsx(o,{desc:g._("Pr\u00e9c\u00e9dent"),hideOnClick:!1,icon:b("Locale").isRTL()?b("fbicon")._(h("514460"),20):b("fbicon")._(h("512652"),20),navigateBackOnClick:!0},"back-button"),c=l.jsx(o.Separator,{},"back-button-separator");G(!0);N(function(d){var e=d.onReturn;return l.jsx(b("WIGDropdownMenuPage.react"),{items:[a,c].concat(Q.current),width:P,pushPage:N,returnToPreviousPage:function(){G(!1),e()},label:"",truncate:C})})}},[I,N,C,P]);f=[{command:{key:b("CometKeys").UP},description:g._("Revenir \u00e0 l\u2019\u00e9l\u00e9ment pr\u00e9c\u00e9dent"),handler:function(){M(!0)}},{command:{key:b("CometKeys").DOWN},description:g._("Passer \u00e0 l\u2019\u00e9l\u00e9ment suivant"),handler:function(){M(!1)}},{command:{key:b("CometKeys").LEFT},description:g._("Revenez au menu parent"),handler:function(){O!=null&&t===!0&&O()}},{command:{key:b("CometKeys").RIGHT},description:g._("Allez au menu enfant"),handler:function(){R()}}];l.useEffect(function(){D&&K&&K()},[D,K]);r=q||v?{role:"presentation"}:A==="checkbox"?{role:"menuitemcheckbox","aria-checked":B}:A==="radio"?{role:"menuitemradio","aria-checked":B}:{role:"menuitem"};return l.jsx("li",{className:(j||(j=b("stylex")))(m.root),"data-testid":void 0,children:e({children:l.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:f,children:l.jsx(b("WIGPressable.react"),babelHelpers["extends"]({testid:void 0},r,{"aria-haspopup":I?"menu":null,"aria-expanded":I?F:null,disabled:y,onPress:function(a){if(b("isClickWithModifierKey")(a))return;!y&&!H&&(d&&d(a),I?R():O!=null&&t===!0&&O(),E(!0))},linkProps:p!=null?{url:(k||(k=b("URI"))).normalize(p),download:u,target:x}:void 0,focusable:!q,overlayDisabled:q,xstyle:function(a){a=a.focused;return[m.listItem,z==null&&m.listItemWithContent,z!=null&&m.listItemWithoutContent,J!=null&&m.listItemWithIcon,a&&m.highlighted,q&&m["static"],I&&m.listItemWithMenu,y&&m.disabled]},display:"inline",children:function(a){var d=a.focused;a=a.overlay;var e=c,f=i,g,h,k;if(e!=null&&f!=null)g=e,k=f;else if(q){var n;k=(n=e)!=null?n:f}else{g=(n=e)!=null?n:f}y?n=e="disabled":(n="primary",e="secondary");return l.jsxs(b("CometMenuItemHighlightContext").Provider,{value:d,children:[v?l.jsx("div",{className:(j||(j=b("stylex")))(m.loading),children:l.jsx(b("WIGProgressIndicator.react"),{size:"small",overrideBGColorContext:"primary"})}):J!=null?l.jsx("div",{className:(j||(j=b("stylex")))(m.icon),children:l.jsx(b("WIGIcon.react"),{icon:J,color:n})}):null,z!=null?z({focused:d}):l.jsxs("div",{className:(j||(j=b("stylex")))(m.content),children:[l.jsx("div",{className:(j||(j=b("stylex")))(m.ie11Fix),children:l.jsx(b("WIGTextPairing.react"),{headline:g,headlineColor:n,level:4,body:h,bodyColor:n,meta:k,metaColor:e,reduceEmphasis:!0})}),I?l.jsx("div",{className:(j||(j=b("stylex")))(m.chevron),children:l.jsx(b("WIGIcon.react"),{icon:L,color:e})}):null]}),a]})}}))})})})}p.displayName=p.name+" [from "+e.id+"]";function q(a){var c=a.label,d=a.isAriaHidden;d=d===void 0?!1:d;var e=a.hasPadding;e=e===void 0?!0:e;a=a.testid;a=a===void 0?"wig-dropdown-menu-item":a;return l.jsx("li",{"aria-hidden":d,role:"presentation",className:(j||(j=b("stylex")))(e&&m.headerPadding),"data-testid":void 0,children:l.jsx(b("WIGText.react"),{type:"headline3",children:c})})}q.displayName=q.name+" [from "+e.id+"]";function a(a){var c=a.isChecked,d=a.label,e=a.onClick,f=a.icon,g=a.desc,h=a.toggleLabel,i=a.isDisabled;i=i===void 0?!1:i;var k=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["isChecked","label","onClick","icon","desc","toggleLabel","isDisabled","tooltip"]);var n=l.jsx(b("WIGToggle.react"),{"aria-hidden":!0,label:h,size:"small",value:c,disabled:i,tabIndex:-1});return l.jsx(p,babelHelpers["extends"]({isChecked:c,role:"checkbox",icon:f,onClick:e},a,{children:function(){return l.jsxs("span",{className:(j||(j=b("stylex")))(m.toggleContainer,f==null&&m.toggleContainerWithoutIcon),children:[l.jsx(b("WIGTextPairing.react"),{headline:d,meta:g,level:4}),l.jsx("span",{className:j(m.toggleItem),children:k!=null?l.jsx(b("WIGTooltip.react"),{tooltip:k,children:n}):n})]})}}))}a.displayName=a.name+" [from "+e.id+"]";function c(a){var c=a.isChecked;a=babelHelpers.objectWithoutPropertiesLoose(a,["isChecked"]);return l.jsx(p,babelHelpers["extends"]({isChecked:c,role:"radio",icon:c?b("fbicon")._(h("498146"),20):b("fbicon")._(h("545517"),20)},a))}c.displayName=c.name+" [from "+e.id+"]";function d(a){return l.jsxs(l.Fragment,{children:[l.jsx(q,{label:a.label,isAriaHidden:!0}),l.jsx("li",{children:l.jsx("ul",{role:"group","aria-label":a.label,children:a.children})})]})}d.displayName=d.name+" [from "+e.id+"]";o.Separator=b("WIGDropdownMenuSeparator.react");o.Header=q;o.Checkbox=a;o.Radio=c;o.RadioGroup=d}),null);
__d("WIGRow.react",["CometRow.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometRow.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGRowItem.react",["CometRowItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("CometRowItem.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WIGSearchEntityScopedTypeaheadDialog.react",["CometSearchEntityScopedTypeaheadDialog.react"],(function(a,b,c,d,e,f){"use strict";a=b("CometSearchEntityScopedTypeaheadDialog.react");e.exports=a}),null);
__d("WorkGalahadLocalUISettingsDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));c=new a({strict:!0});e.exports=c}),null);
__d("WorkGalahadNotificationsFilters",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({ALL:null,UNREAD:null,PRIORITY:null,CONVERSATIONS:null,PINNED_GROUPS:null,MULTI_COMPANY_GROUPS:null});c=a;e.exports=c}),null);
__d("WorkGalahadLocalUISettingsStore",["FluxReduceStore","WorkGalahadLocalUISettingsDispatcher","WorkGalahadLocalUISettingsHelper","WorkGalahadNotificationsFilters","objectKeys"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.reduce=function(a,c){switch(c.type){case"notifications/set_filter":b("WorkGalahadLocalUISettingsHelper").saveNotificationsFilterToStorage(c.filter);return babelHelpers["extends"]({},a,{notifications:babelHelpers["extends"]({},a.notifications,{filter:c.filter})});default:return a}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return{notifications:{filter:b("WorkGalahadLocalUISettingsHelper").getNotificationsFilterFromStorage()}}};d.getNotificationsFilter=function(){var a=this.getState().notifications.filter;return!b("objectKeys")(b("WorkGalahadNotificationsFilters")).includes(a)?b("WorkGalahadNotificationsFilters").ALL:a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadLocalUISettingsDispatcher"));e.exports=c}),null);
__d("FluxHooks",["FluxContainerSubscriptions","react","shallowEqual","useSubscriptionValue"],(function(a,b,c,d,e,f){"use strict";var g;d=g||b("react");var h=d.useCallback,i=d.useEffect,j=d.useRef,k=d.useState;function a(a,c){var d=h(function(d){var e=c(a);return d!=null&&b("shallowEqual")(d,e)?d:e},[a,c]),e=h(function(b){var c=a.addListener(b);return function(){return c.remove()}},[a]);return b("useSubscriptionValue")({getCurrentValue:d,subscribe:e})}function c(a,c,d){var e=h(function(c){var d=a(c);return c!=null&&b("shallowEqual")(c,d)?c:d},d),f=h(function(a){if(c.length===0)return function(){};var d=new(b("FluxContainerSubscriptions"))("useCalculateState");d.setStores(c);d.addListener(a);return function(){return d.reset()}},c);d=k(function(){return e()});var g=d[0],l=d[1];d=function(){l(e)};var m=j(d);m.current=d;var n=k(function(){return e}),o=n[0];n=n[1];o!==e&&(n(function(){return e}),d());i(function(){var a=!1,b=function(){a||m.current()},c=f(b);m.current();return function(){a=!0,c()}},[m,f]);return[g,l]}e.exports={useFluxStore:a,useCalculateState:c}}),null);
__d("WorkGalahadLocalUISettingsActions",["WorkGalahadLocalUISettingsDispatcher"],(function(a,b,c,d,e,f){"use strict";f.setNotificationsFilter=a;function a(a){b("WorkGalahadLocalUISettingsDispatcher").dispatch({type:"notifications/set_filter",filter:a})}}),null);
__d("WorkGalahadLocalUISettingsHelper",["FluxHooks","MercuryFilters.re","WebStorage","WorkGalahadLocalUISettingsActions","WorkGalahadLocalUISettingsStore","WorkGalahadNotificationsFilters"],(function(a,b,c,d,e,f){"use strict";f.useNotificationFilterState=a;f.getNotificationsFilterFromStorage=c;f.saveNotificationsFilterToStorage=d;f.getChatsFilterFromStorage=e;f.saveChatsFilterToStorage=l;f.getComposerMarkdownSettingFromStorage=m;f.saveComposerMarkdownSettingToStorage=n;var g,h="galahadNotificationFilter",i="galahadChatsFilter",j="geminiComposerMarkdownSprout";function k(){return b("WorkGalahadLocalUISettingsStore").getNotificationsFilter()}function a(){var a=b("FluxHooks").useFluxStore(b("WorkGalahadLocalUISettingsStore"),k);return[a,function(a){b("WorkGalahadLocalUISettingsActions").setNotificationsFilter(a)}]}function c(){var a=(g||(g=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(h);if(a!=null&&b("WorkGalahadNotificationsFilters")[a]!=null)return b("WorkGalahadNotificationsFilters")[a]}return b("WorkGalahadNotificationsFilters").ALL}function d(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),h,a)}function e(){var a=(g||(g=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(i);if(a!=null&&b("MercuryFilters.re").isSupportedFilter(a))return a}return b("MercuryFilters.re").all}function l(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),i,a)}function m(){var a=(g||(g=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(j);if(a!=null)return a==="true"}return!1}function n(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),j,a?"true":"false")}}),null);
__d("WorkGalahadNavActions",["QPLUserFlow","QPLUtils","URI","WorkGalahadBeeperActions","WorkGalahadDispatcher","WorkGalahadLocalUISettingsHelper","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";f.markPendingTransition=a;f.setActiveEntityKeys=c;f.selectAppTabID=d;f.pushStackedChannel=e;f.replaceStackedChannel=h;f.dismissStackedChannel=i;f.dismissAllStackedChannels=j;f.startLoading=k;f.stopLoading=l;f.showPublicContentBanner=m;f.hidePublicContentBanner=n;var g;function a(a){var c=a.appTabID,d=a.entityKeys;a=a.uri;typeof a==="string"&&a.endsWith("?tab=security")&&b("QPLUserFlow").start(54263819);b("WorkGalahadDispatcher").dispatch({type:"nav/markPendingTransition",appTabID:c,entityKeys:d,uri:new(g||(g=b("URI")))(a).getPath()})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"nav/setActiveEntityKeys",entityKeys:a})}function d(a){a==="notifications"?b("QPLUserFlow").start(57344005,{instanceKey:b("QPLUtils").deriveInstanceKey(b("WorkGalahadLocalUISettingsHelper").getNotificationsFilterFromStorage()),annotations:{string:{reason:"TAB_CHANGED"}}}):a==="meeting"&&b("QPLUserFlow").start(351541595),b("WorkGalahadDispatcher").dispatch({type:"nav/selectAppTabID",appTabID:a}),b("WorkGalahadBeeperActions").clearBeepsForTabID(a)}function e(a){b("WorkGalahadDispatcher").dispatch({type:"nav/pushStackedChannel",stackedChannelData:a})}function h(a){b("setImmediateAcrossTransitions")(function(){b("WorkGalahadDispatcher").dispatch({type:"nav/replaceStackedChannel",stackedChannelData:a})})}function i(){b("WorkGalahadDispatcher").dispatch({type:"nav/dismissStackedChannel"})}function j(){b("WorkGalahadDispatcher").dispatch({type:"nav/dismissAllStackedChannels"})}function k(a){b("WorkGalahadDispatcher").dispatch({type:"nav/startLoading",uri:new(g||(g=b("URI")))(a).getPath()})}function l(){b("WorkGalahadDispatcher").dispatch({type:"nav/stopLoading"})}function m(a){b("WorkGalahadDispatcher").dispatch({type:"nav/showPublicContentBanner",html:a})}function n(){b("WorkGalahadDispatcher").dispatch({type:"nav/hidePublicContentBanner"})}}),null);
__d("WorkGalahadQuickChatStore",["FluxReduceStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"quickChat/hide":return babelHelpers["extends"]({},a,{composing:!1,showInbox:!1,threadID:null});case"quickChat/showCompose":return babelHelpers["extends"]({},a,{composing:!0});case"quickChat/showInbox":return babelHelpers["extends"]({},a,{showInbox:!0,composing:!1,threadID:null});case"quickChat/hideInbox":return babelHelpers["extends"]({},a,{showInbox:!1});case"quickChat/close":return babelHelpers["extends"]({},a,{threadID:null});case"quickChat/openThreadID":return babelHelpers["extends"]({},a,{threadID:b.threadID,showInbox:!1});default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{threadID:null,composing:!1,showInbox:!1}};c.getActiveThreadID=function(){return this.getState().threadID};c.isShowingConversation=function(){return this.getState().threadID!=null};c.isComposing=function(){return this.getState().composing};c.isShowingInbox=function(){return this.getState().showInbox};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadDispatcher"));e.exports=c}),null);
__d("WorkGalahadSearchStore",["FluxReduceStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.reduce=function(a,b){switch(b.type){case"galahad/setQuery":return babelHelpers["extends"]({},a,{query:b.query});case"galahad/setSERPContentType":return babelHelpers["extends"]({},a,{contentType:b.contentType});case"galahad/setEntityID":return babelHelpers["extends"]({},a,{entityID:b.entityID});default:return a}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.getInitialState=function(){return{entityID:null,contentType:null,query:null}};c.getQuery=function(){return this.getState().query};c.getContentType=function(){return this.getState().contentType};c.getEntityID=function(){return this.getState().entityID};return b}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("WorkGalahadDispatcher"));e.exports=c}),null);
__d("WorkGalahadFluxEnv",["invariant","WorkGalahadBeeperActions","WorkGalahadBeeperDispatcher","WorkGalahadBeeperStore","WorkGalahadChatChannelStore","WorkGalahadDirectDispatcher","WorkGalahadDirectStore","WorkGalahadDispatcher","WorkGalahadLocalUISettingsDispatcher","WorkGalahadLocalUISettingsStore","WorkGalahadNavActions","WorkGalahadNavStore","WorkGalahadQuickChatStore","WorkGalahadSearchStore","WorkKnowledgeDispatcher","WorkKnowledgeStore","cr:1327167"],(function(a,b,c,d,e,f,g){"use strict";f.init=a;f.queueEvent=c;function h(a){a.defaultAppTabID;a=[b("WorkGalahadChatChannelStore"),b("WorkGalahadNavStore"),b("WorkGalahadSearchStore"),b("WorkGalahadQuickChatStore"),b("cr:1327167")].filter(Boolean);b("WorkGalahadDispatcher").explicitlyRegisterStores(a);b("WorkGalahadBeeperDispatcher").explicitlyRegisterStores([b("WorkGalahadBeeperStore")]);b("WorkGalahadLocalUISettingsDispatcher").explicitlyRegisterStores([b("WorkGalahadLocalUISettingsStore")]);b("WorkGalahadDirectDispatcher").explicitlyRegisterStores([b("WorkGalahadDirectStore")]);b("WorkKnowledgeDispatcher").explicitlyRegisterStores([b("WorkKnowledgeStore")])}function i(a){var c=a.beeperConfig,d=a.defaultAppTabID;a=a.entityKeys;b("WorkGalahadNavActions").setActiveEntityKeys(a);b("WorkGalahadNavActions").selectAppTabID(d);c!=null&&(b("WorkGalahadBeeperActions").setSoundEnabled(c.soundEnabled),b("WorkGalahadBeeperActions").setSoundPath(c.soundPath))}var j=[],k=!1;function l(){while(j.length>0){var a=j.shift();a()}}function a(a){k&&g(0,11757),k=!0,h(a),i(a),l()}function c(a){!k?j.push(a):a()}}),null);
__d("WorkGalahadSearchActions",["WorkGalahadDispatcher","WorkGalahadFluxEnv"],(function(a,b,c,d,e,f){"use strict";f.setQuery=a;f.setSERPContentType=c;f.setEntityID=d;function a(a){b("WorkGalahadFluxEnv").queueEvent(function(){b("WorkGalahadDispatcher").dispatch({type:"galahad/setQuery",query:a})})}function c(a){b("WorkGalahadFluxEnv").queueEvent(function(){b("WorkGalahadDispatcher").dispatch({contentType:a,type:"galahad/setSERPContentType"})})}function d(a){b("WorkGalahadFluxEnv").queueEvent(function(){b("WorkGalahadDispatcher").dispatch({entityID:a,type:"galahad/setEntityID"})})}}),null);
__d("ContextWithSelector",["EventEmitter","react","shallowEqual","useLayoutEffect_SAFE_FOR_SSR","useSubscriptionValue"],(function(a,b,c,d,e,f){"use strict";f.createContextWithSelector=a;f.useContextWithSelector=c;var g,h=g||b("react");function a(a){var c=h.createContext(function(b,c){return b(a)});function d(a){var d=a.children,e=a.value,f=h.useRef(new(b("EventEmitter"))()).current,g=h.useRef(e);b("useLayoutEffect_SAFE_FOR_SSR")(function(){g.current=e,f.emit("update")},[f,e]);a=h.useCallback(function(a,c){c=h.useCallback(function(c){var d=a(g.current);return c!=null&&b("shallowEqual")(c,d)?c:d},c);var d=h.useCallback(function(a){var b=f.addListener("update",a);return function(){return b.remove()}},[]);return b("useSubscriptionValue")({getCurrentValue:c,subscribe:d})},[f]);return h.jsx(c.Provider,{value:a,children:d})}d.displayName=d.name+" [from "+e.id+"]";function f(a,b){return h.useContext(c)(a,b)}return{Provider:d,useWithSelector:f}}function c(a,b,c){return a.useWithSelector(b,c)}}),null);
__d("useWorkUserStatusState",["WorkChatAvailabilityStatusLoader","promiseDone","react","shallowEqual","useIsMountedRef"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=Object.freeze({dndStatus:null,emojiStatus:null,activeDNDStatus:null,endTimeForOverridingRecurringStatus:0});function a(a){var c=h.useState(babelHelpers["extends"]({},i)),d=c[0],e=c[1],f=b("useIsMountedRef")();h.useEffect(function(){var c=null;if(a==null){e(babelHelpers["extends"]({},i));return}b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(g){var h=g.store;h.fetchUsersIfNeeded([a]);if(!f.current)return;var i=function(c){var f=c.getCurrentStatus(a),g=c.getEndTimeForOverridingRecurringStatus(a);f!=null&&(!b("shallowEqual")(f.dndStatus,d.dndStatus)||!b("shallowEqual")(f.emojiStatus,d.emojiStatus)||g!==d.endTimeForOverridingRecurringStatus)&&e({dndStatus:f.dndStatus,emojiStatus:f.emojiStatus,activeDNDStatus:c.getActiveDoNotDisturbStatus(a),endTimeForOverridingRecurringStatus:g})};i(h);c=h.addListener(function(){if(!f.current)return;i(h)})});return function(){c&&c.remove()}},[f,d.dndStatus,d.emojiStatus,d.endTimeForOverridingRecurringStatus,a]);return d}}),null);
__d("useWorkUserStatus",["Arbiter","AvailableListConstants","CurrentUser","PresenceStatus","gkx","nullthrows","react","useWorkUserStatusState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=b("nullthrows")(a);a=h.useState(function(){return c===b("CurrentUser").getID()||c===b("CurrentUser").getEmployeeWorkUserID()?!0:i(c)});var d=a[0],e=a[1];a=b("useWorkUserStatusState")(c);a=a.activeDNDStatus;var f=(a==null?void 0:a.isDoNotDisturb)||!1;h.useEffect(function(){if(c===b("CurrentUser").getID()||c===b("CurrentUser").getEmployeeWorkUserID())return;function a(){e(i(c))}var d=b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,a);a();return function(){return d.unsubscribe()}},[c]);f=f?"doNotDisturb":d?"active":"inactive";d=(a==null?void 0:a.endDate)||0;return{userStatus:f,endDate:d}}function i(a){return b("gkx")("1801350")?!1:b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}}),null);
__d("WorkGalahadNotificationsEnvironment",[],(function(a,b,c,d,e,f){"use strict";a="MAIN_SURFACE";b=a;e.exports=b}),null);
__d("setupGalahadNotificationsSubscription",["ClientIDs","WebPixelRatio","WorkGalahadNotificationsEnvironment","objectValues","requireDeferred","uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("requireDeferred")("WorkGalahadNotificationsSubscription").__setRef("setupGalahadNotificationsSubscription"),h={},i=!1,j=null;function a(a,c){var d=b("uuid")();h[d]=c;var e=!1;function f(){e||(delete h[d],Object.keys(h).length===0&&j!=null&&(j.dispose(),j=null,i=!1),e=!0)}if(i)return{dispose:f};i=!0;g.onReady(function(c){c=c.subscribe;c(a,{input:{environment:b("WorkGalahadNotificationsEnvironment"),client_subscription_id:b("ClientIDs").getNewClientID()},scale:b("WebPixelRatio").get()},k)});return{dispose:f}}function k(a){b("objectValues")(h).forEach(function(b){b!=null&&b(a)})}}),null);
__d("WorkAboutOrgSection",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMINISTRATORS:"administrators",OVERVIEW:"overview"});e.exports=a}),null);
__d("WorkAdminSection",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCESS_REQUESTS:"access_requests",ADMINISTRATORS:"administrators",APPROVALS:"approvals",APPS:"apps",BULK_DEACTIVATE:"bulk_deactivate",BULK_TASKS:"bulk_tasks",BUSINESS_DETAILS:"business_details",CAMPAIGNS:"campaigns",COMPANY_CONDUCT_RULES:"company_conduct_rules",CONTENT_MANAGER:"content_manager",CONTENT_PLUGIN:"content_plugin",CONTENT_PLUGIN_MAIN_PAGE:"content_plugin_main",CUSTOM_INTEGRATION_CONFIGURE:"custom_integration_configure",DIRECT_SUPPORT:"direct_support",DOMAINS:"domains",EMPLOYEES_BULK_ACTION:"employees_bulk_action",EMPLOYEES_MANAGER:"employees_manager",FRONTLINE:"frontline",FRONTLINE_MANAGERS:"frontline_managers",FRONTLINE_MEMBERSHIP:"frontline_membership",GROUPS_MANAGER:"groups_manager",IMPORT_GROUPS:"import_groups",INSIGHTS:"insights",INTEGRATIONS_DATA:"integrations_data",INVESTIGATIONS:"investigations",M10N_STAND:"m10n_stand",MARK_AS_IMPORTANT:"mark_as_important",MCG_GUEST:"mcg_guest",PAYMENT_INFORMATION:"payment_information",PERMISSIONING:"permissioning",POST_INSIGHTS:"post_insights",PROFILE_BADGES:"profile_badges",PROFILE_FRAMES:"profile_frames",PROFILE_SETTINGS:"profile_settings",REMOTE_DESKTOP_SETTINGS:"remote_desktop_settings",RESELLER:"reseller",RESELLER_PAYMENTS:"reseller_payments",REVIEW_PLANS:"review_plans",SAFETY_CHECK:"safety_check",SAFETY_CHECK_SETTINGS:"safety_check_settings",SECURITY_CENTER:"security_center",SETTINGS:"settings",SETUP_INTRODUCTION:"setup_introduction",SETUP_INVITES:"setup_invites",SETUP_USERS:"setup_users",SMB_HUBS:"smb_hubs",SMB_INVITE_LINKS:"smb_invite_links",SMB_PEOPLE:"smb_people",SPACES:"spaces",SURVEYS:"surveys",USER_SETS:"user_sets",WHATS_NEW:"whats_new",WORK_FOR_GOOD_DISCOUNT:"work_for_good_discount",WORK_PLATFORM_OVERVIEW:"work_platform_overview"});e.exports=a}),null);
__d("WorkResellerConsoleSection",[],(function(a,b,c,d,e,f){a=Object.freeze({CUSTOMERS:"customers",CUSTOMER_DETAILS:"customer",PAYMENTS:"payments",BILLING:"billing"});e.exports=a}),null);
__d("WorkGalahadEntityKey",["invariant","WorkAboutOrgSection","WorkAdminSection","WorkResellerConsoleSection","enumUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";f.forFeed=k;f.forMeeting=a;f.forHashtag=c;f.forSearchHashtag=d;f.forSearchTrendingHashtag=e;f.forSearchGroupScopedHashtag=l;f.forGroupsExplorer=m;f.forDirectPosts=n;f.forPeopleDirectory=o;f.forTimelinePermalink=p;f.forDirectory=q;f.forActivityLog=r;f.forTeamFeed=s;f.forUser=t;f.forPage=u;f.forGarden=v;f.forGroup=w;f.forGroupPost=x;f.forEntity=y;f.forNotif=z;f.forNotifID=A;f.forApprovals=B;f.forApprovalsTab=C;f.forAdminPanelSection=D;f.forAboutOrganization=E;f.forChat=F;f.forChatFilesTab=G;f.forFiles=H;f.forGroupFolder=I;f.forSearch=J;f.forEvent=K;f.forEventTab=L;f.forSaved=M;f.forCommunityResources=N;f.forWorkstream=O;f.forRecruiting=P;f.forRecruitingGroups=Q;f.forCandidatesViewed=R;f.forInterviewingLoopApproval=S;f.forInterviewToolsMarketplace=T;f.forRecruitingInsights=U;f.forKnowledge=V;f.forKnowledgeID=W;f.forKnowledgeGhost=X;f.forTeam=Y;f.forTeamDirectory=Z;f.forTrending=aa;f.forTasks=ba;f.forMigration=ca;f.forNext=da;f.forOrgNavigator=ea;f.forNotes=fa;f.forIntegrations=ga;f.forPYSF=ha;f.forForms=ia;f.forFormsTab=ja;f.forSettings=ka;f.forRP4SMBSettings=la;f.forResellerConsole=ma;f.forHelpdesk=na;f.forHelpdeskTab=oa;f.forDeviceLogin=pa;f.forDataInterchange=qa;f.forTools=ra;f.forWorkChatSettings=sa;f.forFrontlineAreas=ta;f.forVideoDiscovery=ua;f.forSafetyCheck=va;f.forSafetyCheckCrisis=wa;f.forSafetyCheckMessage=xa;f.forSafetyCheckMessageCreation=ya;f.forNotesHome=za;f.forCaseConnect=Aa;f.containsKey=Ba;f.containsSubkey=Ca;f.containsKeyOrSubkey=Da;f.getProfileID=Ea;f.getPageID=Fa;f.getUserID=Ga;f.getGroupID=Ha;f.getKnowledgeID=Ia;f.getEventID=Ja;f.getHashtagData=Ka;f.getMeetingView=La;f.getGroupView=Ma;f.getProfileView=Na;f.getAdminPanelSection=Oa;f.getResellerConsoleSection=Pa;f.getResellerCustomerId=Qa;f.getPermalinkID=Ra;f.getTeamID=Sa;f.getSearchEdgeType=Ta;f.getAboutOrgSection=Ua;f.serialize=Va;f.fromCometEntityKey=Wa;f.fromString_DO_NOT_USE=Xa;var h={DIFFERENT:0,EQUAL:1,SUBKEY:2};function i(a,b){a=a.toLowerCase();b=b.toLowerCase();return a===b?h.EQUAL:a.indexOf(b)===0&&a[b.length]==="/"?h.SUBKEY:h.DIFFERENT}function j(a,b){var c=!1;for(var d=0;d<a.length;d++){var e=i(a[d],b);if(e===h.EQUAL)return h.EQUAL;else e===h.SUBKEY&&(c=!0)}return c?h.SUBKEY:h.DIFFERENT}function k(a){return $("feed",[a])}function a(a,b){return a==null?"meeting":$("meeting",[a,b])}function c(a){return a==null?"hashtag":$("hashtag",[a])}function d(a){return a==null?"search_hashtag":$("search_hashtag",[a])}function e(a){return a==null?"search_trending_hashtag":$("search_trending_hashtag",[a])}function l(a){return a==null?"search_group_scoped_hashtag":$("search_group_scoped_hashtag",[a])}function m(a){return $("groups_explorer",[a])}function n(){return"direct_posts"}function o(){return"org_search"}function p(){return"permalink"}function q(a){return $("directory",[a])}function r(){return"activity_log"}function s(){return"team_feed"}function t(a,b,c){return $("user",[a,b,c])}function u(a,b){return $("page",[a,b])}function v(a,b){return $("gardens",[a,b])}function w(a,b,c){return $("groups",[a,b,c])}function x(a,b){return $("groups",[a,"permalink",b])}function y(a,b){switch(a){case"event":return K(b);case"group":return w(b);case"page":return u(b);case"user":return t(b);default:return k()}}function z(){return"notifications"}function A(a){return"notifications/"+a}function B(a){return $("approvals",[a])}function C(a){return $("approvals",[a])}function D(a,b){return $("admin_panel",[a,b])}function E(a){return $("organization",[a])}function F(a){return $("chat",[a])}function G(a){return a==null?$("chat",[]):$("chat",[a,"files"])}function H(a){return a==null?"files":$("files",[a])}function I(a,b){return $("groups",[a,"FILES",b])}function J(a){return $("search",[a])}function K(a,c){return b("gkx")("1121001")?$("event",[a,c]):$("events",[a])}function L(a){return b("gkx")("1121001")?$("event_dashboard",[a]):$("events",[a])}function M(a){return $("saved",[a])}function N(){return"community_resources"}function O(a){return $("workstream",[a])}function P(){return"recruiting"}function Q(){return"recruiting_groups"}function R(){return"candidates"}function S(a){return $("interviewing_loop_approval_table",[a])}function T(){return"interview_tools_marketplace"}function U(){return"recruiting_insights"}function V(){return"knowledge"}function W(a){return a===null?$("knowledge",[]):$("knowledge",[a])}function X(){return"knowledge_ghost"}function Y(a){return $("teams",[a])}function Z(){return"team_directory"}function aa(){return"trending"}function ba(){return"personalTasks"}function ca(){return"migration"}function da(){return"next"}function ea(){return"org"}function fa(a){return $("notes",[a])}function ga(){return"integrations"}function ha(){return"follow_coworkers"}function ia(a){return $("forms",[a])}function ja(a){return $("forms",[a])}function ka(){return"settings"}function la(a){return $("rp4smb_settings",[a])}function ma(a,b){return $("reseller_console",[a,b])}function na(){return"helpdesk"}function oa(a){return $("helpdesk",[a])}function pa(){return"device_login"}function qa(a){return $("data_interchange",[a])}function ra(){return"tools"}function sa(){return"work_chat_settings"}function ta(){return"frontline_areas"}function ua(a){return a===null?$("video_discovery",["HOME"]):$("video_discovery",[a])}function va(a){return $("safety_check",[(a=a)!=null?a:"null"])}function wa(a){return $("safety_check",[a])}function xa(a){return $("message",[a])}function ya(a,b){return $("safety_message_create",[(a=a)!=null?a:void 0,b!=null?b:void 0].filter(Boolean))}function za(a){return $("notes",[a])}function Aa(a,b){return a==null?$("esm",[]):$("esm",[a,b])}function Ba(a,b){return j(a,b)===h.EQUAL}function Ca(a,b){return j(a,b)===h.SUBKEY}function Da(a,b){return j(a,b)!==h.DIFFERENT}function Ea(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");(d[0]==="page"||d[0]==="user")&&(b=d[1])}return b}function Fa(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="page"&&(b=d[1])}return b}function Ga(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="user"&&(b=d[1])}return b}function Ha(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="groups"&&(b=d[1])}return b}a=function(a){var b=a.find(function(a){return a.startsWith("chat")});if(b!=null)return b.split("/")[1];b=a.find(function(a){return(a.startsWith("groups/")||a.startsWith("user/"))&&a.split("/")[2]==="WORK_CHAT"});return b!=null?b.split("/")[3]:null};f.getThreadID=a;function Ia(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="knowledge"&&d.length>1&&(b=d[1])}return b}function Ja(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="event"&&(b=d[1])}return b}function Ka(a){var b=null,c=null;for(var d=0;d<a.length;d++){var e=a[d].split("/");e[0]==="hashtag"&&(b=e[1],c=parseInt(e[2],10))}return[(e=b)!=null?e:"??",(a=c)!=null?a:0]}function La(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="meeting"&&(b=d[2])}return b}function Ma(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d[0]==="groups"&&(b=d[2])}return b}function Na(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");(d[0]==="user"||d[0]==="page")&&(b=d[2])}return b}function Oa(a){for(var c=0;c<a.length;c++){var d=a[c].split("/");if(d[0]==="admin_panel")return b("enumUtils").assert(d[1],b("WorkAdminSection"))}return null}function Pa(a){for(var c=0;c<a.length;c++){var d=a[c].split("/");if(d[0]==="reseller_console"&&d.length>1)return b("enumUtils").assert(d[1],b("WorkResellerConsoleSection"))}return null}function Qa(a){for(var b=0;b<a.length;b++){var c=a[b].split("/");if(c[0]==="reseller_console"&&c.length>2)return c[2]}return null}function Ra(a){var b=null;for(var c=0;c<a.length;c++){var d=a[c].split("/");d.length>=4&&d[0]==="groups"&&d[2]==="permalink"&&(b=d[3])}return b}function Sa(a){for(var b=0;b<a.length;b++){var c=a[b].split("/");if(c[0]==="teams"&&c.length>1)return c[1]}return null}function Ta(a){for(var b=0;b<a.length;b++){var c=a[b].split("/");if(c[0]==="search"&&c.length>1)return c[1]}return null}function Ua(a){for(var c=0;c<a.length;c++){var d=a[c].split("/");if(d[0]==="organization"&&d.length>1)return b("enumUtils").assert(d[1],b("WorkAboutOrgSection"))}return null}function Va(a){return a}function Wa(a){var b=a.entity_type;if(b==null)return null;a=[a.entity_id,a.section,a.secondary_entity_id].filter(Boolean);return $(b,a)}function Xa(a){return a}function $(a,b){a=a;var c=!1;for(var d=0;d<b.length;d++){var e=b[d];e!==void 0?(c&&g(0,832),a+="/"+e):c=!0}return a}}),null);
__d("WorkGalahadMessengerStateContext",["CometPlaceholder.react","ContextWithSelector","CurrentUser","MercuryIDs","deferredLoadComponent","gkx","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";f.WorkGalahadMessengerStateContextProvider=a;f.useMessengerStateThread=l;f.useMessengerStateGroupThread=c;f.useMessengerStateThreads=d;f.useMessengerStateThreadlistOrderMap=m;f.useMessengerStateThreadUnreadCount=n;f.useMessengerStateThreadUnreadCountFromUserID=o;f.useMessengerStateThreadFromUserID=p;f.useMessengerState=q;var g,h=g||b("react"),i=b("deferredLoadComponent")(b("requireDeferredForDisplay")("WorkMessengerStateLoader.react").__setRef("WorkGalahadMessengerStateContext")),j=b("requireDeferredForDisplay")("MessengerState.bs").__setRef("WorkGalahadMessengerStateContext"),k=b("ContextWithSelector").createContextWithSelector(null);f.WorkGalahadMessengerStateContext=k;function a(a){a=a.children;var c=h.useState(null),d=c[0],e=c[1];c=h.useCallback(function(a){e(a)},[]);return b("gkx")("1801350")?a:h.jsxs(h.Fragment,{children:[h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{onChange:c})}),h.jsx(k.Provider,{value:d,children:a})]})}a.displayName=a.name+" [from "+e.id+"]";function l(a){return b("ContextWithSelector").useContextWithSelector(k,function(c){if(c==null||a==null||b("gkx")("1801350"))return null;c=null;j.onReadyImmediately(function(d){c=d.getThreadMetaNow(b("CurrentUser").getID(),a),c||d.getThreadMeta(b("CurrentUser").getID(),a,function(a){c=a})});return c},[a])}function c(a){return l(a!=null?b("MercuryIDs").getThreadIDFromThreadFBID(a):null)}function d(){return b("ContextWithSelector").useContextWithSelector(k,function(a){if(a==null||b("gkx")("1801350"))return null;var c=null;j.onReadyImmediately(function(b){c=b.threads(a)});return c},[])}function m(){return b("ContextWithSelector").useContextWithSelector(k,function(a){if(a==null||b("gkx")("1801350"))return null;var c=null;j.onReadyImmediately(function(b){c=b.threadlistOrderMap(a)});return c},[])}function n(a){return(a=l(a))==null?void 0:a.unread_count}function o(a){a=a!=null&&!b("gkx")("1801350")?b("MercuryIDs").getThreadIDFromUserID(a):null;return n(a)}function p(a){a=a!=null&&!b("gkx")("1801350")?b("MercuryIDs").getThreadIDFromUserID(a):null;return l(a)}function q(){return b("ContextWithSelector").useContextWithSelector(k,function(a){return a},[])}}),null);
__d("WorkMessengerStateLoader.react",["CurrentUser","MessengerState.re","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.onChange,d=b("MessengerState.re").useHook(b("CurrentUser").getID());h.useEffect(function(){c(d)},[d,c]);return null}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("WorkGalahadNotificationsFilterSpecs",["fbt","WorkGalahadNotificationsFilters"],(function(a,b,c,d,e,f,g){d=(a={},a[(c=b("WorkGalahadNotificationsFilters")).ALL]={headerTitle:g._("Toutes les notifications"),menuTitle:g._("Tout")},a[c.UNREAD]={headerTitle:g._("Notifications non lues"),menuTitle:g._("Non lu"),readness:"UNREAD"},a[c.CONVERSATIONS]={headerTitle:g._("Identifications et r\u00e9ponses"),menuTitle:g._("Identifications et r\u00e9ponses"),classification:["CONVERSATIONS"]},a[c.PRIORITY]={headerTitle:g._("Priorit\u00e9"),menuTitle:g._("Priorit\u00e9"),classification:["WORK_PRIORITY"]},a[c.PINNED_GROUPS]={headerTitle:g._("Groupes \u00e9pingl\u00e9s"),menuTitle:g._("Groupes \u00e9pingl\u00e9s"),classification:["FAVORITE_GROUP"]},a[c.MULTI_COMPANY_GROUPS]={headerTitle:g._("Groupements d\u2019entreprises"),menuTitle:g._("Groupements d\u2019entreprises"),classification:["MULTI_COMPANY_GROUPS"]},a);f=d;e.exports=f}),null);
__d("WorkGalahadNotificationsBadge.react",["CometRelay","Event","RelayHooks","WebStorage","WorkGalahadNotificationsBadgeQuery.graphql","WorkGalahadNotificationsEnvironment","isNumberLike","react","setupGalahadNotificationsSubscription","useInWorkFocusMode"],(function(a,b,c,d,e,f){"use strict";f.useCount=a;var g,h,i,j=h||b("react"),k="galahadNotificationsCount";function a(){var a=b("RelayHooks").useLazyLoadQuery(g!==void 0?g:g=b("WorkGalahadNotificationsBadgeQuery.graphql"),{environment:b("WorkGalahadNotificationsEnvironment")});a=a.viewer;var c=b("CometRelay").useRelayEnvironment(),d=b("useInWorkFocusMode")();j.useEffect(function(){var a=b("setupGalahadNotificationsSubscription")(c);return function(){return a.dispose()}},[c]);var e=(a=a==null?void 0:(a=a.notifications)==null?void 0:a.unseen_count)!=null?a:0,f=l(e);a=j.useState(e);var h=a[0],i=a[1];j.useEffect(function(){return i(e)},[e]);j.useEffect(function(){return i(function(a){return Math.min(a,f)})},[f]);return d?0:h}function l(a){var c=j.useState(a),d=c[0],e=c[1];j.useEffect(function(){(i||(i=b("WebStorage"))).setItemGuarded(i.getLocalStorage(),k,String(a))},[a]);j.useEffect(function(){var a=b("Event").listen(window,"storage",function(){var a=(i||(i=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(k);a!=null&&b("isNumberLike")(a)&&e(Number(a))}});return function(){return a.remove()}},[]);return d}}),null);
__d("WorkplaceGroupScopedTypeaheadViewItemResolver.react",["fbt","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","CometTypeaheadViewItemResolver.react","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=i.useMemo(function(){return j()},[]);return i.jsx(b("CometTypeaheadViewItemResolver.react"),babelHelpers["extends"]({},a,{entryMappings:d,children:c}))}a.displayName=a.name+" [from "+e.id+"]";function j(){return[{resolver:b("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:b("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:k}},{resolver:b("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:b("CometTypeaheadKeywordViewItem.react")}]}function k(a){return g._("Rechercher \u00ab\u00a0{query}\u00a0\u00bb",[g._param("query",a)])}k.displayName=k.name+" [from "+e.id+"]"}),null);
__d("WorkplaceGroupScopedTypeaheadViewItem.react",["WorkplaceGroupScopedTypeaheadViewItemResolver.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.entry,d=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(b("WorkplaceGroupScopedTypeaheadViewItemResolver.react"),{entry:c,children:function(a,b){return h.jsx(a,babelHelpers["extends"]({},d,{entry:c,extraViewItemProps:b}))}})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("SeeAllOnlyTypeaheadDataSource",["cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.fetchCache=function(a){var c={entries:[],params:a};return a.query.trim().length===0?c:b("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:"top"})(c)};return a}();e.exports=a}),null);
__d("TeamworkGlobalSearchTypeaheadDialog.react",["fbt","QPLUserFlow","URI","WIGSearchEntityScopedTypeaheadDialog.react","WorkGalahadNavActions","WorkGalahadNavUIState","WorkGalahadSearchActions","WorkTeamworkSearchActions","WorkplaceGlobalTypeaheadViewItem.react","gkx","react","useCometSearchRecentDataSourceContextDecorator","useCometSearchTypeaheadLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react"),k=b("WorkGalahadNavUIState").useNavUIState;function a(a){var c=a.onClose;a=a.dataSource;var d=b("useCometSearchTypeaheadLoggingProvider")({context:"search_global"}),e=k(),f=e.setIsAutoHideEnabled;e=j.useCallback(function(a){var d=a.getRawData(),e=a.getMetaData();e=e==null?void 0:e.markers;e=e!=null&&e.has("entity");var g=null;if(e&&d!=null){switch(d.type){case"blended":case"bootstrap":case"recent":g=new(i||(i=b("URI")))(d.entityUrl);break;default:break}(e=g)==null?void 0:e.go()}else b("WorkTeamworkSearchActions").setState({query:a.getLabel(),scope:null}),b("WorkGalahadNavActions").dismissStackedChannel(),f(!1),b("WorkGalahadNavActions").selectAppTabID(b("gkx")("1291926")?"home":"search");b("QPLUserFlow").endSuccess(60358658);c()},[c,f]);var h=j.useCallback(function(a){b("WorkGalahadSearchActions").setQuery(a),b("WorkTeamworkSearchActions").setState({query:a,scope:null}),b("WorkGalahadNavActions").dismissStackedChannel(),f(!1),b("WorkGalahadNavActions").selectAppTabID(b("gkx")("1291926")?"home":"search"),b("QPLUserFlow").endSuccess(60358658),c()},[c,f]),l=function(){b("QPLUserFlow").endCancel(60358658),c()},m=b("useCometSearchRecentDataSourceContextDecorator")(a),n=j.useMemo(function(){return[m]},[m]);return j.jsx(b("WIGSearchEntityScopedTypeaheadDialog.react"),{dataSource:a,decorators:n,loggingProvider:d,nullStateContent:j.jsx("div",{}),placeholder:g._("Rechercher dans Workplace"),viewItemStrategyRenderer:b("WorkplaceGlobalTypeaheadViewItem.react"),onClose:l,onEscape:l,onPressEntry:e,onSelectFreeformQuery:h})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("TeamworkGroupChatScopedSearchTypeaheadDialog.react",["fbt","SeeAllOnlyTypeaheadDataSource","WIGSearchEntityScopedTypeaheadDialog.react","WorkGalahadNavActions","WorkTeamworkSearchActions","WorkplaceGroupScopedTypeaheadViewItem.react","react","useCometSearchTypeaheadLoggingProvider","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.scope,d=a.onClose;a=c.name;var e=new(b("SeeAllOnlyTypeaheadDataSource"))(),f=b("useCometSearchTypeaheadLoggingProvider")({context:"workplace_group_entity_scoped",scopedEntityID:c.threadID}),h=i.useCallback(function(a){b("WorkTeamworkSearchActions").setState({query:a.getLabel(),scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"),d()},[d,c]),j=i.useCallback(function(a){b("WorkTeamworkSearchActions").setState({query:a,scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"),d()},[d,c]),k=b("useSearchCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:b("WorkplaceGroupScopedTypeaheadViewItem.react")});return i.jsx(b("WIGSearchEntityScopedTypeaheadDialog.react"),{dataSource:e,loggingProvider:f,placeholder:g._("Rechercher dans {Thread name}",[g._param("Thread name",a)]),viewStrategyRenderer:k,onClose:d,onPressEntry:h,onSelectFreeformQuery:j})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("TeamworkGroupScopedSearchTypeaheadDialog.react",["fbt","SeeAllOnlyTypeaheadDataSource","URI","WIGSearchEntityScopedTypeaheadDialog.react","WorkGalahadNavActions","WorkTeamworkSearchActions","WorkplaceGroupScopedTypeaheadViewItem.react","react","useCometSearchTypeaheadLoggingProvider","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react");function a(a){var c=a.scope,d=a.onClose;a=b("useCometSearchTypeaheadLoggingProvider")({context:"workplace_group_entity_scoped",scopedEntityID:c.groupID});var e=j.useCallback(function(a){var e=a.getRawData(),f=a.getMetaData();f=f.markers;f=f.has("entity");f&&e.type==="blended"?new(i||(i=b("URI")))(e.entityUrl).go():(b("WorkTeamworkSearchActions").setState({query:a.getLabel(),scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"));d()},[d,c]),f=j.useCallback(function(a){b("WorkTeamworkSearchActions").setState({query:a,scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"),d()},[d,c]),h=b("useSearchCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:b("WorkplaceGroupScopedTypeaheadViewItem.react")});return j.jsx(b("WIGSearchEntityScopedTypeaheadDialog.react"),{dataSource:new(b("SeeAllOnlyTypeaheadDataSource"))(),loggingProvider:a,placeholder:g._("Rechercher dans {Group name}",[g._param("Group name",c.name)]),viewStrategyRenderer:h,onClose:d,onPressEntry:e,onSelectFreeformQuery:f})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("TeamworkUserScopedSearchTypeaheadDialog.react",["fbt","CometUsersEntityScopedTypeaheadViewItem.react","SeeAllOnlyTypeaheadDataSource","WIGSearchEntityScopedTypeaheadDialog.react","WorkGalahadNavActions","WorkTeamworkSearchActions","react","useCometSearchTypeaheadLoggingProvider","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.scope,d=a.onClose;a=c.userID;var e=c.name;a=b("useCometSearchTypeaheadLoggingProvider")({context:"profile_entity_scoped",scopedEntityID:a});var f=i.useCallback(function(a){var e=a.getRawData(),f=a.getMetaData();f=f.markers;f=f.has("entity");f&&e!=null||(b("WorkTeamworkSearchActions").setState({query:a.getLabel(),scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"));d()},[d,c]),h=i.useCallback(function(a){b("WorkTeamworkSearchActions").setState({query:a,scope:c}),b("WorkGalahadNavActions").dismissStackedChannel(),b("WorkGalahadNavActions").selectAppTabID("search"),d()},[d,c]),j=b("useSearchCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:b("CometUsersEntityScopedTypeaheadViewItem.react")});return i.jsx(b("WIGSearchEntityScopedTypeaheadDialog.react"),{dataSource:new(b("SeeAllOnlyTypeaheadDataSource"))(),loggingProvider:a,placeholder:g._("Rechercher parmi le contenu de {User name}",[g._param("User name",e)]),viewStrategyRenderer:j,onClose:d,onPressEntry:f,onSelectFreeformQuery:h})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("MercuryAudioType",[],(function(a,b,c,d,e,f){e.exports={FileAttachment:"file_attachment",AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("PageCommItemStatus",[],(function(a,b,c,d,e,f){e.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM",DELETED:"DELETED"}}),null);
__d("MercuryActionStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10});e.exports=a}),null);
__d("MercuryMessageDeliveryState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});e.exports=a}),null);
__d("MercuryPayloadSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_PINNED_MESSAGES:"client_change-pinned_messages",CLIENT_CHANGE_PINNED_STATUS:"client_change-pinned_status",CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS:"client_change_page_follow_up_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",CLIENT_UPDATE_COMM_STATUS:"client_update_comm_status",CLIENT_UPDATE_COMM_ITEM_OWNER:"client_update_comm_item_owner",CLIENT_CHANGE_SAVED_MESSAGE_STATUS:"client_update_saved_message_status",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_PINNED_MESSAGES:"server_change-pinned_messages",SERVER_CHANGE_PINNED_STATUS:"server_change_pinned_status",SERVER_CHANGE_PAGE_FOLLOW_UP_STATUS:"server_change_page_follow_up_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"});e.exports=a}),null);
__d("MercuryViewer",["CurrentUser","MercuryAssert"],(function(a,b,c,d,e,f){"use strict";f.getID=a;f.isViewer=c;var g="fbid:"+b("CurrentUser").getID();function a(){return g}function c(a){b("MercuryAssert").isParticipantID(a);return a===g}}),null);
__d("Utils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return!1;else return a}function b(a){if(a!==void 0)return a;else return!1}f.isTruthy=a;f.optionBoolToBool=b}),null);
__d("MessengerMessage.bs",["MercuryActionStatus","MercuryActionType","MercuryLogMessageType","MercuryMessageDeliveryState","MercuryPayloadSource","MercuryViewer","URI","Utils.bs","bs_caml_obj","bs_caml_option","bs_caml_primitive","bs_js_dict","bs_js_json","isMessengerDotComURI"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,b,c,d,e,f){b={thread_id:b,thread_fbid:null,other_user_fbid:null,action_type:d,message_id:a,secondary_language_body:null,threading_id:null,offline_threading_id:null,author:c,author_email:"",ephemeral_ttl_mode:null,timestamp:e,is_unread:null,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_sponsored:!1,is_one_way_sent:!1,ad_id:null,ad_client_token:null,commerce_message_type:null,customizations:[],source:"",source_tags:[],m_suggestions:null,tags:[],is_spoof_warning:!1,folder:"inbox",platform_xmd:null,message_source:null,montage_reply_data:null,replied_to_message:null,skip_bump_thread:!1,profile_ranges:null,reactions:null,attachments:null,ranges:null,meta_ranges:null,status:null,log_message_type:null,log_message_data:null,log_message_body:null,raw_attachments:null,body:null,subject:null,has_attachment:null,creator_info:null,error_data:null,removed_timestamp:null,unsender:null,verse_group_role_xmd:null,message_unsendability_status:null,is_forwarded:!1,preview_attachments:null,sticker_id:null,mib_direct_message_data:null};return Object.assign(b,f)}function c(a){var b=a.offline_threading_id;if(b==null)return!1;else return b===a.message_id}function d(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE))return!0;a=a.log_message_type;if(a==null)return!0;else return!(b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").UNSUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SERVER_ERROR)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").LIVE_LISTEN))}function e(a){var c=a.ranges;if(c==null)return;c=c.map(function(a){var c=a.entity;if(c==null)return a;var d=b("Utils.bs").isTruthy(c.external),e=c.url;if(d)return a;if(e==null)return a;d=new(g||(g=b("URI")))(e);e=b("isMessengerDotComURI")(g.getRequestURI());var f=d.getDomain();if(!e)return a;return!(f==null)&&f!==""?a:Object.assign(Object.assign({},a),{entity:Object.assign(Object.assign({},c),{url:d.setProtocol("https").setDomain("www.facebook.com").toString()})})});Object.assign(a,{ranges:c})}function h(a){if(b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").UNKNOWN)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_INITIAL_DATA)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_THREAD_SYNC)}function i(a){a=a.author;if(a==null)return!1;else return a===b("MercuryViewer").getID()}function j(a){a=a.author;if(a==null)return!1;else return a!==b("MercuryViewer").getID()}function k(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNSENT)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNCONFIRMED)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").RESENDING)}function l(a){a=a.status;if(a==null)return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").SUCCESS)}function m(a,c){return b("bs_caml_primitive").caml_float_compare(a.timestamp,c.timestamp)}function n(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").FAILED_UNKNOWN_REASON)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").ERROR)}function o(a){a=a.error_data;if(!(a==null))return b("bs_caml_option").nullable_to_opt(a.description)}function p(a,c){if(n(a))return b("MercuryMessageDeliveryState").ERROR;else if(k(a))return b("MercuryMessageDeliveryState").SENDING;else if(l(a))if(a.is_one_way_sent||a.timestamp>c)return b("MercuryMessageDeliveryState").SENT;else return b("MercuryMessageDeliveryState").DELIVERED;else return b("MercuryMessageDeliveryState").UNKNOWN}function q(a,b){if(n(a))return 4;else if(k(a))return 1;else if(l(a))if(a.timestamp<=b&&!a.is_one_way_sent)return 3;else return 2;else return 0}function r(a){try{a=b("bs_caml_option").some(JSON.parse(a))}catch(b){a=void 0}if(a===void 0)return;a=b("bs_js_json").classify(b("bs_caml_option").valFromOption(a));if(typeof a==="number")return;if(a.TAG!==2)return;a=b("bs_js_dict").get(a._0,"persona");if(a===void 0)return;a=b("bs_js_json").classify(b("bs_caml_option").valFromOption(a));if(typeof a==="number"||a.TAG!==2)return;else return b("bs_caml_option").some(a._0)}function s(a){if(a==null)return null;a=a.platform_xmd;if(a==null)return null;a=r(a);if(a===void 0)return null;a=b("bs_caml_option").valFromOption(a);var c=b("bs_js_dict").get(a,"id"),d=b("bs_js_dict").get(a,"name");a=b("bs_js_dict").get(a,"profile_picture_url");if(c!==void 0&&d!==void 0&&a!==void 0)return{id:b("bs_caml_option").valFromOption(c),name:b("bs_caml_option").valFromOption(d),profile_picture_url:b("bs_caml_option").valFromOption(a)};else return null}function t(a){var c=a.log_message_type;if(!(c==null)&&b("bs_caml_obj").caml_equal(c,b("MercuryLogMessageType").SERVER_ERROR))return b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").LOG_MESSAGE);else return!1}function u(a,b){var c=a.thread_fbid,d=a.other_user_fbid;a=a.is_from_iris;if(!(b==null)&&b)return!1;if(!(c==null)||!(d==null)||a)return!0;else return!1}f.makeFakeMessage=a;f.isLocalMessage=c;f.isTitanMessage=d;f.finalizeRanges=e;f.shouldSortForPayloadSource=h;f.isOutbound=i;f.isInbound=j;f.isSending=k;f.isSent=l;f.compare=m;f.hasError=n;f.getError=o;f.getDeliveryState=p;f.getGutterItemStatus=q;f.getPersonaData=r;f.getPersona=s;f.isErrorLogMessage=t;f.hasServerTimestamp=u}),null);
__d("MessengerMessageWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"4654538851228806"};b.getQueryID=function(){return"3914902785294445"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadMetadataWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1844738185554526"};b.getQueryID=function(){return"506565903040384"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageDFFFetcher.bs",["MessengerMessageTransformer.bs","MessengerMessageWebGraphQLQuery","MessengerThreadMetadataWebGraphQLQuery","Promise","WebGraphQL","bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("Promise").all(b("WebGraphQL").execAll([new(b("MessengerThreadMetadataWebGraphQLQuery"))({id:c.thread_id}),new(b("MessengerMessageWebGraphQLQuery"))({thread_and_message_id:{thread_id:c.thread_id,message_id:c.message_id}})],{actorID:a,batchName:"MessengerMessageDFFFetcher"})).then(function(c){var e=b("bs_caml_array").get(c,0);c=b("bs_caml_array").get(c,1);e=e.message_thread;c=c.message;if(e==null)throw{RE_EXN_ID:"Not_found",Error:new Error()};if(!(c==null))return b("Promise").resolve(b("MessengerMessageTransformer.bs").transformMessage(a,c,{thread_id:null,thread_fbid:e.thread_key.thread_fbid,other_user_fbid:e.thread_key.other_user_id,folder:e.folder.toLowerCase()},d));throw{RE_EXN_ID:"Not_found",Error:new Error()}})}f.fetch_=a}),null);
__d("ParticipantId.bs",["bs_belt_Id","bs_string"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable({cmp:a});d=c.cmp;f.cmp=d}),null);
__d("ThreadConnectivityStatusGraphQLType.bs",[],(function(a,b,c,d,e,f){"use strict";a="UNCONNECTED";b="IMPLICIT_OR_TWO_WAY_MESSAGING";f.unconnected=a;f.implicitOrTwoWayMessaging=b}),null);
__d("ThreadConnectivityStatusGraphQLType.re",["ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){a=b("ThreadConnectivityStatusGraphQLType.bs").unconnected;f.unconnected=a;c=b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging;f.implicitOrTwoWayMessaging=c}),null);
__d("MercuryTagHelper",[],(function(a,b,c,d,e,f){"use strict";f.get=a;function a(a,b){a=a.find(function(a){return a!=null?a.startsWith(b):!1});return a==null?a:a.substr(a.indexOf(":")+1)}}),null);
__d("EmojiLikeUtils",["EmojiLikeConstants","MercuryTagHelper"],(function(a,b,c,d,e,f){"use strict";f.setEmojiSize=a;f.setEmojiSource=c;f.isEmojiLike=d;f.getEmojiSize=i;function a(a,b){!a.tags?a.tags=[g(b)]:a.tags.push(g(b));return a}function g(a){var c=b("EmojiLikeConstants").TAG_PREFIX_NEW;return c+":"+a}function c(a,b){!a.tags?a.tags=[h(b)]:a.tags.push(h(b));return a}function h(a){return b("EmojiLikeConstants").SOURCE_TAG_PREFIX+":"+a}function d(a){return i(a)!=null}function i(a){if(!a.tags)return null;var c=b("MercuryTagHelper").get(a.tags,b("EmojiLikeConstants").TAG_PREFIX_NEW);return c?c:b("MercuryTagHelper").get(a.tags,b("EmojiLikeConstants").TAG_PREFIX_OLD)}}),null);
__d("getPageIDFromThreadID",["FBIDCheck","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=b("MercuryIDs").getUserIDFromThreadID(a);return!a||b("FBIDCheck").isUser_deprecated(a)?null:a}}),null);
__d("MessageRequestUtils",["CurrentUser","MercuryIDs","MessagingTag","ThreadConnectivityStatusGraphQLType.re","getPageIDFromThreadID"],(function(a,b,c,d,e,f){"use strict";f.isMessageRequest=a;f.isFiltered=c;f.shouldShowComposerPendingActions=d;f.shouldShowUnconnectedThreadInfoText=e;f.shouldSendTypingIndicators=g;function a(a){return(a.folder===b("MessagingTag").PENDING||a.folder===b("MessagingTag").OTHER)&&a.can_reply}function c(a){return a.folder===b("MessagingTag").OTHER}function d(a){return this.isMessageRequest(a)&&(b("MercuryIDs").isGroupChat(a.thread_id)||!!b("getPageIDFromThreadID")(a.thread_id)||b("CurrentUser").isWorkUser())}function e(a){var c;return!b("CurrentUser").isWorkUser()&&b("CurrentUser").getID()!==a.other_user_fbid&&((c=a.thread_connectivity_data)==null?void 0:c.connectivity_status)===b("ThreadConnectivityStatusGraphQLType.re").unconnected&&((c=a.thread_connectivity_data)==null?void 0:c.first_sender_id)===a.other_user_fbid}function g(a){if(!a)return!1;if(this.isMessageRequest(a))return!1;return b("CurrentUser").isWorkUser()||b("MercuryIDs").isGroupChat(a.thread_id)?!0:((a=a.thread_connectivity_data)==null?void 0:a.connectivity_status)===b("ThreadConnectivityStatusGraphQLType.re").implicitOrTwoWayMessaging}}),null);
__d("MercuryThreadInfo",["MercuryIDs"],(function(a,b,c,d,e,f){"use strict";f.canReply=a;f.getMuteSetting=g;f.isEmptyLocalThread=h;f.isMuted=c;f.areMentionsMuted=d;f.areReactionsMuted=e;f.isNewEmptyLocalThread=i;f.showSettingsMenu=j;f.isColdOpen=k;function a(a){return!!(a.is_subscribed&&(a.can_reply===void 0||a.can_reply)&&!a.has_email_participant&&!a.read_only)}function g(a){return a.mute_until==null?void 0:a.mute_until}function h(a){return b("MercuryIDs").tokenize(a.thread_id).type==="root"&&!a.timestamp}function c(a){a=g(a);return a!=null&&(a>Date.now()/1e3||a===-1)}function d(a){return a.mentions_mute_mode===1}function e(a){return a.reactions_mute_mode===1}function i(a){return!!(h(a)&&a.participants&&a.participants.length===0)}function j(a){return!!((a.can_reply||!a.cannot_reply_reason||a.cannot_reply_reason.toLowerCase()==="blocked"||a.cannot_reply_reason.toLowerCase()==="messenger_blockee")&&!a.has_email_participant&&!a.read_only&&a.is_subscribed)}function k(a){return!!(a.is_canonical_user&&(a.message_count===0||!a.timestamp))}}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};c.get=function(){return this.getForFBID(b("CurrentUser").getID())};c.resetAll=function(){var a=this.$1;this.$1={};return a};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};return a}();e.exports=a}),null);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercuryMessagingLightswitch","MercurySingletonProvider","mixin"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("mercury_informer");a=function(a){babelHelpers.inheritsLoose(c,a);c.get=function(){return h.get()};c.getForFBID=function(a){return h.getForFBID(a)};function c(b){var c;c=a.call(this)||this;c.$MercuryThreadInformer1=b;c.$MercuryThreadInformer2={};c.$MercuryThreadInformer3={};c.$MercuryThreadInformer4={};c.$MercuryThreadInformer5={};c.$MercuryThreadInformer6=!1;c.$MercuryThreadInformer7=!1;c.$MercuryThreadInformer8=!1;c.$MercuryThreadInformer9=!1;c.$MercuryThreadInformer10={};c.$MercuryThreadInformer11={};c.$MercuryThreadInformer12={};c.$MercuryThreadInformer13={};c.$MercuryThreadInformer14=0;return c}var d=c.prototype;d.informNewMessage=function(a,b){this.inform("new-message",{threadID:a,message:b})};d.informNewLogMessage=function(a,b){this.inform("new-log-message",{threadID:a,message:b})};d.updatedThread=function(a){this.$MercuryThreadInformer3[a]=!0,this.$MercuryThreadInformer15()};d.invalidatedThread=function(a){this.$MercuryThreadInformer4[a]=!0,this.$MercuryThreadInformer15()};d.deletedThread=function(a){this.$MercuryThreadInformer2[a]=!0,this.$MercuryThreadInformer15()};d.updatedThreadlist=function(){this.$MercuryThreadInformer6=!0,this.$MercuryThreadInformer15()};d.updatedUnseenState=function(){this.$MercuryThreadInformer7=!0,this.$MercuryThreadInformer15()};d.updatedUnseenTimestamp=function(){this.$MercuryThreadInformer8=!0,this.$MercuryThreadInformer15()};d.updatedUnreadState=function(){this.$MercuryThreadInformer9=!0,this.$MercuryThreadInformer15()};d.changedThreadReadState=function(a,b,c){(!this.$MercuryThreadInformer5[a]||this.$MercuryThreadInformer5[a].timestamp<c)&&(this.$MercuryThreadInformer5[a]={mark_as_read:b,timestamp:c}),this.$MercuryThreadInformer15()};d.receivedMessage=function(a){b("MercuryAssert").isThreadID(a.thread_id);var c=a.thread_id;this.$MercuryThreadInformer10[c]||(this.$MercuryThreadInformer10[c]=[]);this.$MercuryThreadInformer10[c].push(a);this.updatedThread(c)};d.reorderedMessages=function(a,b){this.$MercuryThreadInformer11[a]={source:b},this.$MercuryThreadInformer15()};d.updatedMessage=function(a,b,c){this.$MercuryThreadInformer12[a]||(this.$MercuryThreadInformer12[a]={}),this.$MercuryThreadInformer12[a][b]={source:c},this.updatedThread(a)};d.deletedMessage=function(a,b,c,d){this.$MercuryThreadInformer13[a]||(this.$MercuryThreadInformer13[a]={}),this.$MercuryThreadInformer13[a][b]={attachmentIDs:d,source:c},this.updatedThread(a)};d.synchronizeInforms=function(a){this.$MercuryThreadInformer14++;try{a()}catch(a){throw a}finally{this.$MercuryThreadInformer14--,this.$MercuryThreadInformer15()}};d.listen=function(a,b){return this.subscribe("threads-updated",function(c,d){d[a]&&b(a)})};d.$MercuryThreadInformer15=function(){if(!this.$MercuryThreadInformer14){var a=this.$MercuryThreadInformer2,b=this.$MercuryThreadInformer3,c=this.$MercuryThreadInformer4,d=this.$MercuryThreadInformer5,e=this.$MercuryThreadInformer6,f=this.$MercuryThreadInformer7,g=this.$MercuryThreadInformer8,h=this.$MercuryThreadInformer9,i=this.$MercuryThreadInformer10,j=this.$MercuryThreadInformer11,k=this.$MercuryThreadInformer12,l=this.$MercuryThreadInformer13;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=!1;this.$MercuryThreadInformer7=!1;this.$MercuryThreadInformer8=!1;this.$MercuryThreadInformer9=!1;this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12={};this.$MercuryThreadInformer13={};var m=Object.keys(b);(m.length||e)&&this.inform("threadlist-updated",m);m.length&&this.$MercuryThreadInformer16("threads-updated",b);for(var e in c){this.$MercuryThreadInformer16("thread-invalidated",c);break}for(var e in d){this.$MercuryThreadInformer16("thread-read-changed",d);break}for(e in a){this.$MercuryThreadInformer16("threads-deleted",a);break}f&&this.$MercuryThreadInformer16("unseen-updated",null);g&&this.$MercuryThreadInformer16("unseen-timestamp-updated",null);h&&this.$MercuryThreadInformer16("unread-updated",null);for(e in i){this.$MercuryThreadInformer16("messages-received",i);break}for(e in j){this.$MercuryThreadInformer16("messages-reordered",j);break}for(e in k){this.$MercuryThreadInformer16("messages-updated",k);break}for(e in l){this.$MercuryThreadInformer16("messages-deleted",l);break}}};d.$MercuryThreadInformer16=function(a,c){a==="threads-updated"&&b("MercuryMessagingLightswitch").guard(function(){g.debug(a,JSON.stringify(c))}),this.inform(a,c)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER",ARBITER_EVENT_INVALID_STATE_STALE:"SYNC:INVALID_STATE_STALE"});e.exports=a}),null);
__d("MercurySyncDeltaHolder",["MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2=new Map(),this.$3=[],this.$1=0}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var b=a.prototype;b.peek=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3[0]};b.getTop=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3.reverse()[0]};b.pop=function(){this.$3=this.$3.sort(function(a,b){return a-b});if(this.$3.length===0)return void 0;var a=this.$3.shift(),b=this.$2.get(a);this.$2["delete"](a);return{seqID:a,delta:b}};b.push=function(a,b){if(this.$2.has(a))return;this.$2.set(a,b);this.$3.push(a)};b.getLastSeqID=function(){return this.$1};b.updateLastSeqID=function(a){this.$1=a};b.updateLastSeqIDAndClearHistory=function(a){this.$2=new Map(),this.$3=[],this.$1=a};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncEventsProxy",["Arbiter","ChannelConstants","LogHistory","MercuryMessagingLightswitch","MercurySingletonProvider","MessengerMQTTConnectionEvents"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("mercury_event_proxy"),h={DELTA:"DELTA",FAKE_DFF:"FAKE_DFF",FLOW:"FLOW",FLOW_REJECT:"FLOW_REJECT",INIT:"MercurySyncDeltaHandler/initSeqID",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING",SHUTDOWN:"SHUTDOWN",TYP:"TYP"};a=function(){a.getArbiterTypeForFBID=function(a,b){return a+"/"+b};a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$2=[],this.$1=a,this.init()}var c=a.prototype;c.getArbiterType=function(b){return a.getArbiterTypeForFBID(this.$1,b)};c.init=function(){var a=this,c,d;this.$2.forEach(function(a){return b("Arbiter").unsubscribe(a)});this.$2=[(c=b("Arbiter")).subscribe((d=b("MessengerMQTTConnectionEvents")).DELTA_EVENT,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.DELTA)].concat(e))}),c.subscribe(d.STREAM_CONNECT,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.CONNECTED)].concat(e))}),c.subscribe(d.STREAM_DISCONNECT,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.SHUTDOWN)].concat(e))}),c.subscribe(d.STREAM_CONNECTING,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.RECONNECTING)].concat(e))}),c.subscribe(b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),function(c){b("MercuryMessagingLightswitch").guard(function(){g.debug("fakedff",JSON.stringify({fbid:a.$1}))});for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.FAKE_DFF)].concat(e))}),c.subscribe(d.TYP,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.TYP)].concat(e))})]};return a}();e.exports=a;a.Events=h;var i=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercuryAttachment",["cx","EmojiLikeUtils","MercuryAudioType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a===Object(a)},i="_1c_u",j=new Set(["animated_image","photo","video","third_party_sticker"]),k={getAttachIconClass:function(a){switch(a){case"attach:image":return"_y2-";case"attach:video":return"_y2_";case"attach:music":return"_y30";case"attach:voice":return"_y31";case"attach:text":return"_y32";case"attach:pdf":return"_1k9k";case"attach:richtext":return"_1k9l";case"attach:spreadsheet":return"_1k9p";case"attach:presentation":return"_1k9r";case"attach:archive":return"_1k9s";case"attach:ms:word":return"_y33";case"attach:ms:xls":return"_y34";case"attach:ms:ppt":return"_y35"}return"_y36"},getAttachIconClassByMime:function(a){return k.getAttachIconClass(k.getAttachTypeByMime(a))},getAttachTypeByMime:function(a){if(!a)return"attach:unknown";if(a.startsWith("image"))return"attach:image";else if(a.startsWith("video"))return"attach:video";else if(a.startsWith("audio"))return"attach:music";else if(a.startsWith("text/plain"))return"attach:text";else if(a=="text/pdf"||a=="application/pdf"||a=="application/vnd.pdf"||a=="application/x-pdf")return"attach:pdf";else if(a=="text/richtext"||a=="application/rtf"||a=="application/x-iwork-pages-sffkey")return"attach:richtext";else if(a=="text/csv"||a=="application/x-iwork-numbers-sffkey")return"attach:spreadsheet";else if(a=="application/x-iwork-keynote-sffkey")return"attach:presentation";else if(a=="application/vnd.ms-cab-compressed"||a=="application/x-7z-compressed"||a=="application/x-ace-compressed"||a=="application/x-apple-diskimage"||a=="application/x-compress"||a=="application/x-compressed"||a=="application/x-gzip"||a=="application/x-rar-compressed"||a=="application/x-tar"||a=="application/x-zip-compressed"||a=="application/zip")return"attach:archive";else if(a=="application/msword"||a.startsWith("application/vnd.ms-word")||a.startsWith("application/vnd.openxmlformats-officedocument.wordprocessingml"))return"attach:ms:word";else if(a.startsWith("application/vnd.ms-excel")||a.startsWith("application/vnd.openxmlformats-officedocument.spreadsheetml"))return"attach:ms:xls";else if(a.startsWith("application/vnd.ms-powerpoint")||a.startsWith("application/vnd.openxmlformats-officedocument.presentationml"))return"attach:ms:ppt";else return"attach:unknown"},convertRaw:function(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d.attach_type==="photo")b.push(d);else if(d.filename){var e=k.getAttachTypeByMime(d.filetype),f={};f.attach_type="file";f.name=d.filename;f.icon_type=e;f.url="";b.push(f)}}return b},get:function(a){var c=[];a.attachments?c=a.attachments:a.raw_attachments&&(c=k.convertRaw(a.raw_attachments));var d=b("EmojiLikeUtils").getEmojiSize(a);d&&(c=c.concat([{attach_type:"emoji_like",size:d}]));if(!(a.attachments&&a.attachments.length>0)){if(a.sticker_id)return c.concat([{attach_type:"sticker"}]);if(a.preview_attachments&&a.preview_attachments.length>0)return c.concat(a.preview_attachments)}return c},resizeContain:function(a,b){var c=a.width/a.height,d=b.width/b.height;if(d<c)return{width:Math.ceil(Math.min(a.height*d,b.width)),height:Math.ceil(Math.min(a.height,b.height))};else return{width:Math.ceil(Math.min(a.width,b.width)),height:Math.ceil(Math.min(a.width/d,b.height))}},isBubblePreferred:function(a){return k.isFileAttachment(a)},isPhotoAttachment:function(a){return(k==null?void 0:k.getAttachTypeByMime)&&k.getAttachTypeByMime(a.mime_type)==="attach:pdf"?!1:!!(a.attach_type=="photo"||a.attach_type=="animated_image"||a.attach_type=="third_party_sticker"||a.attach_type=="file"&&a.preview_url)},isPhotoGroupAttachment:function(a){return j.has(a.attach_type)},isSinglePhotoGroupAttachment:function(a){return!!(a.attachments&&a.attachments.length===1&&a.attachments[0]&&k.isPhotoGroupAttachment(a.attachments[0]))},isVideoAttachment:function(a){return a.attach_type=="video"},isShareAttachment:function(a){return a.attach_type=="share"},isFileAttachment:function(a){return a.attach_type=="file"},isErrorAttachment:function(a){return a.attach_type=="error"},isStickerAttachment:function(a){return a.attach_type=="sticker"},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isVoiceAttachment:function(a){return!a.metadata?!1:a.metadata.type===b("MercuryAudioType").AudioClip||a.metadata.type===b("MercuryAudioType").VoiceMessageWithTranscript},hasAttribution:function(a){return!!a.app_attribution},isLightweightActionAttachment:function(a){return!!(k.isShareAttachment(a)&&a.share&&a.share.target!=null&&a.share.target.lwa_type!=null)},isSingleVideoAttachment:function(a){a=k.get(a).filter(h).filter(function(a){return k.isVideoAttachment(a)});return a.length===1},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&k.isSharedVideoAttachment(a.share.target.attachment))},isSharedVideoAttachmentMessage:function(a){a=k.get(a).filter(h).filter(function(a){return k.isSharedVideoAttachment(a)||k.isGenieSharedVideoAttachment(a)});return a.length===1},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(i);return a&&a.length?a[0]:b}};e.exports=k}),null);
__d("TypingStates",[],(function(a,b,c,d,e,f){a=Object.freeze({INACTIVE:0,TYPING:1,QUITTING:2});e.exports=a}),null);
__d("MessengerJoinableModeType",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIVATE:0,JOINABLE:1});e.exports=a}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};b=a;e.exports=b}),null);
__d("bs_belt_internalAVLset",["bs_belt_SortArray","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return{v:a.v,h:a.h,l:g(a.l),r:g(a.r)};else return a}function h(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c}}function i(a){return{v:a,h:1,l:void 0,r:void 0}}function j(a,b){if(b!==void 0)if(a!==void 0)return a.h>=b.h;else return!1;else return!0}function k(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;if(d>(e+2|0)){var f=a.l,g=a.r;if(j(f,g))return h(f,a.v,h(g,b,c));else return h(h(f,a.v,g.l),g.v,h(g.r,b,c))}if(e<=(d+2|0))return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c};f=c.l;g=c.r;if(j(g,f))return h(h(a,b,f),c.v,g);else return h(h(a,b,f.l),f.v,h(f.r,c.v,g))}function l(a){while(!0){var b=a,c=b.l;if(c===void 0)return b.v;a=c;continue}}function a(a){if(a!==void 0)return b("bs_caml_option").some(l(a))}function c(a){if(a!==void 0)return l(a)}function m(a){while(!0){var b=a,c=b.r;if(c===void 0)return b.v;a=c;continue}}function d(a){if(a!==void 0)return b("bs_caml_option").some(m(a))}function e(a){if(a!==void 0)return m(a)}function n(a,b){var c=a.l;if(c!==void 0)return k(n(c,b),a.v,a.r);else{b.contents=a.v;return a.r}}function o(a){return a===void 0}function p(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d,tl:c};a=d.l;continue}}function q(a,b){while(!0){var c=a;if(c===void 0)return;q(c.l,b);b(c.v);a=c.r;continue}}function r(a,c){return q(a,b("bs_curry").__1(c))}function s(a,b,c){while(!0){var d=b,e=a;if(e===void 0)return d;b=c(s(e.l,d,c),e.v);a=e.r;continue}}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,b){while(!0){var c=a;if(c===void 0)return!0;if(!b(c.v))return!1;if(!u(c.l,b))return!1;a=c.r;continue}}function v(a,c){return u(a,b("bs_curry").__1(c))}function w(a,b){while(!0){var c=a;if(c===void 0)return!1;if(b(c.v))return!0;if(w(c.l,b))return!0;a=c.r;continue}}function x(a,c){return w(a,b("bs_curry").__1(c))}function y(a,b){if(a!==void 0)return k(y(a.l,b),a.v,a.r);else return i(b)}function z(a,b){if(a!==void 0)return k(a.l,a.v,z(a.r,b));else return i(b)}function A(a,b,c){if(a===void 0)return y(c,b);if(c===void 0)return z(a,b);var d=a.h,e=c.h;if(d>(e+2|0))return k(a.l,a.v,A(a.r,b,c));else if(e>(d+2|0))return k(A(a,b,c.l),c.v,c.r);else return h(a,b,c)}function B(a,b){if(a===void 0)return b;if(b===void 0)return a;var c={contents:b.v};b=n(b,c);return A(a,c.contents,b)}function C(a,b){if(a===void 0)return[void 0,void 0];var c=a.v,d=C(a.l,b),e=d[1];d=d[0];var f=b(c);a=C(a.r,b);b=a[1];a=a[0];if(f)return[A(d,c,a),B(e,b)];else return[B(d,a),A(e,c,b)]}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a){var b=a.l;a=a.r;b=b!==void 0?E(b):0;a=a!==void 0?E(a):0;return(1+b|0)+a|0}function F(a){if(a!==void 0)return E(a);else return 0}function G(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d.v,tl:G(d.r,c)};a=d.l;continue}}function H(a){return G(a,0)}function I(a){while(!0){var b=a;if(b===void 0)return;var c=b.l;b=b.r;var d=(c!==void 0?c.h:0)-(b!==void 0?b.h:0)|0;if(!(d<=2&&d>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLset.ml",290,4],Error:new Error()};I(c);a=b;continue}}function J(a,b,c){while(!0){var d=b,e=a,f=e.v,g=e.l;e=e.r;g=g!==void 0?J(g,d,c):d;c[g]=f;d=g+1|0;if(e===void 0)return d;b=d;a=e;continue}}function K(a,b,c,d){while(!0){var e=a,f=e.v,g=e.l;e=e.r;g!==void 0&&K(g,b,c,d);if(d(f)){g=b.forward;c[g]=f;b.forward=g+1|0}else{g=b.backward;c[g]=f;b.backward=g-1|0}if(e===void 0)return;a=e;continue}}function L(a,b,c,d){while(!0){var e=b,f=a,g=f.v,h=f.l;f=f.r;h=h!==void 0?L(h,e,c,d):e;e=d(g)?(c[h]=g,h+1|0):h;if(f===void 0)return e;b=e;a=f;continue}}function M(b){if(b===void 0)return[];var a=E(b);a=new Array(a);J(b,0,a);return a}function N(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b-1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=N(a,b,d);f=a[b-d|0];a=N(a,(b-d|0)-1|0,(c-d|0)-1|0);return h(e,f,a)}}function O(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b+1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=O(a,b,d);f=a[b+d|0];a=O(a,(b+d|0)+1|0,(c-d|0)-1|0);return h(e,f,a)}}function P(a){return O(a,0,a.length)}function Q(a,b){if(a===void 0)return;var c=a.v,d=a.l,e=a.r,f=Q(d,b),g=b(c);b=Q(e,b);if(g)if(d===f&&e===b)return a;else return A(f,c,b);else return B(f,b)}function aa(a,c){return Q(a,b("bs_curry").__1(c))}function R(b,c){if(b===void 0)return;var a=E(b);a=new Array(a);b=L(b,0,a,c);return O(a,0,b)}function ba(a,c){return R(a,b("bs_curry").__1(c))}function S(b,c){if(b===void 0)return[void 0,void 0];var a=E(b),d=new Array(a),e=a-1|0,f={forward:0,backward:e};K(b,f,d,c);b=f.forward;return[O(d,0,b),N(d,e,a-b|0)]}function ca(a,c){return S(a,b("bs_curry").__1(c))}function da(b,c,a){while(!0){var d=b;if(d===void 0)return!1;var e=d.v;e=a(c,e);if(e===0)return!0;b=e<0?d.l:d.r;continue}}function T(a,b,c){var d=F(a),e=F(b);if(d===e){a=p(a,0);b=p(b,0);while(!0){var f=b,g=a;if(!g)return 0;if(!f)return 0;var h=f.hd,i=g.hd,j=c(i.v,h.v);if(j!==0)return j;b=p(h.r,f.tl);a=p(i.r,g.tl);continue}}else if(d<e)return-1;else return 1}function ea(a,b,c){return T(a,b,c)===0}function U(b,c,a){while(!0){var d=c,e=b;if(e===void 0)return!0;if(d===void 0)return!1;var f=e.v,g=e.l;e=e.r;var i=d.v,j=d.l;d=d.r;i=a(f,i);if(i===0){if(!U(g,j,a))return!1;c=d;b=e;continue}if(i<0){if(!U(h(g,f,void 0),j,a))return!1;b=e;continue}if(!U(h(void 0,f,e),d,a))return!1;b=g;continue}}function fa(c,d,a){while(!0){var e=c;if(e===void 0)return;var f=e.v,g=a(d,f);if(g===0)return b("bs_caml_option").some(f);c=g<0?e.l:e.r;continue}}function ga(b,c,a){while(!0){var d=b;if(d===void 0)return;var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}}function ha(b,c,a){while(!0){var d=b;if(d!==void 0){var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function V(a){var b=a.l;a.l=b.r;b.r=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.l;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function W(a){var b=a.r;a.r=b.l;b.l=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.r;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function ia(a){var b=a.l;b=W(b);a.l=b;return V(a)}function ja(a){var b=a.r;b=V(b);a.r=b;return W(a)}function X(a){var b=a.l;b=b!==void 0?b.h:0;var c=a.r;c=c!==void 0?c.h:0;a.h=(b>c?b:c)+1|0;return a}function Y(a){var b=a.l,c=a.r,d=b!==void 0?b.h:0,e=c!==void 0?c.h:0;if(d>(2+e|0)){var f=b.l;b=b.r;if(j(f,b))return X(V(a));else return X(ia(a))}if(e>(2+d|0)){f=c.l;b=c.r;if(j(b,f))return X(W(a));else return X(ja(a))}a.h=(d>e?d:e)+1|0;return a}function Z(a,b,c){if(b===void 0)return i(c);var d=b.v;d=a(c,d);if(d===0)return b;var e=b.l,f=b.r;if(d<0){d=Z(a,e,c);b.l=d}else b.r=Z(a,f,c);return Y(b)}function ka(c,a){var d=c.length;if(d===0)return;var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b,c)<0}),f;e>=0?f=O(c,0,e):(e=-e|0,f=N(c,e-1|0,e));for(var e=e;e<d;++e)f=Z(a,f,c[e]);return f}function $(a,b){var c=b.l,d=b.r;if(c!==void 0){b.l=$(a,c);return Y(b)}else{a.v=b.v;return d}}f.copy=g;f.create=h;f.bal=k;f.singleton=i;f.minimum=a;f.minUndefined=c;f.maximum=d;f.maxUndefined=e;f.removeMinAuxWithRef=n;f.isEmpty=o;f.stackAllLeft=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.joinShared=A;f.concatShared=B;f.keepSharedU=Q;f.keepShared=aa;f.keepCopyU=R;f.keepCopy=ba;f.partitionSharedU=C;f.partitionShared=D;f.partitionCopyU=S;f.partitionCopy=ca;f.lengthNode=E;f.size=F;f.toList=H;f.checkInvariantInternal=I;f.fillArray=J;f.toArray=M;f.fromSortedArrayAux=O;f.fromSortedArrayRevAux=N;f.fromSortedArrayUnsafe=P;f.has=da;f.cmp=T;f.eq=ea;f.subset=U;f.get=fa;f.getUndefined=ga;f.getExn=ha;f.fromArray=ka;f.addMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_SetDict",["bs_belt_internalAVLset"],(function(a,b,c,d,e,f){"use strict";function g(c,d,a){if(c===void 0)return b("bs_belt_internalAVLset").singleton(d);var e=c.v,f=a(d,e);if(f===0)return c;var h=c.l,i=c.r;if(f<0){f=g(h,d,a);if(f===h)return c;else return b("bs_belt_internalAVLset").bal(f,e,i)}f=g(i,d,a);if(f===i)return c;else return b("bs_belt_internalAVLset").bal(h,e,f)}function h(c,d,a){if(c===void 0)return c;var e=c.v,f=c.l,g=c.r,i=a(d,e);if(i===0){if(f===void 0)return g;if(g===void 0)return f;var j={contents:g.v},k=b("bs_belt_internalAVLset").removeMinAuxWithRef(g,j);return b("bs_belt_internalAVLset").bal(f,j.contents,k)}if(i<0){j=h(f,d,a);if(j===f)return c;else return b("bs_belt_internalAVLset").bal(j,e,g)}k=h(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLset").bal(f,e,k)}function a(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=g(b,f,a)}return b}function c(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=h(b,f,a)}return b}function i(a,c,d){var e=c.v,f=c.l,g=c.r,h=a(d,e);if(h===0)return[f,g];if(h<0){if(f===void 0)return[void 0,c];h=i(a,f,d);return[h[0],b("bs_belt_internalAVLset").joinShared(h[1],e,g)]}if(g===void 0)return[c,void 0];h=i(a,g,d);return[b("bs_belt_internalAVLset").joinShared(f,e,h[0]),h[1]]}function j(a,c,d,e){var f=c.v,g=c.l,h=c.r,i=a(d,f);if(i===0){e.contents=!0;return[g,h]}if(i<0){if(g===void 0)return[void 0,c];i=j(a,g,d,e);return[i[0],b("bs_belt_internalAVLset").joinShared(i[1],f,h)]}if(h===void 0)return[c,void 0];i=j(a,h,d,e);return[b("bs_belt_internalAVLset").joinShared(g,f,i[0]),i[1]]}function d(b,c,a){if(b===void 0)return[[void 0,void 0],!1];var d={contents:!1};a=j(a,b,c,d);return[a,d.contents]}function k(c,d,a){if(c===void 0)return d;if(d===void 0)return c;var e=c.h,f=d.h;if(e>=f){if(f===1)return g(c,d.v,a);f=c.v;var h=c.l,j=c.r,l=i(a,d,f);return b("bs_belt_internalAVLset").joinShared(k(h,l[0],a),f,k(j,l[1],a))}if(e===1)return g(d,c.v,a);h=d.v;f=d.l;j=d.r;l=i(a,c,h);return b("bs_belt_internalAVLset").joinShared(k(l[0],f,a),h,k(l[1],j,a))}function l(c,d,a){if(c===void 0)return;if(d===void 0)return;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=l(f,d[0],a);c=l(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").joinShared(f,e,c);else return b("bs_belt_internalAVLset").concatShared(f,c)}function m(c,d,a){if(c===void 0)return c;if(d===void 0)return c;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=m(f,d[0],a);c=m(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").concatShared(f,c);else return b("bs_belt_internalAVLset").joinShared(f,e,c)}var n,o=(e=b("bs_belt_internalAVLset")).fromArray,p=e.fromSortedArrayUnsafe,q=e.isEmpty,r=e.has,s=e.subset,t=e.cmp,u=e.eq,v=e.forEachU,w=e.forEach,x=e.reduceU,y=e.reduce,z=e.everyU,A=e.every,B=e.someU,C=e.some,D=e.keepSharedU,E=e.keepShared,F=e.partitionSharedU,G=e.partitionShared,H=e.size,I=e.toList,J=e.toArray,K=e.minimum,L=e.minUndefined,M=e.maximum,N=e.maxUndefined,O=e.get,P=e.getUndefined,Q=e.getExn;e=e.checkInvariantInternal;f.empty=n;f.fromArray=o;f.fromSortedArrayUnsafe=p;f.isEmpty=q;f.has=r;f.add=g;f.mergeMany=a;f.remove=h;f.removeMany=c;f.union=k;f.intersect=l;f.diff=m;f.subset=s;f.cmp=t;f.eq=u;f.forEachU=v;f.forEach=w;f.reduceU=x;f.reduce=y;f.everyU=z;f.every=A;f.someU=B;f.some=C;f.keepU=D;f.keep=E;f.partitionU=F;f.partition=G;f.size=H;f.toList=I;f.toArray=J;f.minimum=K;f.minUndefined=L;f.maximum=M;f.maxUndefined=N;f.get=O;f.getUndefined=P;f.getExn=Q;f.split=d;f.checkInvariantInternal=e}),null);
__d("bs_belt_Set",["bs_belt_SetDict","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_SetDict").fromArray(a,c)}}function c(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").add(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function e(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").mergeMany(c.data,d,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").removeMany(c.data,d,a)}}function h(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").union(c.data,d.data,a)}}function i(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").intersect(c.data,d.data,a)}}function j(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").diff(c.data,d.data,a)}}function k(c,d){var a=c.cmp;return b("bs_belt_SetDict").subset(c.data,d.data,a)}function l(c,d){var a=c.cmp;c=b("bs_belt_SetDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function m(a){return{cmp:a.cmp,data:void 0}}function n(a){return b("bs_belt_SetDict").isEmpty(a.data)}function o(a,c){var d=a.cmp;return b("bs_belt_SetDict").cmp(a.data,c.data,d)}function p(a,c){return b("bs_belt_SetDict").eq(a.data,c.data,a.cmp)}function q(a,c){return b("bs_belt_SetDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_SetDict").forEachU(a.data,b("bs_curry").__1(c))}function s(a,c,d){return b("bs_belt_SetDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c){return b("bs_belt_SetDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_SetDict").everyU(a.data,b("bs_curry").__1(c))}function w(a,c){return b("bs_belt_SetDict").someU(a.data,c)}function x(a,c){return b("bs_belt_SetDict").someU(a.data,b("bs_curry").__1(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_SetDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__1(c))}function A(a,c){c=b("bs_belt_SetDict").partitionU(a.data,c);a=a.cmp;return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__1(c))}function C(a){return b("bs_belt_SetDict").size(a.data)}function D(a){return b("bs_belt_SetDict").toList(a.data)}function E(a){return b("bs_belt_SetDict").toArray(a.data)}function F(a){return b("bs_belt_SetDict").minimum(a.data)}function G(a){return b("bs_belt_SetDict").minUndefined(a.data)}function H(a){return b("bs_belt_SetDict").maximum(a.data)}function I(a){return b("bs_belt_SetDict").maxUndefined(a.data)}function J(a,c){return b("bs_belt_SetDict").get(a.data,c,a.cmp)}function K(a,c){return b("bs_belt_SetDict").getUndefined(a.data,c,a.cmp)}function L(a,c){return b("bs_belt_SetDict").getExn(a.data,c,a.cmp)}function M(a,c){return b("bs_belt_SetDict").has(a.data,c,a.cmp)}function N(a,c){return{cmp:c.cmp,data:b("bs_belt_SetDict").fromSortedArrayUnsafe(a)}}function O(a){return a.data}function P(a){a=a.cmp;return{cmp:a}}function Q(a,b){return{cmp:a.cmp,data:b}}function R(a){return b("bs_belt_SetDict").checkInvariantInternal(a.data)}var S,T,U;f.Int=S;f.$$String=T;f.Dict=U;f.make=m;f.fromArray=a;f.fromSortedArrayUnsafe=N;f.isEmpty=n;f.has=M;f.add=d;f.mergeMany=e;f.remove=c;f.removeMany=g;f.union=h;f.intersect=i;f.diff=j;f.subset=k;f.cmp=o;f.eq=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.size=C;f.toArray=E;f.toList=D;f.minimum=F;f.minUndefined=G;f.maximum=H;f.maxUndefined=I;f.get=J;f.getUndefined=K;f.getExn=L;f.split=l;f.checkInvariantInternal=R;f.getData=O;f.getId=P;f.packIdData=Q}),null);
__d("RemoteAction.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a){}function a(a){return{send:g}}function c(a,b){if(b.send===g){b.send=a;return b}}function d(a){a.send=g}function e(a,c){return b("bs_curry")._1(a.send,c)}f.create=a;f.subscribe=c;f.unsubscribe=d;f.send=e}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},badge_type:{type:"Enum",enumType:1},work_learning_entry_point:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"},hashtags:{type:"Exists",defaultValue:!1},sale_post_id:{type:"FBID"},exp:{type:"String"},cursor:{type:"String"},invite_short_link_key:{type:"String"}})}),null);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked",FOLDER_COMMUNITY:"community",FOLDER_RESTRICTED:"restricted"}}}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0};e.exports=a}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function(a,b,c,d,e,f){f.getSessionID=a;f.hasUserCookie=c;var g=b("randomInt")(0,4294967295)+1;function a(){return g}function c(){return b("CurrentUser").isLoggedInNow()}}),null);
__d("PresencePrivacy",["Arbiter","ArbiterMixin","AsyncRequest","Bootloader","ChannelConstants","CurrentUser","PresencePrivacyInitialData","PresenceUtil","mixin"],(function(a,b,c,d,e,f){var g="/ajax/chat/privacy/settings.php",h="/ajax/chat/privacy/online_policy.php",i="/ajax/chat/privacy/visibility.php",j="friend_visibility",k="visibility",l="online_policy",m=babelHelpers["extends"]({},(c=b("PresencePrivacyInitialData")).privacyData),n=c.visibility,o=babelHelpers["extends"]({},c.privacyData),p=n,q=c.onlinePolicy,r=q,s=[],t=!1;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.WHITELISTED=1,c.BLACKLISTED=-1,c.UNLISTED=0,c.ONLINE=1,c.OFFLINE=0,c.ONLINE_TO_WHITELIST=0,c.ONLINE_TO_BLACKLIST=1,b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a,b,c){};c.setVisibility=function(a){p=n;y(a);var b={visibility:a},c={type:k,visibility:a};b=G(i,b,c);B(b,c);return a};c.getVisibility=function(){return n};c.setOnlinePolicy=function(a){r=q;z(a);var b={online_policy:a},c={type:l,online_policy:a};b=G(h,b,c);B(b,c);return a};c.getOnlinePolicy=function(){return q};c.getFriendVisibility=function(a){return m[a]||u.UNLISTED};c.getFriendsVisibility=function(){return m};c.isUserOffline=function(){return this.getVisibility()===u.OFFLINE};c.allows=function(a){return this.isUserOffline()?!1:this.allowsIfViewerIsOnline(a)};c.allowsIfViewerIsOnline=function(a){var b=this.getOnlinePolicy();return b===u.ONLINE_TO_WHITELIST?m[a]==u.WHITELISTED:m[a]!=u.BLACKLISTED};c.getOnlinePolicyStr=function(){if(this.isUserOffline())return"offline";var a=this.getOnlinePolicy();if(a===u.ONLINE_TO_WHITELIST)return"online_to_whitelist";return a===u.ONLINE_TO_BLACKLIST?"online_to_blacklist":"unknown"};c.setFriendsVisibility=function(a,b){if(a.length>0){var c={};for(var d=0;d<a.length;d++){var e=a[d];o[e]=m[e];c[e]=b}v(c);e=b;e==u.UNLISTED&&(e=o[a[0]]);d={users:a,setting:b,setting_type:e};a={type:j,settings:c};e=G(g,d,a);B(e,a)}return b};c.setFriendVisibilityMap=function(a,b){for(var c in a)o[c]=m[c];v(a);a={type:j,settings:a};B(F(b,a),a)};c.allow=function(a){if(this.allows(a))throw new Error("allow() should only be called for users that are not already allowed");if(this.getVisibility()===u.OFFLINE)throw new Error("allow() should only be called when the user is already online");var b=this.getOnlinePolicy()===u.ONLINE_TO_WHITELIST?u.WHITELISTED:u.UNLISTED;return this.setFriendsVisibility([a],b)};c.disallow=function(a){if(!this.allows(a))throw new Error("disallow() should only be called for users that are not already disallowed");if(this.getVisibility()===u.OFFLINE)throw new Error("disallow() should only be called when the user is already online");var b=this.getOnlinePolicy()===u.ONLINE_TO_BLACKLIST?u.BLACKLISTED:u.UNLISTED;return this.setFriendsVisibility([a],b)};c.getBlacklist=function(){var a=[];for(var b in m)m[b]===u.BLACKLISTED&&a.push(b);return a};c.getWhitelist=function(){var a=[];for(var b in m)m[b]===u.WHITELISTED&&a.push(b);return a};c.getMapForTest=function(){return m};c.setMapForTest=function(a){m=a};return b}(b("mixin")(b("ArbiterMixin")));var u=new d();function v(a){var c;for(c in a){var d=a[c];if(c==b("CurrentUser").getID())throw new Error("Invalid to set current user's visibility");switch(d){case u.WHITELISTED:case u.BLACKLISTED:case u.UNLISTED:break;default:throw new Error("Invalid state: "+d)}}for(c in a)m[c]=a[c];u.inform("privacy-changed")}function w(a,b){var c={};c[a]=b;v(c)}function x(a){b("Bootloader").loadModules(["MessengerMQTTPresenceReporting"],function(b){b.reportChatVisibility(!!a)},"PresencePrivacy")}function y(a){switch(a){case u.ONLINE:case u.OFFLINE:break;default:throw new Error("Invalid visibility: "+a)}n=a;x(a);u.inform("privacy-changed");u.inform("privacy-user-presence-changed")}function z(a){switch(a){case u.ONLINE_TO_WHITELIST:case u.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+a)}q=a;u.inform("privacy-user-presence-changed");u.inform("privacy-changed")}function A(a,b){t=!0,a.send()}function B(a,b){s.push({request:a,data:b});if(!t){a=s.shift();A(a.request,a.data)}}function C(a,b){b=a.type;if(b===j){u.inform("privacy-availability-changed");for(var c in a.settings)o[c]=a.settings[c]}else b===k?p=a.visibility:b===l&&(r=a.online_policy),u.inform("privacy-user-presence-response")}function D(a,b){n!==p&&y(p),q!==r&&z(r),Object.assign(m,o),u.inform("privacy-changed"),s=[]}function E(a){t=!1;if(s.length>0){a=s.shift();A(a.request,a.data)}}function F(a,c){if(b("PresenceUtil")!=null){var d=a.getData();d.window_id=b("PresenceUtil").getSessionID();a.setData(d)}a.setHandler(C.bind(this,c)).setErrorHandler(D.bind(this,c)).setTransportErrorHandler(D.bind(this,c)).setFinallyHandler(E.bind(this)).setAllowCrossPageTransition(!0);return a}function G(a,c,d){return F(new(b("AsyncRequest"))(a).setData(c),d)}function a(a,c){a=c.obj;if(a.viewer_id!=b("CurrentUser").getID())throw new Error("Viewer got from the channel is not the real viewer");if(a.window_id===b("PresenceUtil").getSessionID())return;var d=a.data;if(a.event=="access_control_entry")d.target_ids.forEach(function(a){w(a,d.setting),o[a]=d.setting});else{if(a.event=="visibility_update"){c=d.visibility?u.ONLINE:u.OFFLINE;y(c);p=c}else a.event=="online_policy_update"&&(z(d.online_policy),r=d.online_policy);u.inform("privacy-user-presence-response")}}u.inform("privacy-changed");u.inform("privacy-user-presence-changed","state");b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("privacy_changed"),a.bind(this));b("Arbiter").subscribe(b("ChannelConstants").ON_CONFIG,function(a,b){a=b.getConfig("visibility",null);if(a!==null&&typeof a!=="undefined"){b=a?u.ONLINE:u.OFFLINE;y(b)}}.bind(this));f=u;e.exports=f}),null);
__d("ChatVisibility",["Arbiter","PresencePrivacy"],(function(a,b,c,d,e,f){var g={isOnline:function(){return b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_BLACKLIST&&b("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getWhitelist().length>0},goOnline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").OFFLINE&&(b("PresencePrivacy").setVisibility(b("PresencePrivacy").ONLINE),b("Arbiter").inform("chat-visibility/go-online")),a&&a()},goOffline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE&&(b("PresencePrivacy").setVisibility(b("PresencePrivacy").OFFLINE),b("Arbiter").inform("chat-visibility/go-offline")),a&&a()},toggleVisibility:function(){g.isOnline()?g.goOffline():g.goOnline()}};e.exports=g}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function(a,b,c,d,e,f,g){f.update=a;f.getShortDisplay=c;f.get=d;f.getDebugData=e;var h={};function i(a){if(!a||a<0)return null;a=b("ServerTime").get()/1e3-a;a=Math.floor(a/60);var c=Math.floor(a/60),d=Math.floor(c/24);if(a<=1)return g._({"*":"{count} min"},[g._param("count",1,[0])]);else if(a<60)return g._({"*":"{count} min"},[g._param("count",a,[0])]);else if(c<24)return g._({"*":"{count} h"},[g._param("count",c,[0])]);else if(d<3)return g._({"*":"{count} j"},[g._param("count",d,[0])]);else return null}function j(a,b){(!(a in h)||h[a]<b)&&(h[a]=b)}function k(a){if(a in h)return h[a];else return 0}function a(a){for(var b in a)j(b,a[b])}function c(a){return i(k(a))}function d(a){return k(a)}function e(){return h}}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","AvailableListInitialData","Bootloader","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","ODS","PresenceConfig","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){b("ODS").setEntitySample("presence",1e-4);var g={},h={},i={},j={},k=Object.assign({},b("ArbiterMixin")),l=b("debounceAcrossTransitions")(function(){return k.inform("change")},0);function m(a){var c,d=parseInt(a.topic.match(/\d+$/),10);a=parseInt(JSON.parse(a.payload).lat,10);var e=Date.now()-a*1e3;e=b("PresenceConfig").get("active_cutoff")*1e3-e;b("LastActiveTimes").update((c={},c[d]=a,c));k.checkPresence(d);k.get(d)===b("AvailableListConstants").ACTIVE&&(window.clearTimeout(j[d].timeout),j[d].timeout=window.setTimeout(function(){k.checkPresence(d)},e))}function n(a){return/^\d+$/.test(a)}Object.assign(k,{resetPresenceData:function(){g={},h={}},reset:function(){k.resetPresenceData(),i={}},get:function(a){!n(a)&&b("PresenceConfig").get("presence_throw_for_malformed_id")&&b("FBLogger")("presence").warn("received malformed id '%s'",a);if(a==b("CurrentUser").getID())return b("ChatVisibility").isOnline()?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;n(a)&&!b("FBIDCheck").isUser_deprecated(a)&&!j[a]&&(b("ODS").bumpEntityKey(3303,"presence","page_subscribe"),j[a]={},b("PresenceConfig").get("presence_page_green_dot_sub")&&b("Bootloader").loadModules(["SkywalkerManager"],function(b){return b.subscribe("presence_push/fb/"+a,m)},"PresenceStatus"));var c=b("AvailableListConstants").OFFLINE;a in g&&(c=g[a]);b("PresencePrivacy").allows(a)||(c=b("AvailableListConstants").OFFLINE);return c},getCapabilities:function(a){a=h[a];return a?a:0},isPlayingCanvasGameUser:function(a){return!!i[a]},getGroup:function(a){return a.some(function(a){return a==b("CurrentUser").getID()?!1:k.get(a)===b("AvailableListConstants").ACTIVE})?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE},set:function(a,c,d,e,f,i){if(a==b("CurrentUser").getID())return!1;var j;if(c!==null&&c!==void 0){c=c==b("AvailableListConstants").ACTIVE?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;d=k.get(a);j=d!=c;if((j||c==b("AvailableListConstants").ACTIVE)&&b("FBIDCheck").isUser_deprecated(a)){b("LastActiveTimes").update((e={},e[a]=b("ServerTime").get()/1e3,e))}g[a]=c}d=!1;f!==void 0&&f!==null&&(d=k.getCapabilities(a)!=f,h[a]=f);e=j||d;e&&!i&&l();return e},setPlayingCanvasGameFriends:function(a){if(!b("gkx")("678262"))return;i=b("createObjectFrom")(a)},getOnlineIDs:function(){var a,c=[];for(a in g)k.get(a)===b("AvailableListConstants").ACTIVE&&c.push(a);return c},getAllIDs:function(){return Object.keys(g)},getOnlineCount:function(){return k.getOnlineIDs().length},getPresenceStats:function(){var a=0,c=0,d=0;for(var e in g){a+=1;switch(k.get(e)){case b("AvailableListConstants").OFFLINE:c+=1;break;case b("AvailableListConstants").ACTIVE:d+=1;break;default:break}}return{total:a,offline:c,active:d}},getAllDebugInfo:function(){var a={};for(var b in g)a[b]={p:g[b],vc:h[b]};return a},setMultiFromMQTT:function(a){var c={};Array.isArray(a)&&a.forEach(function(a){a.l&&(c[a.u]=a.l),k.set(a.u,a.p,!1,"mqtt",a.c,!0)});b("LastActiveTimes").update(c);l()},setMultiChatproxy:function(a){var c={};for(var d in a){a[d].lat&&(c[d]=a[d].lat);var e=a[d].p;k.set(d,e,!1,"chatproxy",a[d].vc,!0)}b("LastActiveTimes").update(c);l()},setMultiActive:function(a,c){var d=!1;a.forEach(function(a){k.set(a,b("AvailableListConstants").ACTIVE,!1,c,null,!0)&&(d=!0)});d&&l()},checkPresence:function(a){var c=!1,d=Math.ceil(Date.now()/1e3)-b("LastActiveTimes").get(a);k.set(a,d<b("PresenceConfig").get("active_cutoff")?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE,!1,"pylon",null,!0)&&(c=!0);c&&l()}});b("AvailableListInitialData").activeList&&b("AvailableListInitialData").activeList.length>0&&k.setMultiActive(b("AvailableListInitialData").activeList,"available_list_active");b("AvailableListInitialData").playingNow&&b("AvailableListInitialData").playingNow.length>0&&k.setPlayingCanvasGameFriends(b("AvailableListInitialData").playingNow);b("AvailableListInitialData").lastActiveTimes&&Object.keys(b("AvailableListInitialData").lastActiveTimes).length>0&&b("LastActiveTimes").update(b("AvailableListInitialData").lastActiveTimes);a=k;e.exports=a}),null);
__d("MercuryMessagingLightswitch",["gkx"],(function(a,b,c,d,e,f){"use strict";a={guard:function(a){if(b("gkx")("1828242"))return;a()},shouldRun:function(){return!b("gkx")("1828242")}};c=a;e.exports=c}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";a="/ajax/mercury/thread_info.php";f.THREAD_INFO=a;b="/ajax/mercury/mark_folder_as_read.php";f.MARK_FOLDER_READ=b;c="/ajax/mercury/change_read_status.php";f.CHANGE_READ_STATUS=c;d="/ajax/mercury/mark_seen.php";f.MARK_SEEN=d;e="/ajax/mercury/threadlist_info.php";f.THREADLIST_INFO=e;a="/ajax/mercury/mark_spam.php";f.MARK_SPAM=a;b="/ajax/mercury/unmark_spam.php";f.UNMARK_SPAM=b;c="/ajax/mercury/unread_threads.php";f.UNREAD_THREADS=c;d="/ajax/mercury/change_pinned_status.php";f.CHANGE_PINNED_STATUS=d;e="/ajax/mercury/change_archived_status.php";f.CHANGE_ARCHIVED_STATUS=e;a="/ajax/mercury/change_page_follow_up_status.php";f.CHANGE_PAGE_FOLLOW_UP_STATUS=a;b="/ajax/mercury/delete_thread.php";f.DELETE_THREAD=b;c="/ajax/mercury/delete_messages.php";f.DELETE_MESSAGES=c;d="/ajax/mercury/delivery_receipts.php";f.DELIVERY_RECEIPTS=d;e="/ajax/mercury/move_thread.php";f.MOVE_THREAD=e;a="/ajax/mercury/change_mute_thread.php";f.CHANGE_MUTE_THREAD=a}),null);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryMessagingLightswitch","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);b("MercuryMessagingLightswitch").guard(function(){i.log("send",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}l=function(){f.fetchAll(h,i,d,"fetch_threadlist").done(function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(a){var b=k[a].limit,c=k[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),n=new Set(g);h.forEach(function(a){if(n.has(a))return;i.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});g=Object.keys(l);var o=g.map(function(a){var b=l[a].limit,c=l[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),p=new Set(g);j.forEach(function(a){if(p.has(a))return;o.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});d.fetchAll(f,q,m).done(function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("MercuryMessagingLightswitch").guard(function(){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint})}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){var d=this;if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var e=this._batches.length-1;e>=0?c?this._batches[e].combineWithOlder(a,this._combineData):this._batches[e].combineWith(a,this._combineData):this._batches.push(new o(a));b("MercuryMessagingLightswitch").guard(function(){i.debug("batch",JSON.stringify({endpoint:d._endpoint}))})}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.log("response",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=a.getPayload();l=d&&d.kill_chat;l&&b("MercuryMessagingLightswitch").guard(function(){i.log("killswitch_enabled",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});d&&d.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(d,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.error("error",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}))});k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));var d=this._mode;d==m.BATCH_SUCCESSIVE||d==m.BATCH_SUCCESSIVE_UNIQUE||d==m.BATCH_CONDITIONAL?this._batchSend():d==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],(function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$2[a]},this)};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();e.exports=a}),null);
__d("useCoerceRelayImage_image.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCoerceRelayImage_image",selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],type:"Image",abstractKey:null};e.exports=a}),null);
__d("CometNFXActionCompleted_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNFXActionCompleted_action",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCoerceRelayImage_image"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:a,storageKey:null}],type:"NFXAction",abstractKey:"__isNFXAction"}}();e.exports=a}),null);
__d("CometNFXActionConfirming_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNFXActionConfirming_action",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCoerceRelayImage_image"}],storageKey:null}],type:"NFXAction",abstractKey:"__isNFXAction"}}();e.exports=a}),null);
__d("CometNFXActionInitial_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],b=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNFXActionInitial_action",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCoerceRelayImage_image"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:b,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:b,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null}],type:"NFXAction",abstractKey:"__isNFXAction"}}();e.exports=a}),null);
__d("CometNFXActionLoading_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNFXActionLoading_action",selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCoerceRelayImage_image"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"NFXAction",abstractKey:"__isNFXAction"};e.exports=a}),null);
__d("CometNFXAction_action.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"www"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNFXAction_action",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:a,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:a,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometNFXActionInitial_action"},{args:null,kind:"FragmentSpread",name:"CometNFXActionLoading_action"},{args:null,kind:"FragmentSpread",name:"CometNFXActionConfirming_action"},{args:null,kind:"FragmentSpread",name:"CometNFXActionCompleted_action"}],type:"NFXAction",abstractKey:"__isNFXAction"}}();e.exports=a}),null);
__d("NFXActionsUnit_actions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"NFXActionsUnit_actions",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNFXAction_action"}],type:"NFXAction",abstractKey:"__isNFXAction"};e.exports=a}),null);
__d("useExecuteNFXActionMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"display_type",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[{kind:"Literal",name:"site",value:"www"}],h=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useExecuteNFXActionMutation",selections:[{alias:null,args:c,concreteType:"NFXActionExecuteOutput",kind:"LinkedField",name:"cix_nfx_actions_execute",plural:!1,selections:[{alias:null,args:null,concreteType:"NFXActionUpdateResponse",kind:"LinkedField",name:"update",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNFXAction_action"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CIXScreen",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CIXScreensRenderer_screen"}],storageKey:null},d],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useExecuteNFXActionMutation",selections:[{alias:null,args:c,concreteType:"NFXActionExecuteOutput",kind:"LinkedField",name:"cix_nfx_actions_execute",plural:!1,selections:[{alias:null,args:null,concreteType:"NFXActionUpdateResponse",kind:"LinkedField",name:"update",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[e,{kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},f,{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:g,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:g,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CIXScreen",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[e,{kind:"TypeDiscriminator",abstractKey:"__isCIXScreenViewModel"},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXAboutOurDecisionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXAboutOurDecisionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXBlackholeCommunityStandardDetailsCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXBlackholeCommunityStandardDetailsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXBlackholeCommunityStandardCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXBlackholeCommunityStandardScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXBlackholeFeedbackOptionsCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXBlackholeFeedbackOptionsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXBlackholeInitialCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXBlackholeInitialScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXBypassLoginInterstitialCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXBypassLoginInterstitialScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXCommunityStandardsCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXCommunityStandardsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXConfirmFeedbackOptionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXConfirmFeedbackOptionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXExampleCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXExampleScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXFeatureLimitGatewayCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXFeatureLimitScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXFeedbackFollowUpCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXFeedbackFollowUpScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXFeedbackOptionsCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXFeedbackOptionsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXHeadsUpCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXHeadsUpScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXIntegrityErrorComplexDialogCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXIntegrityErrorComplexDialogScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXIntegrityErrorDefaultExperienceCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXIntegrityErrorDefaultExperienceScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXIntegrityErrorFLXViolationsHistoryDialogCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXIntegrityErrorFLXViolationsHistoryDialogScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXItemOverviewCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXItemOverviewScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXMultipleItemsOverviewCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXMultipleItemsOverviewScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXOBInvitedToShareInfoCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXOBInvitedToShareInfoScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXObFbrcGatewayNoticeCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXObFbrcGatewayNoticeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXObFbrcShareContextCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXObFbrcShareContextScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusAdminLessTransitionInitialScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusAdminLessTransitionInitialScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusAdminlessTransitionCPNScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusAdminlessTransitionCPNScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusAdminlessTransitionGetStartedScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusAdminlessTransitionGetStartedScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusAdminlessTransitionReviewEditorsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusAdminlessTransitionReviewEditorsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusAdminlessTransitionWhatChangesScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusAdminlessTransitionWhatChangesScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusBizAdminOnboardingAcceptAccessScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusBizAdminOnboardingAcceptAccessScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAFXProfilePlusBizAdminOnboardingReviewAccessScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXProfilePlusBizAdminOnboardingReviewAccessScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXRateLimitExperienceCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXRateLimitExperienceScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXReactiveIDVEnrollmentCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXReactiveIDVEnrollmentScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXSelfHarmPromotionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXSelfHarmPromotionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXSentryAfterDecisionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXSentryAfterDecisionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXSentryRestrictionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXSentryRestrictionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXStaticContentCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXStaticContentScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXSuicidalAdmissionHomeCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXSuicidalAdmissionHomeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXSuicidalPromotionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXSuicidalPromotionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXUserWarningCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXUserWarningScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"AFXViolationFrictionCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AFXViolationFrictionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityConfirmPhoneNumberScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityConfirmPhoneNumberScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityEmailChallengeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityEmailChallengeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityEmailConfirmDemoIntroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityEmailConfirmDemoIntroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityEmailConfirmDemoOutroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityEmailConfirmDemoOutroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityEnterEmailCodeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityEnterEmailCodeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAdvertiserAuthenticityEnterPhoneCodeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"AdvertiserAuthenticityEnterPhoneCodeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometBVWizardHowWeUseYourInfoScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"BVWizardHowWeUseYourInfoScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometBVWizardOverviewIXTScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"BVWizardOverviewIXTScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardDisclaimerTextSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardDisclaimerTextSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardFECConfirmDetailsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardFECConfirmDetailsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardFECEnterDetailsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardFECEnterDetailsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardFreeFormOrgDetailsInputScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardFreeFormOrgDetailsInputScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardGovFormScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardGovFormScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardInitialScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardInitialScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardMethodSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardMethodSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardOrgDetailsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardOrgDetailsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardPayerSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardPayerSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardReviewAdLibraryListingScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardReviewAdLibraryListingScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardReviewDisclaimerScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardReviewDisclaimerScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardTaxOrgBusinessReviewDetailsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardTaxOrgBusinessReviewDetailsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardTaxOrgBusinessSelectScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardTaxOrgBusinessSelectScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardTaxOrgFormScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardTaxOrgFormScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFEVWizardTaxOrgManualReviewUploadDocumentsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FEVWizardTaxOrgManualReviewUploadDocumentsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXC4GGroupMemberSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXC4GGroupMemberSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXDebugScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXDebugScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXEscalationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXEscalationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXEvidenceTextScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXEvidenceTextScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXFriendOrGroupMemberSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXFriendOrGroupMemberSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXFriendSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXFriendSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXGroupMemberReportScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXGroupMemberReportScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXGroupRuleSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXGroupRuleSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXInAppEscalationConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXInAppEscalationConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXInAppEscalationMainScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXInAppEscalationMainScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXInAppEscalationReportTypeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXInAppEscalationReportTypeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXMessengerBlockActorScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXMessengerBlockActorScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXGroupMemberSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXMessengerGroupMemberSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXMessengerIgnoreConversationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXMessengerIgnoreConversationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXMessengerMuteConversationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXMessengerMuteConversationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXPageSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXPageSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXPolicyEducationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXPolicyEducationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXPolicyEducationSelfRemediationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXPolicyEducationSelfRemediationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXPostReportProcessTimelineScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXPostReportProcessTimelineScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXPostReportSelfRemediationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXPostReportSelfRemediationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXProcessEducationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXProcessEducationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXProcessEducationSummaryScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXProcessEducationSummaryScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXProfileSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXProfileSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXReportConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXReportConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXTagSearchScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXTagSearchScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometFRXTagSelectionScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXTagSelectionScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"GeminiFRXAlreadyReportedToAdminsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"FRXWorkplaceReportToAdminAlreadyReportedScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusAdminedGroupsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusAdminedGroupsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusAdminedPagesScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusAdminedPagesScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusHomeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusHomeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusRestrictionDetailScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusRestrictionDetailScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusRestrictionHistoryScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusRestrictionHistoryScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometAccountStatusTimelineScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXAccountStatusTimelineScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXSupportInboxHomeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXSupportInboxHomeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXSupportInboxItemDetailsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXSupportInboxItemDetailScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXSupportInboxItemsListScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXSupportInboxItemsListScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardEmailConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardEmailConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardEmailScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardEmailScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardIntroStepsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardIntroStepsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardLocationHandoffNotificationSentScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardLocationHandoffNotificationSentScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardLocationHandoffOnboardingScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardLocationHandoffOnboardingScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardOutroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardOutroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardProductSpecificIntroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardProductSpecificIntroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardProfileCitySelectScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardProfileCitySelectScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardProfileCityUpdateScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTAuthenticityWizardProfileCityUpdateScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTDismissFlowScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTDismissFlowScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTEscalationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTEscalationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectBenefitsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectBenefitsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectFeaturePasswordCheckScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectFeaturePasswordCheckScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectFeatureTwoFactorCheckScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectFeatureTwoFactorCheckScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectFinishLaterScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectFinishLaterScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectHelpScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectHelpScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectIntroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTFacebookProtectIntroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectLearnMoreScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectLearnMoreScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectModularProgressScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectModularProgressScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTFacebookProtectSuccessScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBIXTFacebookProtectSuccessScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTHelloWorldAScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTHelloWorldAScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTHelloWorldBScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTHelloWorldBScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTHelloWorldFirstScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTHelloWorldFirstScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardCameraCaptureOnboardingScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowCameraCaptureOnboardingScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardCameraCaptureScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowCameraCaptureScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardDataStorageInfoScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowDataStorageInfoScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardDocumentTypeSelectScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowDocumentTypeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardFilePickerScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowFilePickerScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardGroupTwoUploadScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowGroupTwoUploadScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTIdCaptureFlowMobileHandoffScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowMobileHandoffScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardPhotoRequirementsScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowPhotoRequirementsScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTAuthenticityWizardIdUploadMethodSelectScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTIdCaptureFlowUploadMethodScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTSecuredActionPasswordScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTSecuredActionPasswordScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorAddPhoneScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorAddPhoneScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorFIDOScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorFIDOScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorIntroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorIntroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorOutroScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorOutroScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorQRCodeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorQRCodeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorSelectMethodScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorSelectMethodScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorSelectPhoneScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorSelectPhoneScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorTypeCodeScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorTypeCodeScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTTwoFactorUpsellPhoneScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTTwoFactorUpsellPhoneScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometIXTWAConsentFlowScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTWAConsentFlowScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"IXTitleBodyCometScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"IXTitleBodyScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometInformTreatmentLearnMoreScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"InformTreatmentLearnMoreScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometMisinfoSeeWhyIXTScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"MisInfoSeeWhyInformTreatmentFollowUpScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionBlockActorConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionBlockActorConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionBlockPageConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionBlockPageConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionUnfriendConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionUnfriendConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionUnlikeConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionUnlikeConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionUnsubscribeConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionUnsubscribeConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNFXActionUntagConfirmationScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NFXActionUntagConfirmationScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"CometNewsworthySeeWhyIXTScreen_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"NewsworthySeeWhyInformTreatmentFollowUpScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"IXTReshareWarningCovidRelatedRenderer_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"ReshareWarningCovidRelatedScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"IXTReshareWarningTemplateRenderer_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"ReshareWarningTemplateScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CIXScreensRenderer_screen",fragmentName:"IXTReshareWarningVaccineRelatedRenderer_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"ReshareWarningVaccineRelatedScreenViewModel",abstractKey:null},{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:null},d],storageKey:null}],storageKey:null}]},params:{id:"4112876025402563",metadata:{},name:"useExecuteNFXActionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useUndoNFXActionMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"display_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[{kind:"Literal",name:"site",value:"www"}],h=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useUndoNFXActionMutation",selections:[{alias:null,args:c,concreteType:"NFXActionExecuteOutput",kind:"LinkedField",name:"cix_nfx_actions_undo",plural:!1,selections:[{alias:null,args:null,concreteType:"NFXActionUpdateResponse",kind:"LinkedField",name:"update",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNFXAction_action"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CIXScreen",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[d],storageKey:null},e],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useUndoNFXActionMutation",selections:[{alias:null,args:c,concreteType:"NFXActionExecuteOutput",kind:"LinkedField",name:"cix_nfx_actions_undo",plural:!1,selections:[{alias:null,args:null,concreteType:"NFXActionUpdateResponse",kind:"LinkedField",name:"update",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},f,{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:g,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:g,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:h,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CIXScreen",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[d,{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:null},e],storageKey:null}],storageKey:null}]},params:{id:"4200347230010566",metadata:{},name:"useUndoNFXActionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometFRXConfirmationScreen_data$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},c=[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],d={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:c,storageKey:null},e={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:c,storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},g=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],h=[{kind:"Literal",name:"site",value:"www"}],i={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},j=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometFRXConfirmationScreen_data$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},a,d,e,{alias:null,args:null,concreteType:"FRXTag",kind:"LinkedField",name:"tags",plural:!0,selections:[f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"actions_title",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a,f,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:h,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:h,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'}],type:"NFXActionWhichRedirects",abstractKey:null},d,e,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:c,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RapidReportingPromptButton",kind:"LinkedField",name:"buttons",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:g,storageKey:null},i],storageKey:null}]}}();e.exports=a}),null);
__d("CometFRXConfirmationScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFRXConfirmationScreen_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"FRXTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"actions_title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"NFXActionsUnit_actions"}],storageKey:null},{alias:null,args:null,concreteType:"RapidReportingPromptButton",kind:"LinkedField",name:"buttons",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometFRXScreenFooterButtons_buttons"}],storageKey:null}],type:"FRXConfirmationScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("useCoerceRelayImage",["CometRelay","useCoerceRelayImage_image.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useCoerceRelayImage_image.graphql");function a(a){a=b("CometRelay").useFragment(h,a);return a==null?null:{height:(a.height||0)/(a.scale==null?1:a.scale),sprited:0,uri:a.uri,width:(a.width||0)/(a.scale==null?1:a.scale)}}}),null);
__d("TetraPivotLinkPile.react",["CometRow.react","CometRowItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i={defaultWidth:{maxWidth:"h26nb1kn"},fullWidth:{maxWidth:"d2edcug0"}};function a(a){var c=a.align;c=c===void 0?"center":c;var d=a.children,e=a.isFullWidth,f=e===void 0?!1:e;e=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","isFullWidth"]);return h.jsx(b("CometRow.react"),babelHelpers["extends"]({},e,e.paddingVertical==null?{paddingTop:8}:null,{align:c,spacing:8,wrap:"forward",children:h.Children.map(d,function(a){return h.jsx(b("CometRowItem.react"),{xstyle:f?i.fullWidth:i.defaultWidth,children:a})})}))}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("cometNFXActionPrimaryAddOn",["ix","TintableIconSource","fbicon"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;function a(a){return{icon:a!=null?new(b("TintableIconSource"))("FB",a,20):b("fbicon")._(g("499776"),20),size:36,type:"contained-icon"}}}),null);
__d("CometNFXActionCompleted.react",["fbt","CometNFXActionCompleted_action.graphql","CometRelay","CometTextWithEntitiesRelay.react","TetraAccessoryListCell.react","TetraButtonGroup.react","cometNFXActionPrimaryAddOn","react","unrecoverableViolation","useCoerceRelayImage","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react");function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometNFXActionCompleted_action.graphql"),a.action);if(c.can_display_completed_state===!1)throw b("unrecoverableViolation")("Trying to show completed state of an action that does not allow it","nfx-actions");var d=b("useNullthrowsViolation")(c.confirmed_title),e=b("useCoerceRelayImage")(c.confirmed_icon);return j.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:c.can_undo===!0?{component:j.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{label:c.undo_button_label==null?g._("Annuler"):j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c.undo_button_label}),onPress:a.undo,reduceEmphasis:!0},size:"large"}),type:"buttons"}:null,addOnPrimary:b("cometNFXActionPrimaryAddOn")(e),body:c.confirmed_subtitle==null?null:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c.confirmed_subtitle}),headline:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:d}),level:3,testid:void 0})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometNFXActionConfirming.react",["fbt","CometNFXActionConfirming_action.graphql","CometRelay","CometTextWithEntitiesRelay.react","TetraAccessoryListCell.react","TetraButtonGroup.react","cometNFXActionPrimaryAddOn","react","useCoerceRelayImage","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react");function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometNFXActionConfirming_action.graphql"),a.action),d=b("useNullthrowsViolation")(c.confirmation_message),e=b("useNullthrowsViolation")(c.confirmation_button_label);c=b("useCoerceRelayImage")(c.icon);return j.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:{component:j.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{label:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:e}),onPress:a.execute},secondary:{label:g._("Annuler"),onPress:a.cancel},size:"large"}),type:"buttons"},addOnPrimary:b("cometNFXActionPrimaryAddOn")(c),headline:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:d}),level:3,testid:void 0})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometNFXActionError.react",["fbt","ix","TetraAccessoryListCell.react","TetraButtonGroup.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){return j.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:{component:j.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{label:g._("R\u00e9essayer"),onPress:a.retry},size:"large"}),type:"buttons"},addOnPrimary:{icon:b("fbicon")._(h("502065"),20),size:36,type:"contained-icon"},body:g._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer plus tard."),headline:g._("Impossible de r\u00e9pondre \u00e0 la demande"),level:3,testid:void 0})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometNFXActionInitial.react",["CometNFXActionInitial_action.graphql","CometRelay","CometTextWithEntitiesRelay.react","TetraAccessoryListCell.react","cometNFXActionPrimaryAddOn","react","unrecoverableViolation","useCoerceRelayImage"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometNFXActionInitial_action.graphql"),a.action),d=b("useCoerceRelayImage")(c.icon);if(c.redirect_uri!=null){var e=c.redirect_style==="DIALOG"?void 0:{rel:["noopener","nofollow"],target:"_blank",url:c.redirect_uri},f=c.title;if(f==null)throw b("unrecoverableViolation")("Title is missing","nfx-actions");return i.jsx(b("TetraAccessoryListCell.react"),{addOnPrimary:b("cometNFXActionPrimaryAddOn")(d),body:c.subtitle==null?null:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c.subtitle}),headline:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:f}),level:3,linkProps:e,onPress:a.executeRedirect,testid:void 0})}else{f=c.title;if(f==null)throw b("unrecoverableViolation")("Title is missing","nfx-actions");return i.jsx(b("TetraAccessoryListCell.react"),{addOnPrimary:b("cometNFXActionPrimaryAddOn")(d),body:c.subtitle==null?null:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c.subtitle}),headline:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:f}),level:3,onPress:function(){c.confirmation_required===!0&&c.confirmation_type==="INLINE"?a.confirm():a.execute()},testid:void 0})}}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometNFXActionLoading.react",["CometNFXActionLoading_action.graphql","CometProgressIndicator.react","CometRelay","CometTextWithEntitiesRelay.react","TetraAccessoryListCell.react","cometNFXActionPrimaryAddOn","react","useCoerceRelayImage","useNullthrowsViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometNFXActionLoading_action.graphql"),a.action);var c=b("useNullthrowsViolation")(a.loading_text);a=b("useCoerceRelayImage")(a.icon);return i.jsx(b("TetraAccessoryListCell.react"),{addOnPrimary:b("cometNFXActionPrimaryAddOn")(a),body:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c}),headline:i.jsx("div",{className:"sj5x9vvc",children:i.jsx(b("CometProgressIndicator.react"),{})}),level:3,testid:void 0})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("useExecuteNFXActionMutation",["CometRelay","JSResource","WebPixelRatio","react","useCometLazyDialog","useExecuteNFXActionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=b("JSResource")("CIXWithScreen.react").__setRef("useExecuteNFXActionMutation"),k=g!==void 0?g:g=b("useExecuteNFXActionMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment(),c=b("useCometLazyDialog")(j),d=c[0];return i.useCallback(function(c,e){var f=(e=e)!=null?e:{};return b("CometRelay").commitMutation(a,{mutation:k,onCompleted:function(a,b){if(b!=null){f.onError&&f.onError();return}b=a.cix_nfx_actions_execute;a=b==null?void 0:(a=b.screen)==null?void 0:a.view_model;b=b==null?void 0:(b=b.screen)==null?void 0:b.display_type;if(a!=null&&b==="OVERLAY"){var c={onClose:f.onCancel,onComplete:f.onComplete,onError:f.onError};d({flowCallbacks:c,initialScreen:a})}else f.onComplete&&f.onComplete();a!=null&&f.onFRXScreen!=null&&b==="REPLACE"&&f.onFRXScreen(a)},onError:f.onError,variables:{input:c,scale:b("WebPixelRatio").get()}})},[a,d])}}),null);
__d("useUndoNFXActionMutation",["CometRelay","WebPixelRatio","react","useUndoNFXActionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=g!==void 0?g:g=b("useUndoNFXActionMutation.graphql");function a(){var a=b("CometRelay").useRelayEnvironment();return i.useCallback(function(c,d){return b("CometRelay").commitMutation(a,{mutation:j,onCompleted:function(a,b){if(b!=null){d.onError();return}d.onComplete()},onError:d.onError,variables:{input:c,scale:b("WebPixelRatio").get()}})},[a])}}),null);
__d("CometNFXAction.react",["CometCompatModalDialogResource","CometNFXActionCompleted.react","CometNFXActionConfirming.react","CometNFXActionError.react","CometNFXActionInitial.react","CometNFXActionLoading.react","CometNFXAction_action.graphql","CometRelay","SwitchCIXScreenContext","URI","cr:1525638","react","unrecoverableViolation","useCometLazyDialog","useExecuteNFXActionMutation","useNullthrowsViolation","useUndoNFXActionMutation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=h||b("react");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometNFXAction_action.graphql"),a.action);if(c.id==null)throw b("unrecoverableViolation")("Action id is missing","nfx-actions");var d=b("useNullthrowsViolation")(c.context),e=b("useNullthrowsViolation")(c.type),f=c.already_completed,h=c.can_display_completed_state,k=j.useContext(b("SwitchCIXScreenContext")),l=b("useExecuteNFXActionMutation")(),m=b("useUndoNFXActionMutation")();f=j.useState(f===!0&&h===!0?"COMPLETED":"INITIAL");var n=f[0],o=f[1];f=j.useState(null);var p=f[0],q=f[1];f=b("useCometLazyDialog")(b("CometCompatModalDialogResource"));var r=f[0],s=a.ixt_serialized_state;f=j.useCallback(function(){o("EXECUTING");q(null);var a={context:d,ixt_serialized_state:s,type:e};l(a,{onCancel:function(){o("INITIAL")},onComplete:function(){o(h===!0?"COMPLETED":"INITIAL")},onError:function(){q("EXECUTE"),o("ERROR")},onFRXScreen:k})},[h,d,l,s,k,e]);a=j.useCallback(function(){var a={context:d,type:e};l(a);if(c.redirect_uri!=null&&c.redirect_style==="DIALOG"){a=new(i||(i=b("URI")))(c.redirect_uri).getUnqualifiedURI().toString();b("cr:1525638")!=null?b("cr:1525638")(a):r({params:{rel:"dialog",uri:a}})}},[c.redirect_style,c.redirect_uri,d,l,r,e]);var t=j.useCallback(function(){o("UNDOING");q(null);var a={context:d,type:e};m(a,{onComplete:function(){o("INITIAL")},onError:function(){q("UNDO"),o("ERROR")}})},[d,e,m]),u="NFXAction-"+e;switch(n){case"INITIAL":return j.jsx(b("CometNFXActionInitial.react"),{action:c,confirm:function(){o("CONFIRMING")},execute:f,executeRedirect:a,testid:void 0});case"CONFIRMING":return j.jsx(b("CometNFXActionConfirming.react"),{action:c,cancel:function(){o("INITIAL")},execute:f,testid:void 0});case"EXECUTING":case"UNDOING":return j.jsx(b("CometNFXActionLoading.react"),{action:c,testid:void 0});case"COMPLETED":return j.jsx(b("CometNFXActionCompleted.react"),{action:c,testid:void 0,undo:t});case"ERROR":return j.jsx(b("CometNFXActionError.react"),{retry:p==="UNDO"?t:f});default:throw b("unrecoverableViolation")("Illegal State for NFXActions","nfx-actions")}}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("NFXActionsUnit",["CometNFXAction.react","CometRelay","NFXActionsUnit_actions.graphql","TetraList.react","TetraUnit.react","TetraUnitHeader.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("NFXActionsUnit_actions.graphql"),a.actions);return i.jsx(b("TetraUnit.react"),{header:i.jsx(b("TetraUnitHeader.react"),{body:a.body,hasTopDivider:a.hasTopDivider,headline:a.headline,headlineColor:a.headlineColor,level:2}),children:i.jsx(b("TetraList.react"),{items:c,children:function(c){c=c.item;return i.jsx(b("CometNFXAction.react"),{action:c,ixt_serialized_state:a.ixt_serialized_state},c.id)}})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometFRXConfirmationScreen.react",["ix","CIXDialogScreen.react","CIXFlowCallbacksContext","CloseCIXContext","CometFRXConfirmationScreen_data.graphql","CometFRXScreenFooter.react","CometFRXScreenFooterButtons.react","CometLinkedEntityRenderer","CometRelay","CometRow.react","CometRowItem.react","CometTextWithEntitiesRelay.react","NFXActionsUnit","TetraPivotLink.react","TetraPivotLinkPile.react","TetraText.react","fbicon","react","stylex","useCIXLogMutation","useNullthrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=i||b("react"),l={anchor:{minHeight:"tgvbjcpo"},content:{paddingBottom:"ihqw7lf3"}},m={"*":[b("CometLinkedEntityRenderer")]};function a(a){a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometFRXConfirmationScreen_data.graphql"),a.data);var c=b("useCIXLogMutation")(),d=k.useContext(b("CloseCIXContext")),e=k.useContext(b("CIXFlowCallbacksContext")),f=e.onComplete,i=b("useNullthrowsViolation")(a.context);e=b("useNullthrowsViolation")(a.title);var n=a.serialized_state,o=n!=null&&n!=="",p=a.subtitle,q=k.useCallback(function(){d(),f&&f(),c({frx:{context:i,frx_confirmation_screen_close:!0}})},[i,d,f,c]);return k.jsx(b("CIXDialogScreen.react"),{anchorXStyle:l.anchor,footer:k.jsx(b("CometFRXScreenFooter.react"),{buttons:k.jsx(b("CometFRXScreenFooterButtons.react"),{buttons:a.buttons,primary:{onPress:q},secondary:{onPress:q}}),context:i,isIXT:o}),testid:void 0,titleWithEntities:k.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:e}),children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.content),children:[k.jsx(b("CometRow.react"),{paddingHorizontal:16,paddingTop:0,children:k.jsx(b("CometRowItem.react"),{expanding:!0,children:k.jsx("div",{style:{pointerEvents:"none"},children:k.jsx(b("TetraPivotLinkPile.react"),{children:((q=a==null?void 0:a.tags)!=null?q:[]).map(function(a){var c;return k.jsx(b("TetraPivotLink.react"),{image:{icon:b("fbicon")._(g("477813"),16),type:"icon"},label:(c=(c=a.title)==null?void 0:c.text)!=null?c:"",selected:!0},a.type)})})})})}),p!=null&&k.jsx(b("CometRow.react"),{paddingHorizontal:16,children:k.jsx(b("CometRowItem.react"),{expanding:!0,children:k.jsx(b("TetraText.react"),{align:"center",type:"body3",children:k.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:m,textWithEntities:p})})})}),a.actions.length>0&&a.actions_title!=null?k.jsx(b("CometRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(b("CometRowItem.react"),{expanding:!0,children:k.jsx(b("NFXActionsUnit"),{actions:a.actions,headline:k.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:a.actions_title}),ixt_serialized_state:n})})}):null]})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometSuspenseList.react",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.SuspenseList;e.exports=c}),null);
__d("CometProductTagFunnelIDContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext(null);e.exports=c}),null);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=!b("gkx")("1299319");function a(a){a=i?h.jsx("div",{className:"cg1f0npj b6s8h9p6 oqujnh0m",children:h.jsx("span",{className:"id8f4lua",children:h.jsx(b("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})}):h.jsx("div",{className:"k4urcfbm datstx6m hybvsw6c"});return h.jsx("div",{className:"k4urcfbm stjgntxs ni8dbmo4 taijpn5t datstx6m j83agx80 bp9cbjyn",children:a})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometContentNotAvailable.react",["fbt","CometContentArea.react","NullStateGeneral","TetraNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(){return i.jsx("div",{className:"k4urcfbm taijpn5t bkyfam09 j83agx80 bp9cbjyn",children:i.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:i.jsx(b("TetraNullState.react"),{headline:g._("D\u00e9sol\u00e9, ce contenu n\u2019est pas disponible actuellement"),icon:b("NullStateGeneral")})})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometHero.react",["hero-tracing-placeholder"],(function(a,b,c,d,e,f){"use strict";a=b("hero-tracing-placeholder").HeroComponent;e.exports=a}),null);
__d("CometPagelet.react",["CometBackupPlaceholder.react","CometPlaceholder.react","CometSuspenseList.react","LegacyHidden","cr:1191379","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h,i=h||b("react"),j=i.forwardRef(function(a,b){a=a.children;return i.jsxs(i.Fragment,{children:[" ",a(b,function(){return null})," "]})}),k=(g=b("cr:1191379"))!=null?g:j;function a(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.name,j=a.pageletAriaProps,l=a.position,m=a.unstable_expectedLoadTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","pageletAriaProps","position","unstable_expectedLoadTime"]);var n=h;l!=null&&l<2?n+="_"+l:l!=null&&(n+="_{n}");var o=b("gkx")("1799634"),p=babelHelpers["extends"]({},o?null:{"data-pagelet":n});return i.jsx(k,babelHelpers["extends"]({},a,{name:n,pageletName:h,position:l,ref:c,children:function(a,c){return i.jsxs(b("CometPlaceholder.react"),{fallback:f,unstable_expectedLoadTime:m,children:[i.jsx(c,{}),i.jsx(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},j,p),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}a.displayName=a.name+" [from "+e.id+"]";function c(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.name,j=a.pageletAriaProps,l=a.position,m=a.unstable_expectedLoadTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","pageletAriaProps","position","unstable_expectedLoadTime"]);h=h;l!=null&&l<2?h+="_"+l:l!=null&&(h+="_{n}");var n=b("gkx")("1799634"),o=babelHelpers["extends"]({},n?null:{"data-pagelet":h});return i.jsx(k,babelHelpers["extends"]({},a,{name:h,position:l,ref:c,children:function(a,c){return i.jsxs(b("CometBackupPlaceholder.react"),{fallback:f,unstable_expectedLoadTime:m,children:[i.jsx(c,{}),i.jsx(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({},o,j,{className:e}),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}c.displayName=c.name+" [from "+e.id+"]";function d(a,c){var d=a.children,e=a.className,f=a.hidden,g=a.name,h=a.pageletAriaProps,j=a.position,l=a.revealOrder,m=a.tail;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","hidden","name","pageletAriaProps","position","revealOrder","tail"]);g=g;j!=null&&j<2?g+="_"+j:j!=null&&(g+="_{n}");var n=b("gkx")("1799634"),o=babelHelpers["extends"]({},n?null:{"data-pagelet":g});return i.jsx(k,babelHelpers["extends"]({},a,{name:g,position:j,ref:c,children:function(a,c){return i.jsxs(b("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},h,o),mode:f===!0?"hidden":"visible",ref:a,children:[i.jsx(c,{}),i.jsx(b("CometSuspenseList.react"),{revealOrder:l,tail:m,children:d})]})}}))}d.displayName=d.name+" [from "+e.id+"]";g=i.forwardRef(c);f.BackupPlaceholder=g;j=i.forwardRef(a);f.Placeholder=j;e=i.forwardRef(d);f.SuspenseList=e}),null);
__d("CometPageletImpl.react",["hero-tracing"],(function(a,b,c,d,e,f){"use strict";a=b("hero-tracing").HeroPagelet;e.exports=a}),null);
__d("CometPhotoViewerImageSuspense",["Promise","PromiseAnnotate","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=document.body,j=typeof jest==="undefined"&&document!==void 0&&typeof document.createElement==="function";function k(a){return new(b("Promise"))(function(b){if(!j||i==null)return b();var c=document.createElement("img");c.onload=c.onerror=b;c.src=a})}var l=new Map(),m=2e3,n={get:function(a){var b=l.get(a);if(b!=null){l["delete"](a);l.set(a,b);return b}},set:function(a,b){l["delete"](a);l.set(a,b);if(l.size>m){a=l.keys().next();a.done||l["delete"](a.value)}}};function o(a){if(a==null)return;var c=n.get(a);if(c!=null)if(c.pending===!0)throw c.promise;else return;else{c=k(a);b("PromiseAnnotate").setDisplayName(c,"SuspenseImage");var d={pending:!0,promise:c};c.then(function(){d.pending===!0&&(d.pending=!1)});n.set(a,d);throw c}}a=h.forwardRef(function(a,b){o(a.src);return h.jsx("img",babelHelpers["extends"]({},a,{ref:b}))});e.exports=a}),null);
__d("CometPhotoViewerInnerWrapper.react",["CometRouteRenderType","react","stylex"],(function(a,b,c,d,e,f){"use strict";f.useCometPhotoViewerContainerStyles=k;var g,h,i=g||b("react"),j={backgroundContainer:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",minHeight:"pnzxbu4t"},backgroundContainerDialog:{height:"nznu9b0o"},backgroundContainerDialogWithFooter:{height:"n626y76b"},backgroundContainerTabs:{height:"bkyfam09"},backgroundContainerTabsWithFooter:{height:"bekozo2m"},image:{height:"idiwt2bm",maxWidth:"d2edcug0",width:"dbpd2lw6"},maxImageHeightDialog:{maxHeight:"ji94ytn4"},maxImageHeightDialogWithFooter:{maxHeight:"nskh8ow2"},maxImageHeightTabs:{maxHeight:"gitj76qy"},maxImageHeightTabsWithFooter:{maxHeight:"kgqd366c"},passthroughImage:{backgroundPosition:"d2hbt3d9",backgroundRepeat:"qb00l2mb",backgroundSize:"gj6al65z",height:"datstx6m",width:"k4urcfbm"},photoWrapper:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxHeight:"nwf6jgls",position:"l9j0dhe7"},photoWrapperPlaceholder:{height:"datstx6m",width:"k4urcfbm"},placeholderContainer:{width:"k4urcfbm"}};function k(a,c){a===void 0&&(a=!1);c===void 0&&(c=!1);var d=b("CometRouteRenderType").useIsPushView();return(h||(h=b("stylex")))(j.backgroundContainer,!a&&d&&j.backgroundContainerDialog,!a&&!d&&j.backgroundContainerTabs,a&&d&&j.backgroundContainerDialogWithFooter,a&&!d&&j.backgroundContainerTabsWithFooter,c&&j.placeholderContainer)}function l(a,c){var d=b("CometRouteRenderType").useIsPushView();return(h||(h=b("stylex")))(!a&&d&&j.maxImageHeightDialog,!a&&!d&&j.maxImageHeightTabs,a&&d&&j.maxImageHeightDialogWithFooter,a&&!d&&j.maxImageHeightTabsWithFooter,c&&j.passthroughImage,!c&&j.image)}function m(a,c){var d=b("CometRouteRenderType").useIsPushView();return[!a&&d&&j.maxImageHeightDialog,!a&&!d&&j.maxImageHeightTabs,a&&d&&j.maxImageHeightDialogWithFooter,a&&!d&&j.maxImageHeightTabsWithFooter,c&&j.passthroughImage,!c&&j.image]}function a(a,c){var d=a.height,e=a.imageUri,f=a.showPlaceholderImage;f=f===void 0?!0:f;var g=a.width;a=a.withFooter;a=a===void 0?!1:a;a=l(a,!0);var m=k(!1,!0);return i.jsx("div",{className:m,ref:(m=c)!=null?m:null,children:e!=null&&f&&i.jsx("div",{className:(h||(h=b("stylex")))(j.photoWrapper,j.photoWrapperPlaceholder),children:i.jsx("div",{className:a,style:d!=null&&g!=null?{backgroundImage:"url("+e+")",maxHeight:d,maxWidth:g}:{backgroundImage:"url("+e+")"}},e)})})}a.displayName=a.name+" [from "+e.id+"]";function c(a,c){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=l(a,!1);a=m(a,!1);return i.jsx("div",{className:(h||(h=b("stylex")))(j.photoWrapper),ref:c,children:d!=null?d(f):e!=null?e(a):null})}c.displayName=c.name+" [from "+e.id+"]";d=i.forwardRef(c);f.CometPhotoViewerImageWrapper=d;e=i.forwardRef(a);f.CometPhotoViewerPlaceholderWrapper=e}),null);
__d("MWChatMessageId.re",["MWChatMessageId.bs","bs_curry"],(function(a,b,c,d,e,f){a=b("MWChatMessageId.bs").getMessageId;f.getMessageId=a;c=b("MWChatMessageId.bs").getThreadId;f.getThreadId=c;d=b("MWChatMessageId.bs").getTimestamp;f.getTimestamp=d;e=function(a,c,d){a=b("bs_curry")._3(b("MWChatMessageId.bs").makeSent,a,c,d);return a};f.makeSent=e}),null);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f){"use strict";f.emit=a;f.subscribe=c;var g="deleteMessage",h=new(b("BaseEventEmitter"))();function a(a){h.emit(g,a)}function c(a){var b=h.addListener(g,a);return function(){return b.remove()}}}),null);
__d("MessengerBlurpleLogoSvg.bs",["react","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.width;a=a.height;c=c!==void 0?c:"80";a=a!==void 0?a:"80";var d=b("useCometUniqueID")(),e=h.useMemo(function(){return h.cloneElement(h.jsx("path",{}),{fillRule:"evenodd",clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(d+")"),suppressHydrationWarning:!0})},[d]),f=h.useMemo(function(){return h.cloneElement(h.jsx("radialGradient",{}),{id:d,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",suppressHydrationWarning:!0,children:h.jsxs(h.Fragment,{children:[h.jsx("stop",{stopColor:"#09F"}),h.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),h.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),h.jsx("stop",{offset:"1",stopColor:"#FF7061"})]})})},[d]);return h.jsxs("svg",{width:c,height:a,viewBox:" 0 0 80 80",fill:"none",children:[e,h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff"}),h.jsx("defs",{children:f})]})}c=a;f.make=c}),null);
__d("MessengerBlurpleLogoSvg.re",["MessengerBlurpleLogoSvg.bs"],(function(a,b,c,d,e,f){a=b("MessengerBlurpleLogoSvg.bs").make;f.make=a}),null);
__d("CometMediaViewerFilmstrip.react",["fbt","ix","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react");c=36;d=6;var l=c+d*2,m={imageInner:{height:"datstx6m",objectFit:"r0294ipz",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"tv7at329",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",whiteSpace:"g0qnabr5"},thumbnail:{cursor:"nhd2j8a9",height:"tv7at329",width:"thwo4zme"},thumbnailContainer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"q9uorilb",flexShrink:"pfnyh3mw",height:"tv7at329",marginEnd:"fv0vnmcu",marginStart:"ggphbty4",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"thwo4zme"},thumbnailNonActive:{opacity:"ggwglk7f",":hover":{opacity:"oecfc0l4"}},videoIcon:{alignItems:"bp9cbjyn",display:"j83agx80",height:"bipmatt0",justifyContent:"taijpn5t",position:"pmk7jnqg",width:"iyyx5f41"}};function n(a){var c=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},d=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri;return k.jsx("div",{className:(j||(j=b("stylex")))(m.thumbnailContainer),children:k.jsx(b("CometPressable.react"),{display:"inline",label:g._("Miniature {index}",[g._param("index",a.index)]),onPress:a.onClick,overlayDisabled:!0,children:k.jsxs("div",{className:j(m.thumbnail,a.active!==!0&&m.thumbnailNonActive),style:c,children:[a.image.mediaType==="video"?k.jsx("div",{className:(j||(j=b("stylex")))(m.videoIcon),children:k.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(h("507224"),12)})}):null,a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?k.jsx(b("CometImage.react"),{src:d,xstyle:m.imageInner}):k.jsx(b("CometBackgroundImage.react"),{src:d})]})})})}n.displayName=n.name+" [from "+e.id+"]";function a(a){var c=k.useState(0),d=c[0],e=c[1],f=k.useRef(null),g=k.useRef(null),h=k.useRef(null);k.useEffect(function(){function c(){if(f.current!=null){var b=f.current,c=b.offsetWidth;b=b.scrollWidth;var g=h.current;if(b===c)return;b=-d/l;var i=Math.floor((c+-d)/l),j=b+Math.floor((i-b)/2);if(g!=null){if(a.activeIndex>g&&(a.activeIndex<j||i===a.images.length)){h.current=a.activeIndex;return}if(a.activeIndex<g&&(a.activeIndex>j||b===0)){h.current=a.activeIndex;return}}j=d-(a.activeIndex-((i=g)!=null?i:0))*l;j=Math.min(0,j);j=Math.max(Math.floor(c-a.images.length*l),j);h.current=a.activeIndex;e(j)}}c();g.current!=null&&window.removeEventListener("resize",g.current);c=b("CometThrottle")(c,100);g.current=c;window.addEventListener("resize",c);return function(){g.current!=null&&window.removeEventListener("resize",g.current)}},[a.images,a.activeIndex,d]);return a.images.length<2?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.root),ref:f,style:{transform:"translate3d("+(b("Locale").isRTL()?-d:d)+"px, 0, 0)"},children:a.images.map(function(b,c){return k.jsx(n,{active:a.activeIndex===c,image:b,index:c,onClick:function(b){a.onSetImage(c)}},"thumbnail_"+c)})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("CometCardImpl.react",["BaseView.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={"base-wash":{backgroundColor:"g6srhlxm"},"card-flat":{backgroundColor:"i94ygzvd"},"dark-wash":{backgroundColor:"ora8z2hr"},error:{backgroundColor:"l44iypv3"},highlight:{backgroundColor:"is6700om"},"light-wash":{backgroundColor:"qsy8amke"},transparent:{backgroundColor:"g5ia77u1"},white:{backgroundColor:"hybvsw6c"}},k={borderHighlightAnimationOverlay:{animationDuration:"r8dsh44q",animationFillMode:"ev399l9o",animationName:"eu5xx32y",animationTimingFunction:"dq96nytm",borderTop:"iv6tldhd",borderEnd:"cg3hf2bh",borderBottom:"t4dffd6c",borderStart:"j130xd0i",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",bottom:"eh5mwn1z",end:"s95d9cuy",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"pjqm3aaw",top:"ormqv51v",zIndex:"tkr6xdv7"},borderInset:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"oaz4zybt",pointerEvents:"hzruof5a"},borderOnWash:{borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456"},borderOnWhite:{borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456"},borderSolid:{borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61"},container:{display:"j83agx80",position:"l9j0dhe7",width:"k4urcfbm"},expanding:{flexGrow:"buofh1pr"},overflowHidden:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{borderTopStartRadius:"io0zqebd",borderTopEndRadius:"m5lcvass",borderBottomEndRadius:"fbipl8qg",borderBottomStartRadius:"nwvqtn77",width:"k4urcfbm"}},l=(c={},c[1]={boxShadow:"sbcfpzgs"},c[2]={boxShadow:"kmp5kqmu"},c);function a(a,c){var d=a.allowOverflow;d=d===void 0?!1:d;var e=a.background;e=e===void 0?"transparent":e;var f=a.border;f=f===void 0?"none":f;var g=a.borderHighlightAnimation;g=g===void 0?!1:g;var m=a.children,n=a.dropShadow;n=n===void 0?0:n;var o=a.expanding;o=o===void 0?!1:o;a=a.xstyle;n=l[n];return i.jsxs("div",{className:(h||(h=b("stylex")))(k.container,o&&k.expanding),children:[i.jsx(b("BaseView.react"),{ref:c,style:{borderRadius:"max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px"},xstyle:[j[e],f==="solid"&&e!=="white"&&k.borderOnWash,f==="solid"&&e==="white"&&k.borderOnWhite,f==="solid"&&k.borderSolid,k.root,!d&&k.overflowHidden,n,a],children:m}),f==="inset"?i.jsx("div",{className:(h||(h=b("stylex")))(k.borderInset)}):null,g?i.jsx("div",{className:(h||(h=b("stylex")))(k.borderHighlightAnimationOverlay)}):null]})}a.displayName=a.name+" [from "+e.id+"]";d=i.forwardRef(a);e.exports=d}),null);
__d("CometMarketplaceComposerTopNav.react",["BaseHeading.react","CometRouteRenderType","CometRow.react","CometRowItem.react","CometTopNavLogoWithBackButton.react","MarketplaceComposerActions","marketplaceComposerDispatchers.hybrid","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={defaultBackground:{backgroundColor:"cddn0xzi"},root:{boxShadow:"mjcx9coo",display:"j83agx80",minHeight:"e9s0xebz",position:"poy2od1o",width:"k4urcfbm",zIndex:"ehxjyohh"},rootPermalink:{display:"mkhogb32"},startButtons:{alignItems:"bp9cbjyn",flexDirection:"btwxx1t3"},startButtonsVisible:{transform:"r0hcq57a"},startButtonsVisibleInPreview:{transform:"ffc6bysg"},translucentBackground:{backgroundColor:"iuug3ofb"}};function a(a){var c=a.background;c=c===void 0?"default":c;var d=a.isPreview;d=d===void 0?!1:d;var e=a.title;a=a.xstyle;var f=b("marketplaceComposerDispatchers.hybrid").useMarketplaceComposerDispatcher(),g=f.dispatch;f=b("CometRouteRenderType").useIsPushView();e=e!=null?i.jsx(b("CometRowItem.react"),{children:i.jsx(b("BaseHeading.react"),{isPrimaryHeading:!0,children:e})}):null;return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,!f&&!d&&j.rootPermalink,c==="default"&&j.defaultBackground,c==="translucent"&&j.translucentBackground),children:i.jsx(b("CometRow.react"),{paddingHorizontal:16,paddingVertical:8,verticalAlign:"center",xstyle:a,children:i.jsxs(b("CometRowItem.react"),{xstyle:d&&j.startButtons,children:[d&&i.jsx(b("CometTopNavLogoWithBackButton.react"),{onPressBackButton:function(){g(b("MarketplaceComposerActions").setShowPreview(!1))},shouldUseCloseButton:!0,showBackButton:!0}),i.jsx("div",{className:h(f&&j.startButtonsVisible,d&&j.startButtonsVisibleInPreview),children:e})]})})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("SearchCometFiltersContext",["emptyFunction","react"],(function(a,b,c,d,e,f){"use strict";f.reducer=a;f.useSearchFiltersDispatcher=c;f.useSearchFiltersState=d;var g,h=g||b("react");function i(a,b){a===void 0&&(a={filtersCannotExist:null});if(b==null)return a;switch(b.type){case"UPDATE_CONTEXT":b=b.filtersCannotExist;var c=babelHelpers["extends"]({},a);b!=null&&(c.filtersCannotExist=b);return c}return a}function j(a,b){var c;a===void 0&&(a={});if(b==null)return a;switch(b.type){case"DROPDOWN_SELECT":if(b.value==null){delete a[b.filterViewID];return a}return babelHelpers["extends"]({},a,(c={},c[b.filterViewID]=b.value,c));case"TOGGLE_CHECKBOX_VALUE":case"TOGGLE_RADIO_VALUE":if(b.value==null){delete a[b.filterViewID];return a}return babelHelpers["extends"]({},a,(c={},c[b.filterViewID]=b.value,c));case"INIT_FILTERS_EVENT_DONE":return b.value;case"SEARCH_QUERY_LOADING":case"CLEAR_FILTERS":return{}}return a}function k(a,b){a===void 0&&(a={events:[]});if(b==null)return a;switch(b.type){case"DROPDOWN_SELECT":case"TOGGLE_CHECKBOX_VALUE":case"TOGGLE_RADIO_VALUE":case"CLEAR_FILTERS":return{events:[].concat(a.events,["APPLY_FILTERS_EVENT"])};case"SEARCH_QUERY_LOADED":return{events:[].concat(a.events,["INIT_FILTERS_EVENT"])};case"APPLY_FILTERS_EVENT_DONE":case"INIT_FILTERS_EVENT_DONE":return{events:a.events.slice(1)}}return a}function l(a,b){a===void 0&&(a={filterTypeSets:null,hash:null,isLoading:!0});if(b==null)return a;switch(b.type){case"RESET_HASH":return babelHelpers["extends"]({},a,{hash:null});case"SEARCH_QUERY_LOADED":return babelHelpers["extends"]({},a,{filterTypeSets:b.filterTypeSets,isLoading:!1});case"SEARCH_QUERY_LOADING":return babelHelpers["extends"]({},a,{filterTypeSets:null,hash:b.hash,isLoading:!0})}return a}function a(a,b){a===void 0&&(a={});return{context:i(a.context,b),currentFilters:j(a.currentFilters,b),eventQueue:k(a.eventQueue,b),filterTypeSetsRequest:l(a.filterTypeSetsRequest,b)}}var m=h.createContext(b("emptyFunction")),n=h.createContext(a());e=function(a){var b=a.children,c=a.dispatch;a=a.state;return h.jsx(m.Provider,{value:c,children:h.jsx(n.Provider,{value:a,children:b})})};f.SearchCometFiltersContextProvider=e;function c(){return h.useContext(m)}function d(){return h.useContext(n)}}),null);
__d("SearchCometResultsUIContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({isResponsive:!1});e.exports=c}),null);
__d("useSearchCometResultsSearchTypeFromURL",["CometRouteParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("CometRouteParams").useRouteParams();a=a.searchtype;a=a!=null?a:null;return a}}),null);
__d("useSearchCometResultsSearchType",["useSearchCometResultsSearchTypeFromURL"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=b("useSearchCometResultsSearchTypeFromURL")();return(c=(c=c)!=null?c:a.decrypted_search_type)!=null?c:a.default_search_type}}),null);
__d("SearchCometResultsContextProviders.react",["CometErrorProjectContext","CometRouteParams","CometSaveLoggingContext","EventCometActionContext","SearchCometFiltersContext","SearchCometResultsQueryContext","SearchCometResultsResultContext","SearchCometResultsUIContext","SearchCometSerpPerfContext","SearchCometSerpSetPerfContext","getSearchCometResultsQuery","react","unrecoverableViolation","useCometTypeaheadNavigate","useEventActionLoggerParams","useSearchCometResultsSearchType"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.children,d=a.isResponsive,e=a.routeProps,f=a.searchQueryReference,g=a.tabsWithoutFilters,i=a.urlBuilder;a=b("CometRouteParams").useRouteParams();var j=b("getSearchCometResultsQuery")(e,a);if(j==null)throw b("unrecoverableViolation")("Query missing","search");var k=(f=f.variables.args.context)==null?void 0:f.bsid;if(k==null)throw b("unrecoverableViolation")("Search result page session id is missing from timespent metadata","search");var l=b("useSearchCometResultsSearchType")(e),m=b("useCometTypeaheadNavigate")();f=a.f;var n=a.sde,o=typeof f==="string"?f:null,p=typeof n==="string"?n:null,q=a.spell==="1"?!0:null;f=e.render_location;var r=f==="group_serp"?f:"search_results_page";n=h.useMemo(function(){return{disableAutocorrect:q,encryptedQueryFunction:o,encryptedServerDefinedExperience:p,navigate:m,query:j,renderLocation:r,searchType:l,sessionID:k,urlBuilder:i}},[q,o,p,m,j,r,l,k,i]);var s=h.useMemo(function(){return{filtersCannotExist:g!=null?g.includes(l):null}},[l,g]);a=h.useMemo(function(){return{surface:"search",surfaceGraphQL:"SEARCH",surfaceGraphQL_legacy:"search"}},[]);e=h.useReducer(b("SearchCometFiltersContext").reducer,b("SearchCometFiltersContext").reducer({context:s}));f=e[0];var t=e[1];h.useEffect(function(){t(babelHelpers["extends"]({type:"UPDATE_CONTEXT"},s))},[s]);e=b("useEventActionLoggerParams")({mechanism:"search_results",surface:"search"});e[0];e=e[1];var u=h.useState({}),v=u[0];u=u[1];var w=h.useMemo(function(){return{isResponsive:Boolean(d)}},[d]);return h.jsx(b("CometErrorProjectContext").Provider,{value:"search",children:h.jsx(b("EventCometActionContext").Provider,{value:e,children:h.jsx(b("SearchCometResultsQueryContext").SearchCometResultsQueryContextProvider,{context:n,children:h.jsx(b("SearchCometResultsResultContext").SearchCometResultsResultContextProvider,{sessionID:k,children:h.jsx(b("SearchCometSerpPerfContext").Provider,{value:v,children:h.jsx(b("SearchCometSerpSetPerfContext").Provider,{value:u,children:h.jsx(b("SearchCometFiltersContext").SearchCometFiltersContextProvider,{dispatch:t,state:f,children:h.jsx(b("CometSaveLoggingContext").Provider,{value:a,children:h.jsx(b("SearchCometResultsUIContext").Provider,{value:w,children:c})})})})})})})})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventData=function(a){this.$1.event_data=a;return this};return a}();c={event:!0,event_data:!0};e.exports=a}),null);
__d("requestIdleCallbackComet",["IdleCallbackImplementation"],(function(a,b,c,d,e,f){"use strict";e.exports=c;var g=a.requestIdleCallback||b("IdleCallbackImplementation").requestIdleCallback;function c(b,c){return g.call(a,b,c)}}),null);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",THREAD_INFO_MISSING:"thread_info_missing",SET_THREAD_ID_MAP:"set_thread_id_map",DELETE_THREAD:"delete_thread",PROCESS_DELTA:"process_delta",RTI_SESSION:"chatproxy_rti_session",ON_INVALID_HISTORY:"chatproxy_on_invalid_history",GET_DEBUG_PRESENCE:"chatproxy_get_debug_presence"});e.exports=a}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";f.logERROR=a;f.logCHANNEL_DISCONNECT=c;f.logCHANNEL_CONNECT=d;f.logCHANNEL_HISTORY_INVALID=e;f.logMESSAGE_RECEIVED=h;f.logMESSAGE_SEND_START=i;f.logCHANNEL_STALLED=j;f.logCHANNEL_INIT=k;f.logCHANNEL_NOCONFIG=l;f.logDFF_DELTA_INIT=m;f.logDFF_HOLE_INIT=n;f.logFETCHING_MANY_MESSAGES=o;f.logPROCESS_DELTA=p;f.logTHREAD_INFO_MISSING=q;f.logSET_THREAD_ID_MAP=r;f.logDELETE_THREAD=s;f.logCHATPROXY_EVENT=t;var g=function(a,c){if(!b("gkx")("678576"))return;new(b("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(c).log()};function a(a){g(b("ChatReliabilityEvents").ERROR,a)}function c(a){g(b("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)}function d(a){g(b("ChatReliabilityEvents").CHANNEL_CONNECT,a)}function e(a){g(b("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)}function h(a){g(b("ChatReliabilityEvents").MESSAGE_RECEIVED,a)}function i(a){g(b("ChatReliabilityEvents").MESSAGE_SEND_START,a)}function j(a){g(b("ChatReliabilityEvents").CHANNEL_STALLED,a)}function k(a){g(b("ChatReliabilityEvents").CHANNEL_INIT,a)}function l(a){g(b("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)}function m(a){g(b("ChatReliabilityEvents").DFF_DELTA_INIT,a)}function n(a){g(b("ChatReliabilityEvents").DFF_HOLE_INIT,a)}function o(a){g(b("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)}function p(a){g(b("ChatReliabilityEvents").PROCESS_DELTA,a)}function q(a){g(b("ChatReliabilityEvents").THREAD_INFO_MISSING,a)}function r(a){g(b("ChatReliabilityEvents").SET_THREAD_ID_MAP,a)}function s(a){g(b("ChatReliabilityEvents").DELETE_THREAD,a)}function t(a){g(a)}}),null);
__d("MessengerThreadFetchLoggerUtil",["FBLogger","MercuryIDs","QuickPerformanceLogger","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h=1,i=new Map();a=function(a){try{b("QuickPerformanceLogger").markerStart(25296904,h);a=b("MercuryIDs").isValid(a)?b("MercuryIDs").tokenize(a).value:a;i.set(a,h);h++}catch(a){b("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}};f.markerStart=a;c=function(a,c){try{a=b("MercuryIDs").isValid(a)?b("MercuryIDs").tokenize(a).value:a;var d=i.get(a);d!=null&&(b("QuickPerformanceLogger").markerEnd(25296904,c,d),i["delete"](a))}catch(a){b("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}};f.markerEnd=c;d=function(a,c,d){d===void 0&&(d=(g||(g=b("performanceAbsoluteNow")))());a=i.get(a);a!=null&&b("QuickPerformanceLogger").markerPoint(25296904,c,{instanceKey:a,timestamp:d})};f.markerPoint=d}),null);
__d("MessengerThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"5707189082654423"};b.getQueryID=function(){return"134044808771098"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerGraphQLThreadFetcher.bs",["ChatReliabilityInstrumentation","MercuryServerRequestsConfig","MessengerServerPayloadTransformer.bs","MessengerThreadFetchLoggerUtil","MessengerThreadsWebGraphQLQuery","ODS","Promise","WebGraphQL","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_js_null_undefined","bs_pervasives","gkx"],(function(a,b,c,d,e,f){"use strict";var g={contents:!0};function h(a,c,d,e,f){if(a==null)if(e)return{actions:null,thread:void 0,end_of_history:{type:"user",fbid:c},roger:null,delivery_receipts:[]};else return{actions:null,thread:void 0,end_of_history:void 0,roger:null,delivery_receipts:[]};e=[];var g=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),h=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a);g=h==null?g==null?b("bs_pervasives").failwith("No thread ID"):g:h;g!==c&&b("bs_pervasives").failwith("Thread ID mismatch");h=b("MessengerServerPayloadTransformer.bs").transformThread(d,a,f);g=b("bs_js_null_undefined").fromOption(b("MessengerServerPayloadTransformer.bs").transformMessages(d,a,f));f=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(d,a);if(f!==void 0){d={};d[c]=b("bs_caml_option").valFromOption(f);f=d}else f=null;d=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(d.length>=1){d=b("bs_caml_array").get(d,0);h.is_canonical?e.push({other_user_fbid:c,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)}):e.push({other_user_fbid:null,thread_fbid:c,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)})}d=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);if(d!==void 0)if(b("bs_caml_option").valFromOption(d).has_previous_page)return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:{type:"thread",fbid:c},roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e}}function i(a){b("MessengerThreadFetchLoggerUtil").markerPoint(a.id,"sendThreadInfoFetchRequest");return new(b("MessengerThreadsWebGraphQLQuery"))({id:a.id,message_limit:a.limit,load_messages:a.limit>0,load_read_receipts:a.loadReadReceipts,load_delivery_receipts:a.loadDeliveryReceipts,before:a.timestamp,is_work_teamwork_not_putting_muted_in_unreads:b("gkx")("1105011"),threadlistViewFieldsOnly:b("gkx")("1950744")})}var j=b("bs_caml_exceptions").create("MessengerGraphQLThreadFetcher.SessionLoggedOut");function a(a,c,d){if(!g.contents)return b("Promise").reject({RE_EXN_ID:j});var e=c.map(i);return b("Promise").all(b("WebGraphQL").execAll(e,{actorID:d?a:null,batchName:"MessengerGraphQLThreadFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){var d;try{d=b("bs_caml_array").get(a.errors,0).should_end_session}catch(a){d=!1}d&&(g.contents=!1);b("ODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.failure");c.forEach(function(a){b("MessengerThreadFetchLoggerUtil").markerEnd(a.id,"FAIL")});b("ChatReliabilityInstrumentation").logERROR("fetch_thread_fail");return b("Promise").reject(a)}).then(function(e){b("ODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.success");return e.map(function(e,f){e=e.message_thread;f=b("bs_caml_array").get(c,f);b("MessengerThreadFetchLoggerUtil").markerPoint(f.id,"getThreadInfoFetchResponse");return h(e,f.id,a,f.isCanonical,d)})})}f.canMakeRequests=g;f._transformPayload=h;f._getQuery=i;f.SessionLoggedOut=j;f.fetchAll=a}),null);
__d("InlineBlock.react",["cx","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react"),j={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.alignv,d=a.height,e=a.fullWidth;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignv","height","fullWidth"]);c=j[c];e="_6a"+(e?" _5u5j":"");var f=b("joinClasses")(e,c);if(d!=null){c=i.jsx("div",{className:b("joinClasses")("_6a",c),style:{height:d+"px"}});return i.jsxs("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),height:null,children:[c,i.jsx("div",{className:f,children:this.props.children})]}))}else return i.jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f),children:this.props.children}))};return c}(i.Component);a.propTypes={alignv:b("prop-types").oneOf(["baseline","bottom","middle","top"]),height:b("prop-types").number,fullWidth:b("prop-types").bool};a.defaultProps={alignv:"baseline",fullWidth:!1};e.exports=a}),null);
__d("PhotoResizeModeConst",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTAIN:"s",COVER:"p"});e.exports=a}),null);
__d("requestIdleCallback",["cr:694370"],(function(a,b,c,d,e,f){a=b("cr:694370");e.exports=a}),null);
__d("AFXDialogScreenLoadingOverlay.react",["CometProgressIndicator.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsx("div",{className:"kavbgo14 kr520xx4 j9ispegn pmk7jnqg taijpn5t n7fi1qx3 j83agx80 i09qtzwb l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 ms7hmo2b bp9cbjyn",children:h.jsx(b("CometProgressIndicator.react"),{})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("UfixIxtGatewayScreenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2014543");c=b("FalcoLoggerInternal").create("ufix_ixt_gateway_screen",a);e.exports=c}),null);
__d("UfixGatewayLoggingUtils",["UfixIxtGatewayScreenFalcoEvent"],(function(a,b,c,d,e,f){"use strict";f.logAction=a;function a(a,c,d){b("UfixIxtGatewayScreenFalcoEvent").log(function(){return{core:{event_source:"gateway",event_step:"client_action",session_id:a},gateway_screen:{element_clicked:d},ixt_screen:{screen:c}}})}}),null);
__d("AFXCometBaseScreen.react",["fbt","ix","AFXDialogScreenLoadingOverlay.react","AFXFlowTypeContext","CometCardedDialog.react","CometControlledUserBlockingDialog.react","CometTextWithEntitiesRelay.react","TetraButton.react","TetraCircleButton.react","TetraText.react","UfixGatewayLoggingUtils","fbicon","react","useAFXFlowDissapearMutation","useCometIXTNextMutation"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function k(a){return j.jsxs("div",{className:"c4gti1a8 pgkez1eu i1fnvgqd btwxx1t3 j83agx80 linmgsc8 bp9cbjyn",children:[a.icon!=null?j.jsxs("div",{className:"dhix69tm",children:[" ",a.icon," "]}):null,j.jsx("div",{className:"dhix69tm oygrvhab wkznzc2l kvgmc6g5",children:a.heading?j.jsx(b("TetraText.react"),{type:"headlineEmphasized3",children:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:a.heading})}):null}),j.jsx("div",{className:"f9o22wc5 wkznzc2l",children:j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(h("478233"),20),label:g._("Fermer"),onPress:a.onClose,size:36})})]})}k.displayName=k.name+" [from "+e.id+"]";function l(a){var c=null;a.buttonLabel!=null&&(a.onButtonClick!=null||a.buttonLinkProps!=null)&&(c=j.jsx("div",{className:"ozuftl9m",children:j.jsx(b("TetraButton.react"),{label:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:a.buttonLabel}),linkProps:a.buttonLinkProps,onPress:a.onButtonClick,size:"large",type:"secondary"})}));return c}function m(a){var c=j.jsx(l,{buttonLabel:a.secondaryButtonLabel,buttonLinkProps:a.secondaryButtonLinkProps,onButtonClick:a.onSecondaryButtonClick}),d=j.jsx(l,{buttonLabel:a.thirdButtonLabel,buttonLinkProps:a.thirdButtonLinkProps,onButtonClick:a.onThirdButtonClick}),e=a.primaryButtonLabel!==null?j.jsx("div",{className:"ozuftl9m",children:j.jsx(b("TetraButton.react"),{disabled:a.primaryButtonDisabled,label:a.primaryButtonLabel?j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:a.primaryButtonLabel}):null,linkProps:a.primaryButtonLinkProps,onPress:a.onPrimaryButtonClick,size:"large"})}):null;return j.jsx("div",{className:"bkfpd7mw j83agx80"+(a.showFooterBorder?" opwvks06":""),children:j.jsxs("div",{className:"dhix69tm sjgh65i0 wkznzc2l tr9rh885 btwxx1t3 j83agx80",children:[d,c,e]})})}m.displayName=m.name+" [from "+e.id+"]";function a(a){var c=b("useAFXFlowDissapearMutation")(),d=b("useCometIXTNextMutation")(),e=j.useContext(b("AFXFlowTypeContext").AFXFlowTypeContext),f=j.useState(!1),g=f[0],h=f[1];f=a.showLoadingState===!0||g;g=a.onClose!=null?a.onClose:function(){h(!0),a.ixtDismissDataRequest!=null?d(a.ixtDismissDataRequest):c(a.screen_props)};var i=function(b,c){return p(b,a.sessionID,a.screenType,c)};f=j.jsxs("div",{className:"ib6112jz lcegr59a i1fnvgqd cbu4d94t j83agx80",children:[j.jsx(k,{heading:a.heading,icon:a.icon,onClose:g}),j.jsx("div",{className:"aodizinl ihqw7lf3 eg9m0zos dhix69tm oygrvhab wkznzc2l kvgmc6g5 cbu4d94t j83agx80 ll8tlv6m",children:a.children}),f&&j.jsx(b("AFXDialogScreenLoadingOverlay.react"),{}),j.jsx(m,{onPrimaryButtonClick:function(){return i(a.onPrimaryButtonClick,a.primaryButtonLoggingLabel)},onSecondaryButtonClick:function(){return i(a.onSecondaryButtonClick,a.secondaryButtonLoggingLabel)},onThirdButtonClick:function(){return i(a.onThirdButtonClick,a.thirdButtonLoggingLabel)},primaryButtonDisabled:a.primaryButtonDisabled,primaryButtonLabel:a.primaryButtonLabel,primaryButtonLinkProps:a.primaryButtonLinkProps,secondaryButtonLabel:a.secondaryButtonLabel,secondaryButtonLinkProps:a.secondaryButtonLinkProps,showFooterBorder:a.showFooterBorder,thirdButtonLabel:a.thirdButtonLabel,thirdButtonLinkProps:a.thirdButtonLinkProps})]});return e===b("AFXFlowTypeContext").AFXFlowType.GATEWAY?n(f,g):o(f,g)}a.displayName=a.name+" [from "+e.id+"]";function n(a,c){return j.jsx(b("CometControlledUserBlockingDialog.react"),{onDismiss:c,size:"content",children:a})}n.displayName=n.name+" [from "+e.id+"]";function o(a,c){return j.jsx(b("CometCardedDialog.react"),{onClose:c,size:"content",children:a})}o.displayName=o.name+" [from "+e.id+"]";function p(a,c,d,e){a!=null&&a(),e!=null&&c!=null&&d!=null&&b("UfixGatewayLoggingUtils").logAction(c,d,e)}}),null);
__d("CometPulsePressable.react",["CometPressable.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={positive:{backgroundColor:"jllm4f4h"},primary:{backgroundColor:"s1i5eluu"}},k={pulse:{animationIterationCount:"ee40wjg4",animationName:"q6qhlgob",animationTimingFunction:"a5zjgiyk",backgroundColor:"s1i5eluu",borderTopStartRadius:"qavdm89g",borderTopEndRadius:"gsh9l1b6",borderBottomEndRadius:"lwukve8w",borderBottomStartRadius:"jpyiy761",height:"t6na6p9t",position:"pmk7jnqg",transform:"g3zh7qmp",transitionDuration:"ms05siws",transitionProperty:"flx89l3n",transitionTimingFunction:"heur4gxb",width:"c9rrlmt1"},pulseOne:{animationDuration:"jxa0bdb2"},pulseTwo:{animationDelay:"bp95nads",animationDuration:"jxa0bdb2"},pulseZeroHovered:{transform:"kjcj55uu"},wrapper:{display:"j83agx80",height:"do00u71z",transform:"p8redwq5",width:"ttbfdpzt"}};a=i.forwardRef(function(a,c){var d=a.pulseColor,e=d===void 0?"primary":d;d=babelHelpers.objectWithoutPropertiesLoose(a,["pulseColor"]);return i.jsx("span",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("CometPressable.react"),babelHelpers["extends"]({ref:c},d,{xstyle:d.xstyle,children:function(a){a=a.hovered;return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:(h||(h=b("stylex")))(k.pulse,a&&k.pulseZeroHovered,j[e])}),i.jsx("span",{className:h(k.pulse,k.pulseOne,j[e])}),i.jsx("span",{className:h(k.pulse,k.pulseTwo,j[e])})]})}}))})});e.exports=a}),null);
__d("CometPulse.react",["CometContextualLayer.react","CometPulsePressable.react","react","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.contextualLayerProps,d=a.pulseProps;a=a.targetRef;var e=b("useCometDisplayTimingTrackerForInteraction")("pulse-mount");return a==null||c==null?null:h.jsx(b("CometContextualLayer.react"),{align:c.align,contextRef:a,disableAutoAlign:c.disableAutoAlign,disableAutoFlip:c.disableAutoFlip,position:c.position,ref:e,children:h.jsx(b("CometPulsePressable.react"),babelHelpers["extends"]({},d))})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("useCometPulseBase",["CometPulse.react","react","useMergeRefs"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.additionalPulseProps,d=a.calloutRef,e=a.contextualLayerProps;a=a.shouldShowPulse;var f=h.useRef(null);d=b("useMergeRefs")(d,f);return{targetRef:d,view:a?h.jsx(b("CometPulse.react"),{contextualLayerProps:e,pulseProps:c,targetRef:f}):null}}}),null);
__d("useCometPulseBaseProps",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var b=a.calloutProps,c=a.pulseProps;a=h.useState(!1);var d=a[0],e=a[1];a=h.useState(!0);var f=a[0],g=a[1];a=babelHelpers["extends"]({},b,{onClose:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b==null?void 0:b.onClose==null?void 0:b.onClose.apply(b,c);e(!1);g(!1)}});var i=babelHelpers["extends"]({},c,{onPress:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];c==null?void 0:c.onPress==null?void 0:c.onPress.apply(c,b);e(!0);g(!1)}});return[f,i,[a,d]]}}),null);
__d("useCometPulse",["useCometCallout","useCometPulseBase","useCometPulseBaseProps"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.calloutProps,d=a.contextualLayerProps;a=a.pulseProps;c=b("useCometPulseBaseProps")({calloutProps:c,pulseProps:a});a=c[0];var e=c[1];c=c[2];c=b("useCometCallout").apply(void 0,c);return b("useCometPulseBase")({additionalPulseProps:e,calloutRef:c,contextualLayerProps:d,shouldShowPulse:a})}}),null);
__d("CometCard.react",["cr:1798173","react"],(function(a,b,c,d,e,f){"use strict";var g;g||b("react");e.exports=b("cr:1798173")}),null);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(){};function a(){return[null,g]}}),null);
__d("XCometStoriesCreateControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/stories/create/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("MWLSThreadHasMessages.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"messages").asc,{hd:d,tl:0})},[c,d])))}f.useThreadHasMessages=a}),null);
__d("MWUILoadThreadPicture.bs",["cr:605"],(function(a,b,c,d,e,f){"use strict";a=b("cr:605").useHook;f.useHook=a}),null);
__d("JsDictReadOnly.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.keys(a)}function c(a){return a}d=b("bs_js_dict").get;e=b("bs_js_dict").entries;b=b("bs_js_dict").values;f.from=c;f.get=d;f.keys=a;f.entries=e;f.values=b}),null);
__d("WorkplaceMSThreadTitle.bs",["CurrentUser","JsDictReadOnly.bs","MercuryIDs","MercuryParticipantListRenderer","bs_belt_Array","bs_caml_option","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function g(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=a[1]});return c}function h(a,c,d,e,f){if(a!=="")return a;a=g(d);return new(b("MercuryParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(c)}function i(a,c){if(a!==void 0)return[b("bs_caml_option").valFromOption(a)];else{var d=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());a=b("JsDictReadOnly.bs").keys(c);var e=a.length;return b("bs_belt_Array").keepMap(a,function(a){if(a===d&&e!==1)return;else{a=b("JsDictReadOnly.bs").get(c,a);if(a!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).image_src);else return}})}}function a(a,c){return i(a,b("JsDictReadOnly.bs").from(c))}function j(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()),f=b("JsDictReadOnly.bs").keys(c).length,g=b("bs_belt_Array").keepMap(b("JsDictReadOnly.bs").keys(c),function(a){if(a===e&&f>1)return;a=b("JsDictReadOnly.bs").get(c,a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);return{id:a.id,name:a.name,short_name:a.short_name}});return h(a,g,d,!0,!0)}function c(a,c,d){return j(a,b("JsDictReadOnly.bs").from(c),d)}function k(a,c,d){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c===void 0)return;a=b("bs_caml_option").valFromOption(c);return h("",[{id:a.id,name:a.name,short_name:a.short_name}],d,!1,!1)}function d(a,c,d){return k(a,b("JsDictReadOnly.bs").from(c),d)}function l(a,c){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c!==void 0)return b("bs_caml_option").some(b("bs_caml_option").valFromOption(c).name)}function e(a,c){return l(a,b("JsDictReadOnly.bs").from(c))}f.getProfileImages_=i;f.getProfileImages=a;f.getTitleForGroup_=j;f.getTitleForGroup=c;f.getTitleForUser_=k;f.getTitleForUser=d;f.getTitleForPage_=l;f.getTitleForPage=e}),null);
__d("MWChatTitleHooks.bs",["JsDictReadOnly.bs","WorkplaceMSThreadTitle.bs","bs_belt_Option","bs_caml_option","bs_curry","bs_js_dict","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){return b("WorkplaceMSThreadTitle.bs").getProfileImages_(c,b("JsDictReadOnly.bs").from(a))}function c(a){var c=h.useState(function(){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)}),{})}),d=c[1],e=c[0],f=b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)});h.useEffect(function(){if(f!==void 0){var a=b("bs_caml_option").valFromOption(f);b("bs_curry")._1(d,function(b){return a})}return function(a){}},[f,d]);c=h.useCallback(function(a){return function(c){var f=b("bs_js_dict").get(e,a),g=b("bs_js_dict").map(function(a){return a},e);c!==void 0&&c!==""?g[a]=c:b("bs_js_dict").unsafeDeleteKey(g,a);b("bs_curry")._1(d,function(a){return g});return f}},[e,d]);return[e,c]}f.useImages=a;f.useNicknames=c}),null);
__d("WorkplaceMSLoadParticipants.bs",["CurrentUser","MWChatParticipantsHook.bs","MWChatThreadId.bs","MWChatTitleHooks.bs","MessengerState.bs","bs_belt_Map","bs_belt_Option","bs_caml_option","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));a=b("MWChatParticipantsHook.bs").useParticipants(a);c=b("MWChatTitleHooks.bs").useNicknames(c);return[a,c[0],c[1]]}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).admins:{};c=g(a);var e=c[1];a=b("bs_js_dict").values(c[0]);var f=new Map();a.forEach(function(a){var c=a.fbid,g=b("bs_js_dict").get(e,c);c=b("bs_js_dict").get(d,c);var h=a.fbid,i=b("bs_belt_Option").getWithDefault(g,a.short_name),j=a.name,k=b("bs_caml_option").nullable_to_opt(a.href),l=b("bs_caml_option").nullable_to_opt(a.image_src),m=a.is_friend;c=b("bs_belt_Option").isSome(c);var n=b("bs_caml_option").nullable_to_opt(a.title);h={contactId:h,name:i,actualName:j,nickname:g,profileUrl:k,profilePictureUrl:l,isContact:m,isAdmin:c,jobTitle:n};f.set(a.fbid,h)});return f}f.useMercuryParticipants=g;f.useParticipants=a}),null);
__d("InternalOnlyLSWorkChatStatus.bs",["MWLSActor.bs","MWLSParticipant.bs","MWLSThreadHasMessages.bs","MWLSThreadHasMoreMessages.bs","MWLSThreadTitle.bs","MWThreadKey.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReStore.bs","SkytaleDB","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0})},[c,JSON.stringify(d)]));var e=b("MWLSThreadHasMoreMessages.bs").useThreadHasMoreMessages(void 0),f=b("MWLSThreadHasMessages.bs").useThreadHasMessages(void 0);f=f||!e;e=90*24*3600*1e3;e=Date.now()-e;if(a!==void 0&&f)return b("bs_caml_int64").to_float(a.i)<e;else return!1}function c(a){return b("bs_int64").to_string(b("MWThreadKey.bs").useIdMemoizedExn(void 0))}function d(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWLSActor.bs").useActor(void 0);var e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("MWLSParticipant.bs").getAllInOpenThread(c,b("SkytaleDB").table(c,"contacts").asc,d)},[c,JSON.stringify(d)]));return b("MWLSThreadTitle.bs").make(void 0,a,e,b("MessagingThreadType.bs").oneToOne)}f.useShouldShowSupportGroups=a;f.useThreadID=c;f.useThreadName=d}),null);
__d("InternalOnlyWorkChatSupportGroupsQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"recipient_id"}],b=[{alias:null,args:[{kind:"Variable",name:"recipient_id",variableName:"recipient_id"}],concreteType:"Group",kind:"LinkedField",name:"balance_bot_work_chat_support_groups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"InternalOnlyWorkChatSupportGroupsQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"InternalOnlyWorkChatSupportGroupsQuery",selections:b},params:{id:"3870922522937883",metadata:{},name:"InternalOnlyWorkChatSupportGroupsQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("InternalOnlyWorkChatComposerExtrasFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1807881");c=b("FalcoLoggerInternal").create("internal_only_work_chat_composer_extras",a);e.exports=c}),null);
__d("InternalOnlyWorkChatSupportGroups.react",["ix","InternalOnlyWorkChatComposerExtrasFalcoEvent","InternalOnlyWorkChatSupportGroupsQuery.graphql","RelayHooks","WIGCard.react","WIGCircleButton.react","WIGLink.react","WIGPivotLink.react","WIGPivotLinkPile.react","WIGText.react","WorkGalahadPlaceholder.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k="https://www.internalfb.com/?showStatusSettings=1",l=h!==void 0?h:h=b("InternalOnlyWorkChatSupportGroupsQuery.graphql"),m="support_groups_card",n=m+"_group",o=m+"_close";function p(a){var c=a.recipientId;a=j.useState(!0);var d=a[0],e=a[1];j.useEffect(function(){b("InternalOnlyWorkChatComposerExtrasFalcoEvent").log(function(){return{event_type:"load_start",event_target:m,recipient_id:c}})},[c]);a=b("RelayHooks").useLazyLoadQuery(l,{recipient_id:c});var f=((a=a.balance_bot_work_chat_support_groups)!=null?a:[]).filter(Boolean),h=j.useRef(!1);j.useEffect(function(){if(h.current===!0||f.length===0)return;h.current=!0;b("InternalOnlyWorkChatComposerExtrasFalcoEvent").log(function(){return{event_type:"impression",event_target:m,extra_info:{groups:f.map(function(a){return a.id!=null?a.id:null}).filter(Boolean).join(","),num_groups:""+f.length},recipient_id:c}})},[f,c]);a=j.useCallback(function(){e(!1),b("InternalOnlyWorkChatComposerExtrasFalcoEvent").log(function(){return{event_type:"click",event_target:o,extra_info:{groups:f.map(function(a){return a.id!=null?a.id:null}).filter(Boolean).join(","),num_groups:""+f.length},recipient_id:c}})},[f,c]);return f.length===0||!d?null:j.jsx("div",{className:"o4j3uhnm f6j2ti5c nabn9mys gzdapie8",children:j.jsx(b("WIGCard.react"),{children:j.jsxs("div",{className:"qtfl775m gqhbj7gz swd5j3bo ncwazxtw",children:[j.jsxs("div",{className:"mu99tzkh",children:[j.jsx("div",{className:"ewe7nd7x kqlegusg ftjbd6cl",children:j.jsx(b("WIGText.react"),{type:"body3",children:"If you need support, consider posting in one of the following groups for better visibility."})}),j.jsx("div",{className:"cqsmvmpy f0w9ysip o0foh442",children:j.jsx(b("WIGCircleButton.react"),{icon:b("fbicon")._(g("478231"),12),label:"Hide Support Groups",onPress:a,size:24})})]}),j.jsx(b("WIGPivotLinkPile.react"),{isFullWidth:!0,children:f.map(function(a,d){return a.name!=null?j.jsx(b("WIGPivotLink.react"),{label:a.name,linkProps:{url:a.url},onPress:function(){b("InternalOnlyWorkChatComposerExtrasFalcoEvent").log(function(){return{event_type:"click",event_target:n,extra_info:{id:a.id,index:String(d)},recipient_id:c}})}},a.id):null}).filter(Boolean)}),j.jsx("br",{}),j.jsxs(b("WIGText.react"),{type:"meta1",children:["You can update your own support group suggestions in your"," ",j.jsx(b("WIGLink.react"),{href:k,target:"_blank",children:"settings"}),"."]})]})})})}p.displayName=p.name+" [from "+e.id+"]";function a(a){return j.jsx(b("WorkGalahadPlaceholder.react"),{fallback:null,children:j.jsx(p,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("InternalOnlyWorkChatComposerExtras.react",["InternalOnlyWorkChatSupportGroups.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.recipientId;a=a.willShowSupportGroups;a=a===void 0?!1:a;return h.jsx(h.Fragment,{children:a&&c!=null&&h.jsx(b("InternalOnlyWorkChatSupportGroups.react"),{recipientId:c})})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("InternalOnlyWorkChatComposerExtrasReact.bs",["InternalOnlyWorkChatComposerExtras.react"],(function(a,b,c,d,e,f){"use strict";a=b("InternalOnlyWorkChatComposerExtras.react");f.make=a}),null);
__d("InternalOnlyWorkChatStatus.bs",["cr:1775406"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1775406")).useShouldShowSupportGroups;d=a.useThreadID;e=a.useThreadName;f.$InternalOnlyLSWorkChatStatus$OR$InternalOnlyMSWorkChatStatus$requireCond=a;f.useShouldShowSupportGroups=c;f.useThreadID=d;f.useThreadName=e}),null);
__d("InternalOnlyWorkChatComposerExtras.bs",["InternalOnlyWorkChatComposerExtrasReact.bs","InternalOnlyWorkChatStatus.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("bs_curry")._1(b("InternalOnlyWorkChatStatus.bs").useThreadID,void 0);var c=b("bs_curry")._1(b("InternalOnlyWorkChatStatus.bs").useShouldShowSupportGroups,void 0);return h.jsx(b("InternalOnlyWorkChatComposerExtrasReact.bs").make,{recipientId:a,willShowSupportGroups:c})}c=a;f.make=c}),null);
__d("TetraPillBase.react",["CometBadge.react","TetraIcon.react","TetraProfilePhoto.react","TetraText.react","react"],(function(a,b,c,d,e,f){"use strict";f.TetraPillBase=a;var g,h=g||b("react");function a(a){var c=a.color,d=a.disabled;d=d===void 0?!1:d;var e=a.hasNewContentBadge;e=e===void 0?!1:e;var f=a.image,g=a.imagePlacement;g=g===void 0?"left":g;var i=a.label,j=a.labelIsHidden;j=j===void 0?!1:j;var k=a.newContentBadgeSize;k=k===void 0?6:k;a=a.selected;a=a===void 0?!1:a;var l=null;e&&(l=h.jsx("div",{className:"kr520xx4 pmk7jnqg stjgntxs ni8dbmo4 yftcgz6f j83agx80 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:h.jsx(b("CometBadge.react"),{border:"white",color:d?"gray":"blue",isProfileBadge:!0,size:k})}));e=c?c:d?"disabled":a===!0?"highlight":"primary";k=null;f!=null&&(f.type==="icon"?k=h.jsx("div",{className:"gl3lb2sf j83agx80"+(!j&&g==="left"?" fv0vnmcu":"")+(!j&&g==="right"?" ggphbty4":""),children:h.jsx(b("TetraIcon.react"),{color:e,icon:f.icon,size:16})}):f.type==="profile-photo"&&f.source!=null&&(k=h.jsx("div",{className:"fop5sh7t fv0vnmcu j83agx80"+(d?" akz8cqyu":""),children:h.jsx(b("TetraProfilePhoto.react"),{shape:"circle",size:28,source:f.source})})));c=g==="left"?k:null;a=g==="right"?k:null;d=j?null:h.jsx(b("TetraText.react"),{color:e,numberOfLines:1,type:"button2",children:i});return h.jsxs(h.Fragment,{children:[l,c,d,a]})}a.displayName=a.name+" [from "+e.id+"]"}),null);
__d("TetraPillBaseStyles",[],(function(a,b,c,d,e,f){"use strict";a=36;f.PIVOT_HEIGHT=a;b={pressed:{transform:"mtfd0dr2"},root:{alignItems:"bp9cbjyn",backgroundColor:"tdjehn4e",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",display:"j83agx80",flexDirection:"btwxx1t3",height:"tv7at329",justifyContent:"taijpn5t",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",position:"l9j0dhe7",width:"k4urcfbm"},selected:{backgroundColor:"oo1teu6h"}};f.pillStyles=b}),null);
__d("TetraPivotLink.react",["CometPressable.react","TetraPillBase.react","TetraPillBaseStyles","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={deemphasized:{backgroundColor:"g5ia77u1"},normal:{backgroundColor:"tdjehn4e"}},j={selectedOnWashBackground:{backgroundColor:"i224opu6"}};function a(a,c){var d=a.ariaCurrentType;d=d===void 0?"page":d;a.hitSlop;var e=a.linkProps,f=a.onPress,g=a.onWashBackground,k=g===void 0?!1:g;g=a.testid;g=a.testOnly_pressed;var l=a.type,m=l===void 0?"normal":l;l=babelHelpers.objectWithoutPropertiesLoose(a,["ariaCurrentType","hitSlop","linkProps","onPress","onWashBackground","testid","testOnly_pressed","type"]);var n=(a=l.selected)!=null?a:!1;a=(a=l.disabled)!=null?a:!1;d=e?{"aria-current":n?d:void 0,"aria-label":l.label}:{"aria-label":l.label,"aria-pressed":n};return h.jsx(b("CometPressable.react"),babelHelpers["extends"]({},d,{disabled:a,display:"inline",linkProps:e,onPress:a?void 0:f,overlayRadius:b("TetraPillBaseStyles").PIVOT_HEIGHT/2,ref:c,testOnly_pressed:g,testid:void 0,xstyle:function(a){a=a.pressed;return[b("TetraPillBaseStyles").pillStyles.root,i[m],n===!0&&(k?j.selectedOnWashBackground:b("TetraPillBaseStyles").pillStyles.selected),a&&b("TetraPillBaseStyles").pillStyles.pressed]},children:h.jsx(b("TetraPillBase.react").TetraPillBase,babelHelpers["extends"]({},l))}))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("TetraUnit.react",["CometColumn.react","CometColumnItem.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={0:{paddingBottom:"qt6c0cv9"},8:{paddingBottom:"sj5x9vvc"},12:{paddingBottom:"f10w8fjw"},16:{paddingBottom:"ihqw7lf3"},20:{paddingBottom:"ofv0k9yr"}},j={primary:{backgroundColor:"cwj9ozl2"},transparent:{backgroundColor:"g5ia77u1"}};function a(a,c){var d=a.children,e=a.header,f=a.paddingBottom;f=f===void 0?20:f;var g=a.spacing;g=g===void 0?8:g;var k=a.type;k=k===void 0?"primary":k;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","header","paddingBottom","spacing","type"]);return h.jsxs(b("CometColumn.react"),babelHelpers["extends"]({},a,{ref:c,spacing:g,xstyle:[i[f],j[k]],children:[h.jsx(b("CometColumnItem.react"),{children:e}),h.jsx(b("CometColumnItem.react"),{children:d})]}))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||b("react");a=function(){function a(){var a=this;this.$6=function(c){var d=a.$5;if(d!=null){var e=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(e!=null&&d[e]!=null&&d[e]!=void 0)return d[e]}return a.$2?c.short_name:c.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var c=a.prototype;c.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return i(this.$1);case 1:return j(a);case 2:return this.$3?l(a):k(a);case 3:return this.$3?n(a):m(a);default:return this.$3?p(a,this.$4):o(a,this.$4)}};c.setIsNewThread=function(a){this.$1=a;return this};c.setNameRenderer=function(a){this.$6=a;return this};c.setUseShortName=function(a){this.$2=a;return this};c.setNickname=function(a){this.$5=a;return this};c.setUseAndSeparator=function(a){this.$3=a;return this};c.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();e.exports=a;function i(a){if(a)return g._("Nouveau message");else return g._("Aucun participant")}function j(a){return a[0]}j.displayName=j.name+" [from "+e.id+"]";function k(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}k.displayName=k.name+" [from "+e.id+"]";function l(a){return g._("{participant1} et {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}l.displayName=l.name+" [from "+e.id+"]";function m(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}m.displayName=m.name+" [from "+e.id+"]";function n(a){return g._("{participant1}, {participant2} et {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}n.displayName=n.name+" [from "+e.id+"]";function o(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",q((b||a.length)-3))])}o.displayName=o.name+" [from "+e.id+"]";function p(a,b){return g._("{participant1}, {participant2} et {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",q((b||a.length)-2))])}p.displayName=p.name+" [from "+e.id+"]";function q(a){if(a>1)return g._({"*":"{others_count} autres personnes"},[g._param("others_count",a,[0])]);else return g._("1 autre")}}),null);
__d("WIGCard.react",["CometCard.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){return h.jsx(b("CometCard.react"),babelHelpers["extends"]({},a,{ref:c}))}a.displayName=a.name+" [from "+e.id+"]";c=h.forwardRef(a);e.exports=c}),null);
__d("WIGPivotLinkPile.react",["TetraPivotLinkPile.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx(b("TetraPivotLinkPile.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+e.id+"]"}),null);